webpackJsonp([3],{"+dOf":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w100"},[t._l(t.comments,function(e,s){return i("div",{key:s,staticClass:"w100 border-b ptb25 plr30 bg-white"},[i("div",{staticClass:"w100 mt25 flex-wrp flex-align-center"},[i("img",{staticClass:"user-img mr10",attrs:{src:e.user.avatar?e.user.avatar:t.headImg[0].imgUrl}}),e.user.nickname?i("label",{staticClass:"size28 color48 bold"},[t._v(t._s(e.user.nickname))]):i("label",{staticClass:"size28 color48 bold"},[t._v(t._s(e.user.mobile))])]),i("div",{staticClass:"w100 mt25 size30 color48"},[t._v(t._s(e.content))]),i("div",{directives:[{name:"show",rawName:"v-show",value:!!e.pics&&e.pics.length,expression:"!item.pics ? false : item.pics.length"}],staticClass:"w100 mt25 flex-wrp flex-align-center flex-flow-row"},t._l(e.pics,function(s,a){return i("div",{key:a,staticClass:"comment-img",on:{click:function(i){return t.imagePreview(e.pics,a)}}},[i("img",{attrs:{src:s}})])}),0),i("div",{staticClass:"w100 mt25 flex-wrp flex-align-center"},[i("div",{staticClass:"size24 color44 flex2"},[t._v(t._s(e.create_at))]),i("div",{staticClass:"flex-wrp flex-align-center size28 text-right",class:[e.is_favorite?"color11":"color44"],on:{click:function(i){return t.like(e)}}},[e.is_favorite?i("i",{staticClass:"z z-praise ml20 mr10"}):i("i",{staticClass:"z z-praise-o ml20 mr10"}),t._v(t._s(e.like_num)+"\n            ")])])])}),i("load-more",{ref:"loadMore",attrs:{handler:t.fetchComments,noResult:"new",bgColor:"#ffffff",noMore:"new"}}),i("image-preview",{attrs:{isPreview:t.isPreview,initial:t.initial,images:t.imagePreviewArr},on:{imagePreview:t.closeImg}}),i("div",{staticClass:"replay-botton-container"},[i("nuxt-link",{attrs:{to:{path:"/add_comment",query:{shop_id:t.shopId}}},nativeOn:{click:function(e){return t.sensData("fm_shopClickAddComment")}}},[i("div",{staticClass:"replay-botton"},[t._v("写评论")])])],1),i("login",{ref:"loginref"})],2)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},"0dJS":function(t,e,i){"use strict";var s=i("Xxa5"),a=i.n(s),o=i("woOf"),n=i.n(o),r=i("exGp"),c=i.n(r),l=i("Dd8w"),d=i.n(l),h=i("jit6"),p=i("DHvs"),m=i("NYxO"),u=i("hxf6");e.a={props:{shopId:{type:Number,required:!0}},components:{ImagePreview:h.a,Login:u.a},data:function(){return{comments:[],isPreview:!1,imagePreviewArr:[],initial:0,loginFlag:!1}},computed:d()({},Object(m.mapState)({user:function(t){return t.user.info}})),mounted:function(){this.user.id&&(this.loginFlag=!0),this.fetchComments()},methods:{sensData:function(t){Object(p.l)(t)},fetchComments:function(){var t=c()(a.a.mark(function t(){var e,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.b.get("/comment/getList",n()({},{shop_id:this.shopId,comment_type:0,limit:5,offset:this.comments.length}));case 2:return e=t.sent,i=e.data,this.comments=this.comments.concat(i.comments||[]),t.abrupt("return",{length:this.comments.length,isMore:(i.comments||[]).length>0});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),imagePreview:function(t,e){this.imagePreviewArr=[],this.imagePreviewArr=t,this.initial=e,this.isPreview=!0},closeImg:function(){this.imagePreviewArr=[],this.initial=0,this.isPreview=!1},like:function(){var t=c()(a.a.mark(function t(e){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loginFlag||this.toLogin(),t.next=3,p.b.post("/v3/member/favorite",{type:"7",target_id:e.id});case 3:i=t.sent,2e5===i.data.code&&(e.is_favorite?--e.like_num:++e.like_num,e.is_favorite=!e.is_favorite);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),toLogin:function(){Object(p.i)()?this.getWeixinUser():this.$refs.loginref.Login("app")},getWeixinUser:function(){var t=location.href,e=t.indexOf("?"),i=t.substr(e+1);this.userInfoQry(i)},userInfoQry:function(){var t=c()(a.a.mark(function t(e){var i,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.b.get("/weixin/tools/wxLogin",{urlParam:e});case 2:i=t.sent,s=i.data,200===i.status&&"SUCCESS"===s.code&&this.$store.dispatch("user/getUser");case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},"2V1D":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".no-spefood-tip[data-v-512e63af]{height:2.5rem;line-height:2.5rem;text-align:center;font-size:.875rem;color:#999}.spefood-box[data-v-512e63af]{font-size:0;-webkit-overflow-scrolling:touch;width:100%;overflow-x:scroll}.w1000[data-v-512e63af]{width:-webkit-max-content;width:-moz-max-content;width:max-content}.spefood-box[data-v-512e63af]::-webkit-scrollbar{display:none}.spefood-slider[data-v-512e63af]{margin-right:.625rem;display:inline-block}.spefood-img[data-v-512e63af]{width:8.75rem;height:6.5625rem;border-radius:.3125rem;-webkit-box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.13);box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.13)}.spefood-name[data-v-512e63af]{font-size:.9375rem;color:#333;letter-spacing:0;text-align:center;width:100%;padding-top:.71875rem;padding-bottom:.71875rem}",""])},"2sEX":function(t,e,i){var s=i("cSsp");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("6a8bb9b0",s,!1,{sourceMap:!1})},"36XO":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pd30 bg-white"},[t.foods.length>0?i("div",{staticClass:"spefood-box"},[i("div",{staticClass:"w1000"},t._l(t.foods,function(e,s){return i("div",{key:s,staticClass:"spefood-slider"},[i("img",{staticClass:"spefood-img",attrs:{src:e.thumb}}),i("div",{staticClass:"spefood-name"},[t._v(t._s(e.name))])])}),0)]):i("no-result")],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},"3T1h":function(t,e,i){var s=i("AJBa");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("638a8219",s,!1,{sourceMap:!1})},"483V":function(t,e,i){var s=i("PUPS");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("013f8944",s,!1,{sourceMap:!1})},"589N":function(t,e,i){t.exports=i.p+"img/like_s.4293ea7.png"},"7SXK":function(t,e,i){"use strict";var s=i("q0dy"),a=i("OYHv"),o=!1;var n=function(t){o||i("7XvZ")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-a53d9ffe",null);r.options.__file="components/Shop/Share.vue",e.a=r.exports},"7XvZ":function(t,e,i){var s=i("xE+D");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("a431fe5c",s,!1,{sourceMap:!1})},AJBa:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".colore[data-v-5a417cc0]{color:#eee}",""])},AU6p:function(t,e,i){"use strict";var s=i("Ucg5"),a=i("d9rE"),o=!1;var n=function(t){o||i("cg+Q")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-159d6069",null);r.options.__file="components/Shop/Discount/GoodsItem.vue",e.a=r.exports},CRqM:function(t,e,i){var s=i("2V1D");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("2f34a28c",s,!1,{sourceMap:!1})},CuDY:function(t,e,i){"use strict";var s=i("DHvs");e.a={data:function(){return{wechat:!1}},mounted:function(){this.wechat=Object(s.i)()}}},D0Ar:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".color-reply-user[data-v-443328b8]{color:#477fb6;font-size:.875rem}.comment-img[data-v-443328b8]{width:6.5625rem;height:6.5625rem;margin-right:.625rem;margin-bottom:.625rem}.comment-img img[data-v-443328b8]{width:100%;height:100%;max-width:100%;max-height:100%}.user-img[data-v-443328b8]{width:1.875rem;height:1.875rem}.grep-line[data-v-443328b8]{background:#eee;width:100%;height:.125rem;margin-top:1.875rem;margin-bottom:1.25rem}.comment-section[data-v-443328b8]{border-bottom:.0625rem solid #eee}.replay-content[data-v-443328b8]{background:#f5f5f5;border-radius:.1875rem;padding:.625rem}.bottom-line-box[data-v-443328b8]{padding-top:.9375rem;padding-bottom:1.25rem}.bottom-line[data-v-443328b8]{height:.0625rem;background:#eee;-webkit-box-flex:2;-ms-flex:2;flex:2}.replay-botton-container[data-v-443328b8]{position:fixed;bottom:0;left:0;background:#fff;-webkit-box-shadow:0 -.0625rem 0 0 #eee;box-shadow:0 -.0625rem 0 0 #eee;padding:1.25rem .9375rem;width:100%}.replay-botton[data-v-443328b8]{border:.03125rem solid #f56d23;border-radius:.1875rem;height:2.4375rem;line-height:2.375rem;font-size:1.1875rem;color:#f56d23;width:100%;text-align:center}.flex2[data-v-443328b8]{-webkit-box-flex:2;-ms-flex:2;flex:2}",""])},DKNh:function(t,e,i){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return this.isPreview?e("div",[e("div",{directives:[{name:"swiper",rawName:"v-swiper:shopPhosSwiper",value:{initialSlide:this.initial},expression:"{initialSlide :this.initial}",arg:"shopPhosSwiper"}],staticClass:"preview-img-mask",on:{click:this.close}},[e("div",{staticClass:"swiper-wrapper"},this._l(this.images,function(t,i){return e("div",{key:i,staticClass:"swiper-slide overflow-hidden block"},[e("img",{staticClass:"block w100",attrs:{src:t}})])}),0)]),e("div",{staticClass:"preview-img-bg",on:{click:this.close}})]):this._e()};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},Ds5F:function(t,e,i){"use strict";var s=i("Dd8w"),a=i.n(s),o=i("Xxa5"),n=i.n(o),r=i("exGp"),c=i.n(r),l=i("DHvs"),d=i("NYxO");e.a={asyncData:function(){var t=c()(n.a.mark(function t(e){var i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={btnText:"登录",backUrl:e.query.url,loginParam:{},loginResponseData:{}},t.abrupt("return",i);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),computed:a()({},Object(d.mapState)({session:function(t){return t.session}})),mounted:function(){var t=this;window.loginForResponse=function(e,i,s,a){t.loginResponseData={type:"app",url:e,data:i,sign:s,avatar:a},t.getUserInfoForZyBank()},window.wechatLoginForResponse=function(e,i){t.loginResponseData={type:"wechat",data:e,sign:i},t.getUserInfoForZyBank()},window.onResponseError=function(){weui.toast("未正常登录,请重试")}},methods:{setUserCity:function(){var t=c()(n.a.mark(function t(e,i,s){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this,t.next=3,l.b.get("/zybank/loginLogs",{city_id:e,type:i,status:s});case 3:a=t.sent,a.data;case 5:case"end":return t.stop()}},t,this)}));return function(e,i,s){return t.apply(this,arguments)}}(),getUserInfoForZyBank:function(){var t=c()(n.a.mark(function t(){var e,i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.b.post("/zybank/setlogin",this.loginResponseData);case 2:if(e=t.sent,i=e.data,200!==e.status||"SUCCESS"!==i.code){t.next=13;break}return t.next=8,this.$store.dispatch("user/getUser");case 8:this.userinfo=this.$store.state.user.info,s=window.localStorage.getItem("current_city")?JSON.parse(window.localStorage.getItem("current_city")):{},this.setUserCity(s.city_id||"","0",s.status||"2"),t.next=14;break;case 13:weui.toast("登录失败");case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),Login:function(){var t=c()(n.a.mark(function t(e){var i,s,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=location.href,t.next=3,l.b.get("/zybank/prelogin",{url:i});case 3:s=t.sent,a=s.data,200===s.status&&"SUCCESS"===a.code&&(this.loginParam=a.data),t.t0=e,t.next="app"===t.t0?10:"wechat"===t.t0?12:14;break;case 10:return Object(l.d)()?window.demo.clickOnAndroid(this.loginParam.loginUrl,this.loginParam.crypted,this.loginParam.sign):Object(l.e)()&&(window.location.href="objc://loginBank:/,"+this.loginParam.loginUrl+","+this.loginParam.crypted+","+this.loginParam.sign),t.abrupt("break",14);case 12:return Object(l.d)()?window.demo.wechatLoginOnAndroid():Object(l.e)()&&(window.location.href="objc://wechatLogin:/"),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},F7sp:function(t,e,i){"use strict";var s=i("GM1R"),a=i("36XO"),o=!1;var n=function(t){o||i("CRqM")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-512e63af",null);r.options.__file="components/Shop/SpecialFoods/SpecialFoodsList.vue",e.a=r.exports},Fp2W:function(t,e,i){"use strict";e.a={props:{item:{type:Object,required:!0}}}},GM1R:function(t,e,i){"use strict";var s=i("Xxa5"),a=i.n(s),o=i("exGp"),n=i.n(o),r=i("Dd8w"),c=i.n(r),l=i("DHvs"),d=i("NYxO"),h=i("6GxD");e.a={props:{foods:{type:Array,required:!0},shopId:{type:Number,required:!0}},computed:c()({},Object(d.mapState)({session:function(t){return t.session},user:function(t){return t.user.info}})),components:{noResult:h.a},methods:{getSpecialDish:function(){var t=n()(a.a.mark(function t(e,i){var s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$router.push({path:"/specialdish",query:{id:this.shopId,num:i,sid:e.id}}),t.next=3,l.b.get("/shop/special_click_count",{id:e.id});case 3:s=t.sent,s.data,s.status,l.b.post("/statistics/point/one",{session_id:this.session.session_id,category:"visit",key:"page",value:"/specialdish?id="+this.shopId+"&num="+i+"&sid="+e.id}),this.user.id&&this.handleCountDishesClick({member_id:this.user.id,merchant_no:this.shopId,food_no:e.id});case 8:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}(),handleCountDishesClick:function(){var t=n()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.b.get("/dishes",c()({},e));case 2:t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},HxcG:function(t,e,i){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.wechat,expression:"wechat"}],staticClass:"cluster-icon"},[e("img",{attrs:{src:i("xb++")}})])};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},L8Vq:function(t,e,i){var s=i("QjDt");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("70abde03",s,!1,{sourceMap:!1})},Ldk8:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".login-bounce[data-v-01f91858]{width:17.5rem;height:14.6875rem}.login_img[data-v-01f91858]{width:3.125rem;height:3.125rem}",""])},Mh4T:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".cluster-icon[data-v-3645547d]{width:2.5rem;height:2.5rem;position:absolute;left:.9375rem;margin-top:-1.25rem}.cluster-icon img[data-v-3645547d]{width:100%;height:100%;max-width:100%;max-height:100%}",""])},OYHv:function(t,e,i){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"share-bg"},[e("i",{staticClass:"i i-share-o color1"})])};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},PMCr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("vfQN"),a=i("YifU"),o=!1;var n=function(t){o||i("2sEX")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-9dc197cc",null);r.options.__file="pages/shop/_id.vue",e.default=r.exports},PUPS:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".coupon-circle-l[data-v-14c7715c]{border-right:.03125rem solid rgba(245,109,35,.4);border-radius:0 .375rem .375rem 0;-webkit-transform:translateX(.375rem);transform:translateX(.375rem);margin-left:.5625rem}.coupon-circle-l[data-v-14c7715c],.coupon-circle-r[data-v-14c7715c]{width:.375rem;height:.75rem;margin-bottom:.78125rem;background:#fff;border-top:.03125rem solid rgba(245,109,35,.4);border-bottom:.03125rem solid rgba(245,109,35,.4)}.coupon-circle-r[data-v-14c7715c]{border-left:.03125rem solid rgba(245,109,35,.4);border-radius:.375rem 0 0 .375rem;-webkit-transform:translateX(-.375rem);transform:translateX(-.375rem);margin-right:.5625rem}.coupon-box[data-v-14c7715c]{background:#fef6f1;border:.03125rem solid rgba(245,109,35,.4);min-height:4.6875rem;-webkit-box-flex:1;-ms-flex:1;flex:1}.coupon-info[data-v-14c7715c]{height:3.375rem;-webkit-box-flex:2;-ms-flex:2;flex:2}.mh110[data-v-14c7715c]{min-height:3.125rem}.coupon-title-content[data-v-14c7715c]{font-size:1rem;color:#333;font-family:PingFangSC-Medium}.dis-price[data-v-14c7715c]{font-family:PingFangSC-Medium;font-size:1rem;color:#f56d23;letter-spacing:0}.his-price[data-v-14c7715c]{font-size:.75rem;color:#999;letter-spacing:0}.coupon-button[data-v-14c7715c]{width:2.8125rem;height:1.5rem;font-size:.75rem;color:#fff;text-align:center;background:#f56d23;border-radius:.75rem;border:none}",""])},QjDt:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".preview-img-bg[data-v-d204afc6]{position:fixed;left:0;top:0;height:100%;width:100%;background:rgba(0,0,0,.9);z-index:2002;overflow:hidden}.preview-img-mask[data-v-d204afc6]{position:fixed;top:50%;left:50%;width:100%;overflow:hidden;-webkit-transition:.3s;transition:.3s;border-radius:.125rem;background-color:#fff;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);z-index:2003}",""])},SoOP:function(t,e,i){t.exports=i.p+"img/like_n.428f533.png"},T6fJ:function(t,e,i){"use strict";var s=i("CuDY"),a=i("HxcG"),o=!1;var n=function(t){o||i("T9nd")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-3645547d",null);r.options.__file="components/FoodDay/AcIcon4.vue",e.a=r.exports},T9nd:function(t,e,i){var s=i("Mh4T");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("e0fbee9a",s,!1,{sourceMap:!1})},TDOm:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.max,function(e){return i("i",{staticClass:"i mr5 i-star",class:{color11:e<=t.value,colore:e>t.value},on:{click:function(i){return t.onChange(e)}}})}),i("label",{staticClass:"ml5",class:[t.value>0?"color11":"colore"]},[t._v(t._s(t.value.toFixed(1)))])],2)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},Ucg5:function(t,e,i){"use strict";var s=i("T6fJ");e.a={props:{item:{type:Object,required:!0},isActivity:{type:Boolean,default:!1}},components:{FdIcon:s.a}}},Uwla:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w100 flex-wrp flex-end"},[i("div",{staticClass:"coupon-circle-l"}),i("div",{staticClass:"plr30 ptb20 coupon-box flex-wrp flex-align-center"},[i("div",{staticClass:"coupon-info flex-wrp flex-cell flex-between w100"},[i("div",{staticClass:"coupon-title-content compulsory-row-one w100"},[t._v(t._s(t.item.name))]),i("div",[i("span",{staticClass:"dis-price"},[t._v("￥"+t._s(t._f("number_format")(t.item.qg_price)))]),t._v("  "),i("span",{staticClass:"his-price del"},[t._v("￥"+t._s(t._f("number_format")(t.item.price)))])])]),i("nuxt-link",{staticClass:"flex-wrp flex-cell flex-between mh110 flex-end",attrs:{to:{path:"/foodCoupon",query:{id:t.item.id}}}},[i("button",{staticClass:"coupon-button",attrs:{type:"button"}},[t._v("购买")]),i("div",{staticClass:"size24 color44"},[t._v("累计已售"+t._s(t.item.saled_count))])])],1),i("div",{staticClass:"coupon-circle-r"})])};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},XoWv:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".shop-img[data-v-159d6069]{width:5rem;height:5rem;border-radius:.1875rem;-webkit-box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.13);box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.13)}.shop-img img[data-v-159d6069]{width:100%;max-width:100%;height:100%;max-height:100%;border-radius:.1875rem}.shop-flex2[data-v-159d6069]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:5rem}.shop-color-orange[data-v-159d6069]{color:#f56d23}.shop-color-arrow[data-v-159d6069]{color:#9b9b9b}.coupon-button[data-v-159d6069]{width:2.8125rem;height:1.5rem;font-size:.75rem;color:#fff;text-align:center;background:#f56d23;border-radius:.75rem;border:none}.lh45[data-v-159d6069]{line-height:1.40625rem}",""])},Y6tJ:function(t,e,i){"use strict";var s=i("yMFp"),a=i("TDOm"),o=!1;var n=function(t){o||i("3T1h")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-5a417cc0",null);r.options.__file="components/Shop/Star.vue",e.a=r.exports},YifU:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w100 shop-h100 bg-white"},[s("div",{staticClass:"w100 bg-white plr30 ptb30"},[s("div",{staticClass:"flex-wrp flex-start border-b pb30 w100"},[s("div",{staticClass:"shop-img border"},[s("img",{attrs:{src:t.shop.thumb}})]),s("div",{staticClass:"ml20 flex-item flex-wrp flex-cell flex-start flex-between h190"},[s("div",{staticClass:"w100 size38 font-Medium compulsory-row-one lh48"},[t._v(t._s(t.shop.title))]),s("div",{staticClass:"w100 flex-wrp flex-align-center"},[s("star",{staticClass:"size22",attrs:{max:5,value:parseInt(t.shop.scores.score)}}),s("div",{staticClass:"size24 color67 ml20 lh36"},[t._v("累计已售"+t._s(t.shop.saled_count))])],1),s("div",{staticClass:"size24 color44 lh36"},[t._v("￥"+t._s(t.shop.avg_price)+"/人  "+t._s(t.shop.category)+"  "+t._s(t.shop.business?t.shop.business:t.shop.district))]),s("div",{staticClass:"flex-wrp flex-align-center flex-flow-row"},t._l(t.shop.special_dishes.slice(0,3),function(e,i){return s("div",{key:i,staticClass:"shop-tag mt10"},[t._v(t._s(t._f("wordFive")(e.name)))])}),0)])]),s("div",{staticClass:"flex-wrp flex-cell flex-start pt20 flex-between w100"},[s("div",{staticClass:"w100 flex-wrp flex-align-center"},[s("div",{staticClass:"flex-item flex-wrp flex-align-center"},[s("i",{staticClass:"z z-time color44 size28"}),s("div",{staticClass:"size28 color37 ml20"},[t._v("营业时间："+t._s(t.shop.open_time))])]),t.shop.is_favorite?s("div",{staticClass:"shop-favorite ml20",on:{click:t.toggleFavor}},[s("img",{attrs:{src:i("589N")}})]):s("div",{staticClass:"shop-favorite ml20",on:{click:t.toggleFavor}},[s("img",{attrs:{src:i("SoOP")}}),s("i",{staticClass:"z like_n linear2 mr10 size42"})])]),s("div",{staticClass:"w100 flex-wrp flex-start mt20"},[s("i",{staticClass:"z z-location-o color44 size32"}),s("div",{staticClass:"flex-wrp flex-align-center flex-item ml18"},[s("div",{staticClass:"w100 size28 mr40",on:{click:t.openLocation}},[s("label",{staticClass:"color37"},[t._v(t._s(t.shop.address))]),s("label",{staticClass:"color44"},[t._v("  |  距您"+t._s(t.distance.number)+t._s(t.distance.unit))])]),s("a",{staticClass:"ml20",attrs:{href:"tel:"+t.shop.tel},on:{click:function(e){return e.stopPropagation(),t.sensData("fm_shopClickPhone")}}},[t._m(0)])])])])]),s("div",{staticClass:"w100 nav-border-b bg-white"},[s("div",{staticClass:"shop-info-nav flex-wrp flex-align-center flex-between"},[s("div",{staticClass:"nav-item text-center",class:{"nav-item-active":"2"===t.navFlag},on:{click:function(e){t.toggleNav("2"),t.sensData("fm_shopClickFoodRecommendations")}}},[t._v("菜品推荐")]),s("div",{staticClass:"nav-item text-center",class:{"nav-item-active":"1"===t.navFlag},on:{click:function(e){t.toggleNav("1"),t.sensData("fm_shopClickComment")}}},[t._v("用户评价")]),s("div",{staticClass:"nav-item text-center",class:{"nav-item-active":"3"===t.navFlag},on:{click:function(e){t.toggleNav("3"),t.sensData("fm_shopClickQualification")}}},[t._v("营业资质")])])]),s("div",{ref:"view02",staticClass:"w100 pt20 bg-grey",class:[t.commoditys.length>0||t.activitys.length>0?"pb20":""]},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.commoditys.length>0,expression:"commoditys.length > 0"}],staticClass:"w100 ptb20 border-b bg-white"},[t._m(1),t._l(t.commoditys,function(e,i){return s("shop-coupon-item",{directives:[{name:"show",rawName:"v-show",value:i<2||t.showAllCoupon,expression:"index2 < 2 || showAllCoupon"}],key:i,staticClass:"mb20",attrs:{item:e},nativeOn:{click:function(e){return t.sensData("fm_shopClickCoupon")}}})}),t.commoditys.length>2?s("div",{staticClass:"flex-wrp flex-align-center flex-middle color5 w100 ptb20 border-t",on:{click:function(e){t.showAllCoupon=!t.showAllCoupon}}},[s("label",{directives:[{name:"show",rawName:"v-show",value:!t.showAllCoupon&&t.commoditys.length>2,expression:"!showAllCoupon && commoditys.length > 2"}],staticClass:"size32"},[t._v("查看更多")]),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.showAllCoupon&&t.commoditys.length>2,expression:"!showAllCoupon  && commoditys.length > 2"}],staticClass:"i i-arrow-down-o size22 ml10 mt10"}),s("label",{directives:[{name:"show",rawName:"v-show",value:t.showAllCoupon&&t.commoditys.length>2,expression:"showAllCoupon  && commoditys.length > 2"}],staticClass:"size32"},[t._v("收起")]),s("i",{directives:[{name:"show",rawName:"v-show",value:t.showAllCoupon&&t.commoditys.length>2,expression:"showAllCoupon  && commoditys.length > 2"}],staticClass:"i i-arrow-up-o size22 ml10"})]):t._e()],2),s("div",{directives:[{name:"show",rawName:"v-show",value:t.activitys.length>0,expression:"activitys.length > 0"}],staticClass:"w100 plr30 pb10 bg-white"},[t._m(2),t._l(t.activitys,function(e,i){return s("shop-discount-goods",{directives:[{name:"show",rawName:"v-show",value:i<2||t.showAllDis,expression:"index < 2 || showAllDis"}],key:i,attrs:{isActivity:t.shop.is_foodie_festival,item:e},nativeOn:{click:function(e){return t.sensData("fm_shopClickBuying")}}})}),t.activitys.length>2?s("div",{staticClass:"flex-wrp flex-align-center flex-middle color5 w100 mt20 ptb20",on:{click:function(e){t.showAllDis=!t.showAllDis}}},[s("label",{directives:[{name:"show",rawName:"v-show",value:!t.showAllDis&&t.activitys.length>2,expression:"!showAllDis && activitys.length > 2"}],staticClass:"size32"},[t._v("查看更多")]),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.showAllDis&&t.activitys.length>2,expression:"!showAllDis  && activitys.length > 2"}],staticClass:"i i-arrow-down-o size22 ml10 mt10"}),s("label",{directives:[{name:"show",rawName:"v-show",value:t.showAllDis&&t.activitys.length>2,expression:"showAllDis  && activitys.length > 2"}],staticClass:"size32"},[t._v("收起")]),s("i",{directives:[{name:"show",rawName:"v-show",value:t.showAllDis&&t.activitys.length>2,expression:"showAllDis  && activitys.length > 2"}],staticClass:"i i-arrow-up-o size22 ml10"})]):t._e()],2)]),s("div",{ref:"view03",staticClass:"w100 bg-white flex-wrp flex-align-center flex-between h88"},[s("span",{staticClass:"size32 color37"},[t._v("查看商家食品安全档案")]),s("i",{staticClass:"z z-arrow-left size16 color44"})]),s("comment-content",{ref:"view01",staticClass:"mb160",attrs:{shopId:parseInt(t.shopId)}}),s("login-zybank-app",{ref:"loginZybankApp"}),s("get-map",{ref:"getMap",attrs:{lng:t.shop.lng,lat:t.shop.lat,address:t.shop.address,title:t.shop.title}})],1)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"phone-img"},[e("img",{attrs:{src:i("jy3K")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-wrp flex-align-center color48 size32 font-Medium mb20 pl30"},[e("i",{staticClass:"z z-quan linear1 mr10 size40"}),this._v("吃货券")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-wrp flex-align-center color48 size32 font-Medium pt20"},[e("i",{staticClass:"z z-icon-test1 linear mr10 size40"}),this._v("优惠套餐")])}];s._withStripped=!0;var o={render:s,staticRenderFns:a};e.a=o},YzF7:function(t,e,i){"use strict";e.a={props:["images","isPreview","initial"],data:function(){return{shopSwiper:{initialSlide:this.initial}}},methods:{close:function(){this.$emit("imagePreview")}}}},cSsp:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,'.h88[data-v-9dc197cc]{height:2.75rem}.ml18[data-v-9dc197cc]{margin-left:.5625rem}.phone-img[data-v-9dc197cc]{width:1.4375rem;height:1.375rem}.phone-img img[data-v-9dc197cc]{width:100%;height:100%;max-width:100%;max-height:100%}.lh48[data-v-9dc197cc]{line-height:1.5rem}.lh36[data-v-9dc197cc]{line-height:1.125rem}.h190[data-v-9dc197cc]{min-height:5.9375rem}.shop-tag[data-v-9dc197cc]{font-size:.625rem;height:1.0625rem;line-height:1.0625rem;color:#f56d23;letter-spacing:0;padding:0 .1875rem;background:#fef6f1;border-radius:.125rem;margin-right:.3125rem}.shop-share[data-v-9dc197cc]{position:absolute;top:1.25rem;right:1.25rem}.shop-img[data-v-9dc197cc]{width:5.9375rem;height:5.9375rem;border-radius:.3125rem}.shop-img img[data-v-9dc197cc]{width:100%;height:100%;max-width:100%;max-height:100%;border-radius:.3125rem}.shop-flex2[data-v-9dc197cc]{-webkit-box-flex:2;-ms-flex:2;flex:2}.shop-w20[data-v-9dc197cc]{width:20vw}.shop-w17[data-v-9dc197cc]{width:17vw}.shop-cut-line[data-v-9dc197cc]{width:100%;height:.09375rem;background:hsla(0,0%,85%,.3)}.shop-border-r[data-v-9dc197cc]{border-right:.0625rem solid #f3f3f3;border-radius:.0625rem}.shop-favorite[data-v-9dc197cc]{width:1.3125rem;height:1.125rem}.shop-favorite img[data-v-9dc197cc]{width:100%;height:100%;max-width:100%;max-height:100%}.linear1[data-v-9dc197cc]{background:#f5a623;background-clip:text;-webkit-background-clip:text}.linear1[data-v-9dc197cc],.linear[data-v-9dc197cc]{border-radius:.0625rem;-webkit-text-fill-color:transparent}.linear[data-v-9dc197cc]{background:linear-gradient(-135deg,#fba649,#f56d23);background-clip:text;-webkit-background-clip:text}.shop-info-nav[data-v-9dc197cc]{min-height:2.8125rem;padding:0 1.5rem;width:100%;font-size:1rem;color:#333;letter-spacing:0;font-family:PingFangSC-Medium}.shop-info-nav div[data-v-9dc197cc]{min-height:2.8125rem;line-height:2.8125rem}.nav-item[data-v-9dc197cc]{width:4rem}.nav-item-active[data-v-9dc197cc]{color:#f56d23}.nav-item-active[data-v-9dc197cc]:after{position:absolute;z-index:1;content:" ";width:1.25rem;height:.1875rem;background:#f56d23;border-radius:.09375rem;-webkit-transform:translate(-2.625rem,2.71875rem);transform:translate(-2.625rem,2.71875rem)}.nav-border-b[data-v-9dc197cc]{border-bottom:.0625rem solid #eee}.cerimg-box[data-v-9dc197cc]{min-height:7.1875rem}.cer-img-item[data-v-9dc197cc],.cer-img-item img[data-v-9dc197cc]{height:7.1875rem;width:9.53125rem}.mask2[data-v-9dc197cc]{position:fixed;width:100%;height:100vh;left:0;top:0;bottom:0;right:0;background:rgba(0,0,0,.7);z-index:2000}.navigate-box[data-v-9dc197cc]{position:fixed;bottom:0}.shop-h100[data-v-9dc197cc]{min-height:100vh}.mb160[data-v-9dc197cc]{margin-bottom:5rem}',""])},"cg+Q":function(t,e,i){var s=i("XoWv");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("480e8aa6",s,!1,{sourceMap:!1})},d9rE:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w100 bg-white"},[i("div",{staticClass:"w100 plf30 flex-wrp flex-align-center mtb20"},[t.isActivity&&t.item.is_foodie_festival?i("fd-icon"):t._e(),i("div",{staticClass:"shop-img mr20"},[i("img",{attrs:{src:t.item.thumb}})]),i("div",{staticClass:"shop-flex2 flex-wrp flex-cell flex-between"},[i("div",{staticClass:"size32 color37 w100 font-Medium compulsory-row lh45"},[t._v(t._s(t.item.name))]),i("div",{staticClass:"size38 shop-color-orange font-Medium w100"},[i("label",{staticClass:"size24"},[t._v("￥")]),t._v(t._s(t._f("number_format")(t.item.qg_price))+" "),i("label",{staticClass:"color44 size24 del"},[t._v("￥"+t._s(t._f("number_format")(t.item.price)))])])]),i("nuxt-link",{staticClass:"flex-wrp flex-cell flex-end",attrs:{to:"/buying_"+t.item.id}},[i("button",{staticClass:"coupon-button",attrs:{type:"button"}},[t._v("抢购")]),i("div",{staticClass:"size24 color44 mt20"},[t._v("累计已售"+t._s(t.item.saled_count))])])],1)])};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},eyZq:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".mask[data-v-c4d057be]{z-index:2000}.map-model[data-v-c4d057be]{position:fixed;bottom:0;width:92%;margin-left:4%;background:rgba(0,0,0,.7)}.map-content[data-v-c4d057be]{position:absolute}.map-d1[data-v-c4d057be]{top:-13.1875rem;height:2.5rem;line-height:2.5rem;text-align:center;border-top-right-radius:.625rem;border-top-left-radius:.625rem}.map-d2[data-v-c4d057be]{top:-10.6875rem;height:3.25rem;line-height:3.25rem}.map-d3[data-v-c4d057be]{top:-7.4375rem;height:3.25rem;line-height:3.25rem;border-bottom-right-radius:.625rem;border-bottom-left-radius:.625rem}.mapCancel[data-v-c4d057be]{width:100%;top:-3.875rem;text-align:center;height:3.25rem;line-height:3.25rem;margin:.3125rem 0 .625rem;border-radius:.625rem}",""])},fYTP:function(t,e,i){"use strict";var s=function(){var t=this.$createElement;return(this._self._c||t)("div")};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},fcvD:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t.isMap?i("div",{staticClass:"mask"},[i("div",{staticClass:"flex-wrp flex-cell flex-center w100 bg-white map-bg map-model"},[i("div",{staticClass:"map-content map-d1 border-b w100 bg-white color5 size24"},[t._v("请选择地图")]),i("div",{staticClass:"flex-wrp flex-center w100 size36 color3  border-b map-content map-d2 bg-white",on:{click:t.addressGD}},[t._v("高德地图")]),i("div",{staticClass:"flex-wrp flex-center w100 size36 color3  map-content map-d3 bg-white",on:{click:t.addressBD}},[t._v("百度地图")]),i("div",{staticClass:"mapCancel map-content bg-white",on:{touchmove:function(t){t.preventDefault()},click:function(e){return t.cancel()}}},[t._v("取消")])])]):t._e()])};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a},hcLw:function(t,e,i){var s=i("eyZq");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("5baefc7b",s,!1,{sourceMap:!1})},hioh:function(t,e,i){"use strict";var s=i("r95L"),a=i("fcvD"),o=!1;var n=function(t){o||i("hcLw")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-c4d057be",null);r.options.__file="components/getMap.vue",e.a=r.exports},hxf6:function(t,e,i){"use strict";var s=i("Ds5F"),a=i("fYTP"),o=!1;var n=function(t){o||i("n0MW")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-01f91858",null);r.options.__file="components/LoginZybankApp.vue",e.a=r.exports},jit6:function(t,e,i){"use strict";var s=i("YzF7"),a=i("DKNh"),o=!1;var n=function(t){o||i("L8Vq")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-d204afc6",null);r.options.__file="components/comments/ImagePreview.vue",e.a=r.exports},jy3K:function(t,e,i){t.exports=i.p+"img/phone.cc0c075.png"},n0MW:function(t,e,i){var s=i("Ldk8");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("5b0a07a5",s,!1,{sourceMap:!1})},q0dy:function(t,e,i){"use strict";var s=i("Xxa5"),a=i.n(s),o=i("exGp"),n=i.n(o),r=i("DHvs");e.a={props:{params:{type:Object,require:!0}},mounted:function(){if(console.log("params",this.params),Object(r.i)()){var t={title:"中原吃货地图",desc:this.params.desc,link:location.origin+location.pathname,imgUrl:"https://zfm.zybank.com.cn/pic/2018/11/23/pic.png",success:function(){console.log("成功")},cancel:function(){console.log("取消")}};if(r.o.setShare(t),!this.user.id&&-1===location.href.indexOf("OpenId")){var e="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx0f4ab8a6e6185c70&redirect_uri=https%3A%2F%2Fwbs.zyebank.com%2Fpweixin%2Fweixin%2Fhtmls%2FAppSharePages%2FGotoUrl%2Findex.html%3Fgotourl%3Dhttps%3A%2F%2Fzfm.zybank.com.cn&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect",i=e.slice(0,229),s=e.slice(229);location.href=i+encodeURIComponent(location.pathname)+s}this.getWeixinUser()}},methods:{getWeixinUser:function(){var t=location.href,e=t.indexOf("?"),i=t.substr(e+1);this.userInfoQry(i)},userInfoQry:function(){var t=n()(a.a.mark(function t(e){var i,s,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e+"=====param"),t.next=3,r.b.get("/weixin/tools/wxLogin",{urlParam:e});case 3:i=t.sent,s=i.data,o=i.status,console.log(o),200===o&&"SUCCESS"===s.code&&(console.log(s),this.$store.dispatch("user/getUser"));case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},r95L:function(t,e,i){"use strict";var s=i("Dd8w"),a=i.n(s),o=i("DHvs"),n=i("NYxO");e.a={data:function(){return{timer:"",isMap:!1}},props:{lng:{type:String,default:""},lat:{type:String,default:""},title:{type:String,default:""},address:{type:String,default:""},origin:{type:String,default:""}},computed:a()({},Object(n.mapState)({user:function(t){return t.user.info}})),methods:{cancel:function(){"foodCoupon"===this.origin&&Object(o.l)("fm_couponClickPositionCancel"),this.isMap=!this.isMap},openLocation:function(){Object(o.i)()?this.user.id&&this.addressPreview():this.isMap=!this.isMap},addressPreview:function(){o.o.openLocation({title:this.title,lat:this.lat,lng:this.lng})},addressBD:function(){"foodCoupon"===this.origin&&Object(o.l)("fm_couponClickMapBaidu");var t=this.bd_decrypt(this.lng,this.lat),e="http://api.map.baidu.com/marker?location="+t.lat+","+t.lng+"&title="+this.address+"&content="+this.title+"&output=html&src=中原银行|中原银行";Object(o.d)()?e="bdapp://map/marker?location="+this.lat+","+t.lng+"&title="+this.address+"&content="+this.title+"&output=html&src=中原银行|中原银行&traffic=off":Object(o.e)()&&(e="baidumap://map/marker?location="+t.lat+","+t.lng+"&title="+this.address+"&content="+this.title+"&src=webapp.marker.中原银行.中原银行"),window.open(e.replace(/#/,"号"))},bd_decrypt:function(t,e){var i=3e3*Math.PI/180,s=t,a=e,o=Math.sqrt(s*s+a*a)+2e-5*Math.sin(a*i),n=Math.atan2(a,s)+3e-6*Math.cos(s*i);return{lng:o*Math.cos(n)+.0065,lat:o*Math.sin(n)+.006}},addressGD:function(){"foodCoupon"===this.origin&&Object(o.l)("fm_couponClickMapGeo");var t=this.lat,e=this.lng,i="https://uri.amap.com/marker?position="+e+","+t+"&name="+this.title+"&callnative=0";Object(o.d)()?i="androidamap://viewMap?sourceApplication=zybank&poiname="+this.title+"&lat="+t+"&lon="+e+"&dev=0":Object(o.e)()&&(i="iosamap://viewMap?sourceApplication=zybank&poiname="+this.title+"&lat="+t+"&lon="+e+"&dev=0"),window.open(i)},closeDialog:function(){this.ctrlFlag.val=!1,console.log("xxxxx",this.ctrlFlag.val)},confirmFun:function(){if(this.ctrlFlag.val=!1,this.canClickAgain){this.canClickAgain=!1;var t=this;this.timer=setTimeout(function(){t.canClickAgain=!0},400),this.$emit("confirmFun")}}}}},u0FK:function(t,e,i){"use strict";var s=i("0dJS"),a=i("+dOf"),o=!1;var n=function(t){o||i("xQP0")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-443328b8",null);r.options.__file="components/Shop/Comment/CommentContent.vue",e.a=r.exports},ukN1:function(t,e,i){"use strict";var s=i("Fp2W"),a=i("Uwla"),o=!1;var n=function(t){o||i("483V")},r=i("VU/8")(s.a,a.a,!1,n,"data-v-14c7715c",null);r.options.__file="components/Shop/Coupon/ItemNew.vue",e.a=r.exports},vfQN:function(t,e,i){"use strict";var s=i("Dd8w"),a=i.n(s),o=i("Xxa5"),n=i.n(o),r=i("exGp"),c=i.n(r),l=i("Y6tJ"),d=i("AU6p"),h=i("ukN1"),p=i("u0FK"),m=i("F7sp"),u=i("7SXK"),f=i("hxf6"),v=i("NYxO"),g=i("DHvs"),w=i("Fd2+"),b=i("hioh"),x=i("6GxD");e.a={middleware:"location",data:function(){return this.$data?this.$data:{initial:0,isPreview:!1,showAllDis:!1,showAllCoupon:!1,navFlag:"2",isMap:!1,commentPics:[],previewImage:[],distance:{},activitys:[],commoditys:[]}},asyncData:function(){var t=c()(n.a.mark(function t(e){var i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return{},t.next=3,g.b.get("/v3/shop/"+e.params.id,null,e);case 3:if(i=t.sent,2e5!==(s=i.data).code||"OK"!==s.msg){t.next=9;break}return t.abrupt("return",{shop:s.shop,shopId:e.params.id});case 9:return t.abrupt("return",e.error({statusCode:404,message:"店铺不存在或已停用"}));case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),head:function(){return{title:"商品详情"}},components:{Star:l.a,LoginZybankApp:f.a,ShopDiscountGoods:d.a,ShopCouponItem:h.a,CommentContent:p.a,SpecialFoods:m.a,Share:u.a,Toast:w.r,GetMap:b.a,noResult:x.a},computed:a()({},Object(v.mapState)({config:function(t){return t.config},session:function(t){return t.session},locationInfo:function(t){return t.session.locationInfo},user:function(t){return t.user.info}})),activated:function(){var t=this;this.$nextTick(function(){t.setWXShareParams(),t.getShopDistance(),t.user.id&&t.handleCountDishesClick({member_id:t.user.id,merchant_no:t.shopId}),t.foodieFestival()})},filters:{wordFive:function(t){return t.length>5?t.substr(0,5)+"...":t}},watch:{filter:function(){this.$refs.loadMore.$refs.infiniteLoading.$emit("$InfiniteLoading:reset")}},methods:{foodieFestival:function(){if(this.activitys=[],this.commoditys=[],this.shop.is_foodie_day&&Object(g.i)()&&this.shop.is_foodie_festival){for(var t=0;t<this.shop.activity.length;t++){this.shop.activity[t].is_foodie_festival||(this.shop.activity.splice(t,1),t--)}for(var e=0;e<this.shop.commodity.length;e++){this.shop.commodity[e].is_foodie_festival||(this.shop.commodity.splice(e,1),e--)}}this.activitys=this.shop.activity||[],this.commoditys=this.shop.commodity||[],this.$forceUpdate()},sensData:function(t){Object(g.l)(t)},setWXShareParams:function(){if(Object(g.i)()){var t={title:"中原吃货地图",desc:this.shop.title,link:location.origin+location.pathname,imgUrl:"https://zfm.zybank.com.cn/pic/2018/11/23/pic.png",success:function(){console.log("成功")},cancel:function(){console.log("取消")}};if(g.o.setShare(t),!this.user.id&&-1===location.href.indexOf("OpenId")){var e="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx0f4ab8a6e6185c70&redirect_uri=https%3A%2F%2Fwbs.zyebank.com%2Fpweixin%2Fweixin%2Fhtmls%2FAppSharePages%2FGotoUrl%2Findex.html%3Fgotourl%3Dhttps%3A%2F%2Fzfm.zybank.com.cn&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect",i=e.slice(0,229),s=e.slice(229);location.href=i+encodeURIComponent(location.pathname)+s}this.getWeixinUser()}},getWeixinUser:function(){var t=location.href,e=t.indexOf("?"),i=t.substr(e+1);this.userInfoQry(i)},userInfoQry:function(){var t=c()(n.a.mark(function t(e){var i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.b.get("/weixin/tools/wxLogin",{urlParam:e});case 2:i=t.sent,s=i.data,200===i.status&&"SUCCESS"===s.code&&this.$store.dispatch("user/getUser");case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getShopDistance:function(){var t=c()(n.a.mark(function t(){var e,i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={lat:this.locationInfo.lat,lng:this.locationInfo.lng},t.next=3,g.b.get("/v3/shop/"+this.shopId,e);case 3:if(i=t.sent,2e5!==(s=i.data).code||"OK"!==s.msg){t.next=10;break}this.$set(this.distance,"number",s.shop.distance.number),this.$set(this.distance,"unit",s.shop.distance.unit),t.next=11;break;case 10:return t.abrupt("return",ctx.error({statusCode:404,message:"店铺不存在或已停用"}));case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleCountDishesClick:function(){var t=c()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.b.get("/dishes",a()({},e));case 2:t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),toggleNav:function(t){this.navFlag=t},toggleFavor:function(){var t=this;Object(g.l)("fm_shopClickLike");var e=this;if(this.user.id){var i=this.shop.is_favorite?"取消收藏成功":"收藏成功";g.b.put("/user/favorite/switch",{type:1,target_id:this.shopId}).then(function(t){console.log(t),e.shop.is_favorite?e.$set(e.shop,"is_favorite",!1):e.$set(e.shop,"is_favorite",!0),t&&t.data&&"SUCCESS"===t.data.code&&Object(w.r)({message:i,duration:1e3})}).catch(function(e){console.log(e),weui.alert("网络错误"),t.shop.is_favorite=!t.shop.is_favorite})}else Object(g.i)()?weui.alert("登录状态异常，点击确认重新登陆",function(){var t="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx0f4ab8a6e6185c70&redirect_uri=https%3A%2F%2Fwbs.zyebank.com%2Fpweixin%2Fweixin%2Fhtmls%2FAppSharePages%2FGotoUrl%2Findex.html%3Fgotourl%3Dhttps%3A%2F%2Fzfm.zybank.com.cn&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect",e=t.slice(0,229),i=t.slice(229);location.href=e+encodeURIComponent(location.pathname)+i}):this.$refs.loginZybankApp.Login("app")},openLocation:function(){Object(g.l)("fm_shopClickPosition"),this.$refs.getMap.openLocation()}}}},"xE+D":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".share-bg[data-v-a53d9ffe]{width:2rem;height:2rem;line-height:2rem;text-align:center;border-radius:1rem;background:rgba(51,51,51,.6)}",""])},xQP0:function(t,e,i){var s=i("D0Ar");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("7891c9e0",s,!1,{sourceMap:!1})},"xb++":function(t,e,i){t.exports=i.p+"img/good_icon.232755e.png"},yMFp:function(t,e,i){"use strict";e.a={props:{value:{type:Number,default:0},max:{type:Number,default:5}},methods:{onChange:function(t){this.$emit("onChange",t)}}}}});