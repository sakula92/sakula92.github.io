webpackJsonp([29],{"/33S":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex-wrp"},t._l(t.max,function(e){return s("div",{staticClass:"flex-wrp flex-center mr5 star",class:{"bg-star":e<=t.value,"bg-lightstar":e>t.value},on:{click:function(s){return t.onChange(e)}}},[s("i",{staticClass:"i i-star color1"})])}),0)])};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},"/4T5":function(t,e,s){var i=s("TIX2");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("94610152",i,!1,{sourceMap:!1})},"0yKo":function(t,e,s){"use strict";var i=s("Xxa5"),a=s.n(i),r=s("exGp"),o=s.n(r),n=s("Dd8w"),l=s.n(n),c=s("DHvs"),u=s("NYxO"),p=s("cd79");e.a={data:function(){return{isShow:!1,isLoading:!0,message:"",shops:[],defaultKey:[{label:"自助餐",index:0},{label:"火锅",index:1},{label:"蛋糕甜品",index:2},{label:"小吃快餐",index:3}]}},components:{ShopList:p.a},computed:l()({},Object(u.mapState)({agentCity:function(t){return t.session.agentCity},locationInfo:function(t){return t.session.locationInfo}}),{isEnabledSave:function(){return!this.isSaving}}),mounted:function(){var t=this;this.$nextTick(function(){t.message=t.$route.query.keyword}),this.fetchShops()},watch:{$route:"fetchShops"},methods:{fetchShops:function(){var t=o()(a.a.mark(function t(){var e,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.shops=[],this.isShow=!1,this.isLoading=!0,t.next=5,c.b.get("/v2/search",{keyword:this.$route.query.keyword,sort:"geo",city_id:this.agentCity.city_id,district_id:this.agentCity.district_id,area_id:this.$route.query.area_id,area_pid:this.$route.query.area_pid,lng:this.locationInfo&&this.locationInfo.lng,lat:this.locationInfo&&this.locationInfo.lat});case 5:e=t.sent,s=e.data,200===e.status&&"SUCCESS"===s.code&&(this.isLoading=!1,this.shops=s.shops||[]),0==this.shops.length?this.isShow=!0:this.isShow=!1;case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),submit:function(){var t=o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.message){t.next=2;break}return t.abrupt("return");case 2:this.$router.push({path:"/search_result",query:{keyword:this.message,city_id:this.agentCity.city_id,area_id:this.$route.query.area_id,area_pid:this.$route.query.area_pid,lng:this.locationInfo&&this.locationInfo.lng,lat:this.locationInfo&&this.locationInfo.lat}});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),defaultSeach:function(t){this.$router.push({path:"/search_result",query:{keyword:t.label}}),this.message=t.label}}}},"3rgx":function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,".star{border-radius:.0625rem!important;padding:.0625rem!important}",""])},"8S/d":function(t,e,s){"use strict";var i=s("QipQ"),a=s("/33S"),r=!1;var o=function(t){r||s("Oqkr")},n=s("VU/8")(i.a,a.a,!1,o,null,null);n.options.__file="components/Stars.vue",e.a=n.exports},"9GZB":function(t,e,s){"use strict";var i=s("8S/d");e.a={data:function(){return{discounts:[{discount:"7折买单"},{discount:"6折买单"}],headImg:[{imgUrl:s("c0vo")}],scroll:""}},props:{shop:{type:Object,required:!0}},components:{Star:i.a},computed:{tags:function(){return!!this.shop.tag&&this.shop.tag.split(",")},isShowVipDiscountScale:function(){return!!this.shop.discount_info&&(!!this.shop.discount_info.vip&&(!(parseFloat(this.shop.discount_info.vip.scale)<=0)&&!(parseFloat(this.shop.discount_info.vip.scale)>=10)))}}}},JT4a:function(t,e,s){t.exports=s.p+"img/load.ef9e840.png"},Oqkr:function(t,e,s){var i=s("3rgx");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("d54d9c90",i,!1,{sourceMap:!1})},QipQ:function(t,e,s){"use strict";e.a={props:{value:{type:Number,default:0},max:{type:Number,default:5}},methods:{onChange:function(t){this.$emit("onChange",t)}}}},QqT6:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("0yKo"),a=s("aulB"),r=!1;var o=function(t){r||s("w5Lr")},n=s("VU/8")(i.a,a.a,!1,o,"data-v-e4607570",null);n.options.__file="pages/search/_keyword.vue",e.default=n.exports},TIX2:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,".tag[data-v-a77439b6]{border:.03125rem solid #bbb;background-color:#f8f8f8}.linear[data-v-a77439b6]{background:-webkit-linear-gradient(#e34406,#f38e00);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.thumb[data-v-a77439b6]{width:5.625rem;height:5.625rem}.blank-box[data-v-a77439b6]{width:3.75rem}.buying-item[data-v-a77439b6]{border-top:.03125rem dashed #eee}.i-label-rush[data-v-a77439b6]{position:absolute;left:0;top:50%;-webkit-transform:translate(-160%,-50%);transform:translate(-160%,-50%)}",""])},"a+hN":function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,".record[data-v-e4607570]{border:.03125rem solid #ee7259;width:19%;border-radius:.78125rem}.w86[data-v-e4607570]{width:86%}.result[data-v-e4607570]{background-color:#fff6de}.weui-icon-search[data-v-e4607570]:before{position:absolute;top:50%;left:.625rem;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.search-box[data-v-e4607570]{background:#f1f1f1}.search-input[data-v-e4607570]{background:transparent}",""])},aulB:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"bg-white flex-wrp flex-align-center border-b"},[s("nuxt-link",{attrs:{to:"/"}},[s("i",{staticClass:"iconfont icon-back color4 size48 pl30 pr15"})]),s("div",{staticClass:"mtb15  flex-item flex-wrp flex-center border-radius30 mr10 relative color5 search-box"},[s("i",{staticClass:"weui-icon-search color58",on:{click:t.submit}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:" color81 border-radius30 size28 mr10 pl5 mlr55 ptb15 nbr w80 search-input",attrs:{type:"search",onfocus:"this.placeholder=''",onblur:"this.placeholder='请输入大牌商品或好店名称'",placeholder:"搜一搜商品、店铺"},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)},input:function(e){e.target.composing||(t.message=e.target.value)}}})]),s("div",{staticClass:"color57 size26 ptb5 plr20 border-radius30 mr20",on:{click:function(e){return t.submit(t.message)}}},[t._v("搜索")])],1),s("div",{staticClass:"flex-wrp plr20 bg-white ptb20"},t._l(t.defaultKey,function(e,i){return s("div",{key:i,staticClass:"size26 color37 flex-wrp flex-center ptb10 plr20 mr10 bg-gray3 border-radius30",staticStyle:{"padding-right":"9pt !important"},on:{click:function(s){return t.defaultSeach(e)}}},[t._v(t._s(e.label))])}),0),t._l(t.shops,function(t,e){return s("shop-list",{key:e,staticClass:"border-b",attrs:{shop:t}})}),t.shops&&t.shops.length>0?s("div",{staticClass:"w100 flex-wrp flex-center ptb50 bg-white color5"},[t._v("没有更多了！")]):t._e(),t.isShow?s("div",[t._m(0)]):t._e(),t.isLoading?s("loading",{}):t._e()],2)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-wrp flex-cell flex-center ptb50 size22 color5 bg-white"},[e("img",{staticClass:"mb20",staticStyle:{width:"25vw",height:"33.5vw"},attrs:{src:s("d0ei")}}),this._v("没有找到合适结果\n        ")])}];i._withStripped=!0;var r={render:i,staticRenderFns:a};e.a=r},c0vo:function(t,e,s){t.exports=s.p+"img/shop_headbg.f1d6cf2.png"},cd79:function(t,e,s){"use strict";var i=s("9GZB"),a=s("lbB0"),r=!1;var o=function(t){r||s("/4T5")},n=s("VU/8")(i.a,a.a,!1,o,"data-v-a77439b6",null);n.options.__file="components/CateList/Shop/Item.vue",e.a=n.exports},d0ei:function(t,e,s){t.exports=s.p+"img/zybank_logo.0a814d2.png"},lbB0:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg-white"},[i("nuxt-link",{staticClass:"pd30 flex-wrp flex-align-stretch lh100",attrs:{to:{path:"/shop_"+t.shop.id}}},[i("div",{},[t.shop.thumb?i("base-img",{staticClass:"border-radius5 block thumb",attrs:{src:t.shop.thumb}}):i("div",{staticClass:"flex-wrp flex-center bg-default thumb"},[i("img",{staticStyle:{width:"36px",height:"30px"},attrs:{src:s("JT4a")}})])],1),i("div",{staticClass:"flex-item flex-wrp flex-cell flex-between pl20 pt10 pb15"},[i("div",{staticClass:"flex-wrp flex-align-center flex-between"},[i("div",{staticClass:"size30 compulsory-row-one pt5 color37"},[t._v(t._s(t.shop.title))]),t.shop.distance?i("div",{staticClass:"size26 color5"},[t._v("\n                    "+t._s(t.shop.distance.number)+t._s(t.shop.distance.unit)+"\n                ")]):t._e()]),i("div",{staticClass:"flex-wrp flex-align-center pr10"},[i("div",{staticClass:"flex-item compulsory-row-one pr30"},t._l(t.tags,function(e,s){return t.tags?i("div",{key:s,staticClass:"inline-block border-radius5 color5 size22 ptb5 plr10 mr10 tag"},[t._v(t._s(e)+"\n                    ")]):t._e()}),0)]),i("div",{staticClass:"flex-wrp flex-align-center pr10"},[i("div",{staticClass:"flex-item flex-wrp flex-between"},[i("div",{staticClass:"flex-wrp flex-center"},[i("i",{staticClass:"iconfont icon-renqi  mr10 linear",staticStyle:{"font-size":"12pt"}}),i("span",{staticStyle:{"font-size":"10pt",color:"#eb5436"}},[t._v(t._s(t.shop.uv)+"人气")])]),t.isShowVipDiscountScale?i("div",{staticClass:"flex-wrp flex-end"},[i("img",{staticStyle:{width:"44px",height:"15px"},attrs:{src:s("uJvi")}}),i("span",{staticClass:"size40  lh90 bold plr5",staticStyle:{color:"#F6263F"}},[t._v(t._s(t.shop.discount_info.vip.scale))]),i("span",{staticClass:"size26 color37 pr10 bold"},[t._v("折买单")])]):!t.isShowVipDiscountScale&&t.shop.discount_info.scale<10?i("div",[i("span",{staticClass:"size40  lh90 bold plr5",staticStyle:{color:"#F6263F"}},[t._v(t._s(t.shop.discount_info.scale))]),i("span",{staticClass:"size26 color37 pr10 bold"},[t._v("折买单")])]):t._e()])])])])],1)};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},uJvi:function(t,e,s){t.exports=s.p+"img/shop_vip.d66ddea.png"},w5Lr:function(t,e,s){var i=s("a+hN");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("7e2ebb49",i,!1,{sourceMap:!1})}});