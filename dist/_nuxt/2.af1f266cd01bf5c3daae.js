webpackJsonp([2],{"+J53":function(t,e,a){"use strict";var i=a("CHyu");e.a={props:{modal:{default:!0},showClose:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},inputType:{type:String,default:"text"},boxType:{type:String,default:""},confirmButtonText:{type:String,default:"确定"},cancelButtonText:{type:String,default:"取消"}},created:function(){},computed:{confirmButtonClasses:function(){var t="msgbox-btn msgbox-confirm";return this.confirmButtonClass&&"undefined"!==this.confirmButtonClass&&(t+=" "+this.confirmButtonClass),this.confirmButtonHighlight&&(t+=" msgbox-confirm-highlight"),t},cancelButtonClasses:function(){var t="msgbox-btn msgbox-cancel";return this.cancelButtonClass&&"undefined"!==this.cancelButtonClass&&(t+=" "+this.cancelButtonClass),this.cancelButtonHighlight&&(t+=" msgbox-cancel-highlight"),t}},methods:{doClose:function(){var t=this;this.value=!1,this._closing=!0,this.onClose&&this.onClose(),setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},handle:function(){this.value=!1},handleAction:function(t){if("prompt"!==this.$type||"confirm"!==t||this.validate()){var e=this.callback;this.value=!1,e(t),i.a.backBtn()}},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var a=e(this.inputValue);if(!1===a)return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;if("string"==typeof a)return this.editorErrorMessage=a,!1}}return this.editorErrorMessage="",this.$refs.input.classList.remove("invalid"),!0},handleInputType:function(t){"range"!==t&&this.$refs.input&&(this.$refs.input.type=t)}},watch:{inputValue:function(){"prompt"===this.$type&&this.validate()},value:function(t){var e=this;this.handleInputType(this.inputType),t&&"prompt"===this.$type&&setTimeout(function(){e.$refs.input&&e.$refs.input.focus()},500)},inputType:function(t){this.handleInputType(t)}},data:function(){return{value:!1,title:"",message:"",code:"",type:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,showCloseButton:!0,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null}}}},"0Xci":function(t,e,a){"use strict";var i=a("5oCg"),o=a("9wPm"),r=a("VU/8")(i.a,o.a,!1,null,null,null);r.options.__file="components/AMap/DragEl.vue",e.a=r.exports},"2Uz3":function(t,e,a){t.exports=a.p+"img/start.4af6acb.png"},"3T1h":function(t,e,a){var i=a("AJBa");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("638a8219",i,!1,{sourceMap:!1})},"3lqV":function(t,e,a){"use strict";var i=a("zMQr"),o=a("l3o2"),r=!1;var s=function(t){r||(a("JpTL"),a("BXdH"))},n=a("VU/8")(i.a,o.a,!1,s,"data-v-6937087c",null);n.options.__file="components/AMap/RoutePolicy.vue",e.a=n.exports},"3omT":function(t,e,a){var i=a("V68W");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("59f79ffc",i,!1,{sourceMap:!1})},"4ifG":function(t,e,a){"use strict";e.a={props:{bcluster:{type:Object,required:!0},shopsLen:{type:Number,default:0}}}},"5KGT":function(t,e,a){"use strict";e.a=function(){return new o.a(function(t,e){if(window.AMap)t(window.AMap);else{var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://webapi.amap.com/maps?v=1.4.14&&callback=initAMap&&key=c3a674b3292cb53b784774e5bd00dc91&plugin=AMap.ToolBar,AMap.Driving,AMap.Riding,AMap.Walking,AMap.Transfer,AMap.Scale,AMap.OverView,AMap.Geolocation",a.onerror=e,document.head.appendChild(a)}window.initAMap=function(){var a=document.createElement("script");a.src="https://webapi.amap.com/ui/1.0/main.js",a.onerror=e,document.head.appendChild(a);var i=1,o=setInterval(function(){window.AMapUI&&i<300?(clearInterval(o),o=null,t(window.AMap)):300===i?(clearInterval(o),o=null,e("地图加载超时")):i++},10)}})};var i=a("//Fk"),o=a.n(i)},"5oCg":function(t,e,a){"use strict";e.a={props:{dragable:{type:Boolean,default:!0}},data:function(){return{clientHeight:"",startY:"",pageY:"",distance:"",elY:"",direction:"",elArae:"",offsetArr:[]}},mounted:function(){this.clientHeight=document.body.clientHeight;var t=this.clientHeight-284+"px",e=this.clientHeight-62+"px";this.offsetArr=["0",t,e]},methods:{touchStart:function(t){this.dragable&&(this.elY=this.$refs.dragEl.style.top.replace("px",""),0==this.elY||isNaN(this.elY)?this.elArae=0:this.elY>this.clientHeight-284?this.elArae=2:this.elArae=1,this.startY=t.touches[0].pageY,this.distance=0,this.direction="")},touchMove:function(t){if(this.dragable){this.pageY=t.touches[0].pageY,this.direction=this.pageY-this.startY>0?"down":"up",this.distance=this.pageY-this.startY;var e=Number(this.elY)+Number(this.distance);e>120&&this.clientHeight-e>120?this.$refs.dragEl.style.top=e+"px":(e<=120&&this.$refs.dragEl.style.top.replace("px","")>0&&(this.$refs.dragEl.style.top=0),this.clientHeight-e<=120&&(this.$refs.dragEl.style.top=this.clientHeight-62+"px"))}},touchEnd:function(t){if(this.dragable&&Math.abs(this.distance)>10&&this.direction){var e=void 0,a=Number(this.clientHeight)-Number(this.$refs.dragEl.style.top.replace("px",""));e="up"===this.direction?a>284?0:this.elArae-1>0?this.elArae-1:0:a<284?2:this.elArae+1>2?2:this.elArae+1,this.$refs.dragEl.style.top=this.offsetArr[e],t.cancelable&&t.preventDefault()}}}}},"70rK":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAoCAYAAACb3CikAAAAAXNSR0IArs4c6QAAAmlJREFUWAntmL9rFFEQx7NRIwlaaOwiWniiBEljYmOTPyCksLOzCGlFIX3+AkOK1NpZCBb+D4IgdiKKCvEwTYjaaETNefl8484x++493Hje7RU78Lk3M/vezNzbt29/ZCMJabfbxzl0Ha7AJbgAk3AaTsEYHIOjINmDX/ATvsBn+ATv4Q28hKdZlv2g/btQwAI8gW/wv0UxFXshWQkHp+EZDEqUa7pQEI5Z2BlUBS6Pcs6qmAxFa+EdnJWjAvlIzsYoP8tQVRH638q9rEIWZVUsiyqkUXERSt/QGtlDOeKKWUd/6+x+qBcJetsFbo24FWzqvOvQF5VE85bMWp2aoZC6kPA01DNSz0g4A6E9NGvEnq58geNsMie9ow/6eBhTW3w7dFZhD82pqQsJT389I+GMxC5f9dmBe/AarsIdmIB/kV0GrcELuAx34QwUxR5MXLuNPuV7Yc/Ad9enrKoxM0GsKXzKUZDYE9qKH2g6ozYKI8sZGzbetwxdCYfHFqveU2OS8sf6mi81psuvQlo2Km/nAtvMa6Ycoi0b6+DhuRlM0y72wWugJcTWi3kr6FfG1JjCCze2Xm+Vw0tT95r7JLxlSfNWnxcegl01N9Cz/NhhG93LHoNdNTfR9TnDywMVokvqOZzwRwaofyXX3CgfTvSvlwaYOEy1pBo6083MfKDHubBXn+0mRZxXDr+zpp5LtugnehFtkIVNMg/WnZMZ2YSYrPZSgcYSdDUWGN+mxfYbWnd1f3ql/BajTJuK0fH7QrRGYpLyx/qmfKkY3X6mSRvNK/gNEt2wHoE+bfUkipHHshuncihXZ+PcBy9scRV7KIo1AAAAAElFTkSuQmCC"},"7YLR":function(t,e,a){"use strict";var i=a("Y6tJ");e.a={data:function(){return{shop_couponPre:[],isAll:!1,showLength:2}},props:{shop:{type:Object,required:!0},order:{type:Number},type:{type:String,required:!0}},components:{Star:i.a},mounted:function(){this.getShopCouponPre()},methods:{getShopCouponPre:function(){var t=void 0,e=void 0;if(this.shop.commodity)for(var a=0;a<this.shop.commodity.length&&("0"!==this.shop.commodity[a].commodity_type||e||(e=this.shop.commodity[a]),"1"!==this.shop.commodity[a].commodity_type||t||(t=this.shop.commodity[a]),!e||!t);a++);t&&this.shop_couponPre.push(t),e&&this.shop_couponPre.push(e)},goCoupon:function(t){this.$emit("toChild"),this.$router.push({path:"/foodCoupon",query:{id:t.id}})},goShop:function(){this.$router.push({path:"/shop_"+this.shop.id})}}}},"7l9d":function(t,e,a){"use strict";var i=a("I93B"),o=a("eKv7"),r=!1;var s=function(t){r||a("Ra6J")},n=a("VU/8")(i.a,o.a,!1,s,"data-v-12a25911",null);n.options.__file="components/AMap/Search.vue",e.a=n.exports},"9HCo":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".kong[data-v-714b7557]{width:100%;padding:2.5rem 0 0}.kong>img[data-v-714b7557]{width:11.25rem;height:7.125rem}.plugin-container[data-v-714b7557]{position:absolute;top:-2.8125rem;left:0}.search-btn-section[data-v-714b7557]{z-index:200;position:fixed;top:4rem;background:#fff;-webkit-box-shadow:0 .125rem .3125rem 0 rgba(0,115,229,.2);box-shadow:0 .125rem .3125rem 0 rgba(0,115,229,.2);border-radius:1.32813rem;height:2.1875rem;line-height:2.1875rem;width:7.8125rem;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);font-family:PingFangSC-Regular;font-size:.9375rem;color:#39f;letter-spacing:0;text-align:center}.search-btn[data-v-714b7557]{font-size:.75rem;color:#fff;text-align:center;height:2.0625rem;border-radius:1.03125rem;width:6.9375rem;background:rgba(51,51,51,.7)}.search-btn img[data-v-714b7557]{width:.8125rem;margin-right:.3125rem}#container[data-v-714b7557]{height:100%;width:100%;-webkit-overflow-scrolling:touch}.search-input-map[data-v-714b7557]{position:absolute;z-index:1;left:50%;top:.625rem;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0);width:94%}.map-container[data-v-714b7557]{height:100vh;width:100%;-webkit-overflow-scrolling:touch}.amap-copyright[data-v-714b7557],.amap-logo[data-v-714b7557]{display:none!important;visibility:hidden!important}.map-bottom-container[data-v-714b7557]{position:fixed;width:100%;bottom:0;left:0;z-index:2000;border-top-left-radius:.5rem;border-top-right-radius:.5rem}.map-bottom-container .map-bottom-circle[data-v-714b7557]{width:100%;height:1.625rem;border-radius:50%/100% 100% 0 0;background:#fff}.map-bottom-container .map-bottom-sections[data-v-714b7557]{width:100%;background:#fff;padding-top:.3125rem;border-top-left-radius:.5rem;border-top-right-radius:.5rem}.map-bottom-container .map-bottom-item[data-v-714b7557]{font-family:PingFangSC-Regular;font-size:1rem;min-height:2.75rem;line-height:2.4375rem;color:#333;letter-spacing:0;text-align:center;padding:0 .8125rem}.map-bottom-container .map-bottom-item-active[data-v-714b7557]{font-size:1.125rem;border-bottom:.3125rem solid #f56d23;font-family:PingFangSC-Medium}.short-line[data-v-714b7557]{height:.1875rem;width:1.0625rem;background:hsla(0,0%,80%,.4);border-radius:.09375rem}@media screen and (max-width:320px){.map-bottom-container .map-bottom-item[data-v-714b7557]{font-size:.75rem}.map-bottom-container .map-bottom-item-active[data-v-714b7557]{font-size:.875rem}}.shop-detail-flag[data-v-714b7557]{position:absolute;top:-.1875rem;left:.9375rem}.shop-detail-flag .shop-triangle[data-v-714b7557]{width:0;height:0;overflow:hidden;font-size:0;line-height:0;border-width:0 0 .1875rem .1875rem;border-style:solid}.shop-triangle-border0[data-v-714b7557]{border-color:transparent transparent transparent #ff8000}.shop-triangle-border1[data-v-714b7557]{border-color:transparent transparent transparent #f56d23}.shop-triangle-border2[data-v-714b7557]{border-color:transparent transparent transparent #f5a623}.shop-triangle-border3[data-v-714b7557]{border-color:transparent transparent transparent #7ed321}.shop-flag0[data-v-714b7557]{background:#ff8000}.shop-flag1[data-v-714b7557]{background:#f56d23}.shop-flag2[data-v-714b7557]{background:#f5a623}.shop-flag3[data-v-714b7557]{background:#7ed321}.shop-detail-flag .shop-flag[data-v-714b7557]{border-radius:0 0 .375rem .375rem;width:2rem;height:1.4375rem;line-height:1.4375rem;text-align:center;color:#fff;font-family:PingFangSC-Medium;font-size:.9375rem}.shop-detail-radius[data-v-714b7557]{background:#fff;-webkit-box-shadow:0 -.8125rem 2.5rem 0 rgba(0,115,229,.26);box-shadow:0 -.8125rem 2.5rem 0 rgba(0,115,229,.26);border-radius:.625rem .625rem 0 0}.shop-detail-radius .shop-detail-img[data-v-714b7557]{-webkit-box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.13);box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.13);width:8.6875rem;height:6.34375rem;margin-right:.9375rem;border-radius:.375rem}.mh203[data-v-714b7557]{min-height:6.34375rem}.shop-title[data-v-714b7557]{font-family:PingFangSC-Semibold}.lh42[data-v-714b7557]{line-height:1.3125rem;font-family:PingFangSC-Medium;letter-spacing:0}.togo-btn[data-v-714b7557]{position:absolute;right:9.2%;top:-1.5625rem;background-image:linear-gradient(-129deg,#fba548 5%,#f88b37 95%);-webkit-box-shadow:0 0 .125rem .15625rem rgba(245,109,35,.2);box-shadow:0 0 .125rem .15625rem rgba(245,109,35,.2);height:4.375rem;width:4.375rem;border-radius:50%;z-index:1}.togo-btn img[data-v-714b7557]{width:1.40625rem}.top10-icon[data-v-714b7557]{line-height:1.5625rem;padding:0 .25rem;height:1.5625rem;background:#f56d23;border-radius:0 .375rem .375rem 0;font-family:PingFangSC-Medium;font-size:.9375rem;color:#fff;letter-spacing:0;text-align:center}.h112[data-v-714b7557]{min-height:3.5rem}.h70[data-v-714b7557]{min-height:2.1875rem}.bg-orange[data-v-714b7557]{background-image:linear-gradient(-84deg,#fba649,#f56d23)}.bg-orange img[data-v-714b7557]{width:1.125rem}.mh600[data-v-714b7557]{top:40vh}.shop-container[data-v-714b7557]{height:100vh;overflow:hidden;width:100%;background:#fff}.scroll-area[data-v-714b7557]{height:90vh;width:100%;overflow-y:scroll;overflow-x:hidden;white-space:nowrap;word-break:break-all;word-wrap:break-word;-webkit-overflow-scrolling:touch}.scroll-area[data-v-714b7557]::-webkit-scrollbar{width:.3125rem}.scroll-area[data-v-714b7557]::-webkit-scrollbar-thumb{border-radius:.3125rem;box-shadow:inset 0 0 .15625rem #f56d23;-webkit-box-shadow:inset 0 0 .15625rem #f56d23;background:#f56d23}.scroll-area[data-v-714b7557]::-webkit-scrollbar-track{border:none;background:none}.linear[data-v-714b7557]{background:#f5a623;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.linear1[data-v-714b7557]{background:#f56d23;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.color-coupon[data-v-714b7557]{color:#4a4a4a}",""])},"9wPm":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"dragEl",on:{touchstart:function(e){return t.touchStart(e)},touchmove:function(e){return t.touchMove(e)},touchend:function(e){return t.touchEnd(e)}}},[t._t("default")],2)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},AJBa:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".colore[data-v-5a417cc0]{color:#eee}",""])},AVSK:function(t,e,a){var i=a("t0+h");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("38037816",i,!1,{sourceMap:!1})},BN1C:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nuxt-link",{staticClass:"w100 flex-wrp flex-align-center b-top plr30 ptb20 bg-white",attrs:{to:{path:"/shoppingDetail",query:{id:t.bcluster.id,city_id:t.bcluster.city_id,lat:t.bcluster.lat,lng:t.bcluster.lng}}}},[a("img",{staticClass:"buss-img",attrs:{src:t.bcluster.thumb}}),a("div",{staticClass:"flex-item flex-cell flex-wrp flex-start flex-between mh80 ml30"},[a("div",{staticClass:"size36 color37 font-medium compulsory-row-one"},[t._v(t._s(t.bcluster.name))]),a("div",{staticClass:"flex-cell flex-wrp flex-start"},[a("div",{staticClass:"size26 color5 flex-align-center flex-wrp"},[a("div",{staticClass:"sale-icon mr15"},[t._v("惠")]),t._v(t._s(t.shopsLen)+"家商户优惠中")]),a("div",{staticClass:"size26 color5"},[a("i",{staticClass:"z z-time size32 mr15 color11"}),t._v("营业时间：9:00-21:00")])])]),a("div",{staticClass:"size26 color5 mr30"},[t._v(t._s(t.bcluster.distance.number)+t._s(t.bcluster.distance.unit))]),a("i",{staticClass:"z z-right size26 color58"})])};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},BXdH:function(t,e,a){var i=a("TK64");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("2ee9fc47",i,!1,{sourceMap:!1})},CHyu:function(t,e,a){"use strict";var i,o,r=a("pFYg"),s=a.n(r),n=a("//Fk"),c=a.n(n),l=a("/5sW"),d=a("Eurh"),p={title:"温馨提示",message:"",code:"",type:"",showInput:!1,showClose:!0,modalFade:!1,lockScroll:!1,closeOnClickModal:!0,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"",cancelButtonClass:"",boxType:""},h=function(t){for(var e=1,a=arguments.length;e<a;e++){var i=arguments[e];for(var o in i)if(i.hasOwnProperty(o)){var r=i[o];void 0!==r&&(t[o]=r)}}return t},u=l.default.extend(d.a),m=[],f=function(t){if(i){var e=i.callback;if("function"==typeof e&&(o.showInput?e(o.inputValue,t):e(t)),i.resolve){var a=i.options.$type;"confirm"===a||"prompt"===a?"confirm"===t?o.showInput?i.resolve({value:o.inputValue,action:t}):i.resolve(t):"cancel"===t&&i.reject&&i.reject(t):i.resolve(t)}}},g=function(){if(o||function(){(i=m[0]).options;(o=new u({el:document.createElement("div")})).callback=f}(),(!o.value||o.closeTimer)&&m.length>0){var t=(i=m.shift()).options;for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);void 0===t.callback&&(o.callback=f),["modal","showClose","closeOnClickModal","closeOnPressEscape"].forEach(function(t){void 0===o[t]&&(o[t]=!0)}),document.getElementById("__layout").childNodes[0].appendChild(o.$el),l.default.nextTick(function(){o.value=!0})}},b=function(){console.log("测试"),v.close()},v=function t(e,a){if(document.addEventListener("backbutton",b,!0),"string"==typeof e?(e={title:e},arguments[1]&&(e.message=arguments[1]),arguments[2]&&(e.type=arguments[2])):e.callback&&!a&&(a=e.callback),void 0!==c.a)return new c.a(function(i,o){m.push({options:h({},p,t.defaults||{},e),callback:a,resolve:i,reject:o}),g()});m.push({options:h({},p,t.defaults||{},e),callback:a}),g()};v.setDefaults=function(t){v.defaults=t},v.alert=function(t,e,a){return"object"===(void 0===e?"undefined":s()(e))&&(a=e,e=""),v(h({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},a))},v.confirm=function(t,e,a){return"object"===(void 0===e?"undefined":s()(e))&&(a=e,e=""),v(h({title:e,message:t,$type:"confirm",showCancelButton:!0},a))},v.prompt=function(t,e,a){return"object"===(void 0===e?"undefined":s()(e))&&(a=e,e=""),v(h({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},a))},v.close=function(){document.removeEventListener("backbutton",b,!0),o&&(o.value=!1,m=[],i=null)},v.backBtn=function(){document.removeEventListener("backbutton",b,!0)},e.a=v},Ds5F:function(t,e,a){"use strict";var i=a("Dd8w"),o=a.n(i),r=a("Xxa5"),s=a.n(r),n=a("exGp"),c=a.n(n),l=a("DHvs"),d=a("NYxO");e.a={asyncData:function(){var t=c()(s.a.mark(function t(e){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={btnText:"登录",backUrl:e.query.url,loginParam:{},loginResponseData:{}},t.abrupt("return",a);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),computed:o()({},Object(d.mapState)({session:function(t){return t.session}})),mounted:function(){var t=this;window.loginForResponse=function(e,a,i,o){t.loginResponseData={type:"app",url:e,data:a,sign:i,avatar:o},t.getUserInfoForZyBank()},window.wechatLoginForResponse=function(e,a){t.loginResponseData={type:"wechat",data:e,sign:a},t.getUserInfoForZyBank()},window.onResponseError=function(){weui.toast("未正常登录,请重试")}},methods:{setUserCity:function(){var t=c()(s.a.mark(function t(e,a,i){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this,t.next=3,l.b.get("/zybank/loginLogs",{city_id:e,type:a,status:i});case 3:o=t.sent,o.data;case 5:case"end":return t.stop()}},t,this)}));return function(e,a,i){return t.apply(this,arguments)}}(),getUserInfoForZyBank:function(){var t=c()(s.a.mark(function t(){var e,a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.b.post("/zybank/setlogin",this.loginResponseData);case 2:if(e=t.sent,a=e.data,200!==e.status||"SUCCESS"!==a.code){t.next=13;break}return t.next=8,this.$store.dispatch("user/getUser");case 8:this.userinfo=this.$store.state.user.info,i=window.localStorage.getItem("current_city")?JSON.parse(window.localStorage.getItem("current_city")):{},this.setUserCity(i.city_id||"","0",i.status||"2"),t.next=14;break;case 13:weui.toast("登录失败");case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),Login:function(){var t=c()(s.a.mark(function t(e){var a,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=location.href,t.next=3,l.b.get("/zybank/prelogin",{url:a});case 3:i=t.sent,o=i.data,200===i.status&&"SUCCESS"===o.code&&(this.loginParam=o.data),t.t0=e,t.next="app"===t.t0?10:"wechat"===t.t0?12:14;break;case 10:return Object(l.d)()?window.demo.clickOnAndroid(this.loginParam.loginUrl,this.loginParam.crypted,this.loginParam.sign):Object(l.e)()&&(window.location.href="objc://loginBank:/,"+this.loginParam.loginUrl+","+this.loginParam.crypted+","+this.loginParam.sign),t.abrupt("break",14);case 12:return Object(l.d)()?window.demo.wechatLoginOnAndroid():Object(l.e)()&&(window.location.href="objc://wechatLogin:/"),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},E4Ak:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white border-t plr30 ptb20 flex-wrp flex-align-center",on:{click:t.goShop}},[a("div",{staticClass:"thumb bg-cover",style:{backgroundImage:"url("+(t.shop.thumb?t.shop.thumb:"~assets/images/load.png")+")"}},[t.order<10&&!isNaN(t.order)?a("div",{staticClass:"shop-order"},[t._v(t._s(t.order+1))]):t._e()]),a("div",{staticClass:"flex-wrp flex-cell flex-start plr30 flex-item mh180 maxw-360"},[a("div",{staticClass:"size36 compulsory-row-one color37 shop-title"},[t._v(t._s(t.shop.name))]),a("div",{staticClass:"size26 color44"},[a("star",{staticClass:"size24 mt5 mr10",attrs:{max:5,value:parseInt(t.shop.score)}})],1),t._l(t.shop_couponPre||[],function(e,i){return a("div",{key:i,staticClass:"flex-wrp flex-align-center compulsory-row-one w100 word-wrap flex-start",on:{click:function(a){return a.stopPropagation(),t.goShop(e)}}},["0"===e.commodity_type?a("i",{staticClass:"z z-icon-test1 mr10 linear1 size28"}):a("i",{staticClass:"z z-quan mr10 linear size28"}),a("label",{staticClass:"size22 color-coupon"},[t._v(t._s(e.name))])])})],2),"cluster"===t.type?a("div",{staticClass:"size32 color11 plr20 medium text-right"},[t._v(t._s(t.shop.floor))]):a("div",{staticClass:"size26 color5 plr20"},[t._v(t._s(t._f("distanceFilter")(t.shop.distance.number))+t._s(t.shop.distance.unit))])])};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},EeDE:function(t,e,a){t.exports=a.p+"img/end.8c6b78b.png"},Eurh:function(t,e,a){"use strict";var i=a("+J53"),o=a("Ye+a"),r=!1;var s=function(t){r||a("AVSK")},n=a("VU/8")(i.a,o.a,!1,s,"data-v-43e1d73a",null);n.options.__file="components/MessageBox/ZyMessageBox.vue",e.a=n.exports},GJL8:function(t,e,a){t.exports=a.p+"img/loc.3a0106c.png"},I93B:function(t,e,a){"use strict";var i=a("DHvs");e.a={data:function(){return{message:""}},methods:{submit:function(){this.message&&Object(i.l)("fm_mapInputSearch",{},{keyword:this.message}),this.$refs.serachinput.blur()},onFocus:function(){this.$emit("onFocus","")},onBlur:function(){this.$emit("onBlur",this.message)}},directives:{chncheck:{inserted:function(t,e){var a=t,i=!0;a.addEventListener("compositionstart",function(t){i=!1},!1),a.addEventListener("compositionend",function(t){i=!0},!1),i&&e.value()}}}}},Iy0f:function(t,e,a){t.exports=a.p+"img/map_center.44fea8e.png"},JpTL:function(t,e,a){var i=a("zCFp");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("1b75840e",i,!1,{sourceMap:!1})},K2Ai:function(t,e,a){"use strict";var i=a("4ifG"),o=a("BN1C"),r=!1;var s=function(t){r||a("SyT6")},n=a("VU/8")(i.a,o.a,!1,s,"data-v-71cc36c9",null);n.options.__file="components/AMap/BussinessCenter.vue",e.a=n.exports},KHfE:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".mh80[data-v-71cc36c9]{height:5.625rem}.b-top[data-v-71cc36c9]{border-top:.125rem solid #f5f5f5}.buss-img[data-v-71cc36c9]{width:5.625rem;height:5.625rem;border-radius:50%}.font-medium[data-v-71cc36c9],.sale-icon[data-v-71cc36c9]{font-family:PingFangSC-Medium}.sale-icon[data-v-71cc36c9]{width:1rem;height:1rem;line-height:1rem;font-size:.75rem;text-align:center;color:#fff;background:#f56d23}",""])},KJds:function(t,e,a){"use strict";var i=a("7YLR"),o=a("E4Ak"),r=!1;var s=function(t){r||a("3omT")},n=a("VU/8")(i.a,o.a,!1,s,"data-v-30c1b9d2",null);n.options.__file="components/AMap/ShopItem.vue",e.a=n.exports},Ldk8:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".login-bounce[data-v-01f91858]{width:17.5rem;height:14.6875rem}.login_img[data-v-01f91858]{width:3.125rem;height:3.125rem}",""])},MDPJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("rgIq"),o=a("tSLi"),r=!1;var s=function(t){r||(a("fByz"),a("a7zJ"))},n=a("VU/8")(i.a,o.a,!1,s,"data-v-714b7557",null);n.options.__file="pages/amap/index.vue",e.default=n.exports},Npuk:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAjCAYAAACQA/olAAAAAXNSR0IArs4c6QAAAp5JREFUSA2VljtoVFEQhnN1IZAgovhAYkhU0MJGC/FVKIJiI4iFIjaaSixstFLwESziC7WTQBoLtfGBpA9oYSGYgIpaKNFI1MZnBMXH+k1yTpg7O2f37MDPmfln/n93796duy0tmVGtVgtwGLwAn8E9sCxTnh7D5Diw8QFiXlrVoIO4An5Y11Af8+QzPNLhOuDaHF6o5R6fazyG+KtnAPckwefRfOxDzqV4DTcrz6HOFCa7wRB4DvrB/NR4kWpEHrFcro1gA5gAd4qiGOdsPjCTe3Y9uALGgY4vFNubckWwGpwFo6BefKI5t6E5Q/vBy3pOTu9CXWMEaxxRDvWToa6UuXwx8qXYkHt2xJKmbqU+Y7jpUowXT1dTP4Id1AvAqOJT6T7e9Sq3SeO6+tzDMkTdCf4ovl76jmYvKG86iPtKNRiMTyvOpm8hblsy1A84D4CKvLtXgZSjPxiPKM6mRyGWgm+2oeoBMZ5QxKlgnBIJPzvMdJH3AdnJNsbE+JFidwXRe8Xp9JL0ddCUXb0TDIL4vVwT4w5wDuwBk7uDUx47NkTUrU1tTn8RkN+Fv4NoeI8h6Ooma9ZUjYGsRS+GIXMfDuXXRLjVc1RcT1mRWWHgXV/lO7lG2zPtpsZQy/35V7sk8pPNGl90jAbg/hn+O/XCLHMG24H8w9EhC70N6H0S+1dzjQ9GhTr7REzdDWT/6vhNsaKhOUNPtYpchJ1RSH7e9KW8FfvuycAWR3RTD9OfA+TS2Fir50o5k3ftNHWNAO6IMzdUMosFg7LU7S32MPb1yVwreANsbNZzksvPc104pY5xOSb65I/KL+oTmgv5thqOl14J9H36mLpSMxgIejPBM6BjrzvPRA+4AeTPSvKRHsXMLAHyGPoIZNnXLKb/SuI5nUB4MksAAAAASUVORK5CYII="},QbKL:function(t,e,a){t.exports=a.p+"img/zoom_type_0.d3bb92c.png"},Qgpm:function(t,e,a){var i=a("kxFB");(t.exports=a("FZ+f")(!1)).push([t.i,".shop-name-text{position:relative;height:1.25rem;line-height:1.25rem;background:#fff;-webkit-box-shadow:0 .125rem .1875rem 0 rgba(0,115,229,.2);box-shadow:0 .125rem .1875rem 0 rgba(0,115,229,.2);border-radius:.70313rem;font-family:PingFangSC-Regular;font-size:.75rem;color:#333;text-align:center;padding:0 .625rem}.map-center-container{background:#fff;width:2.0625rem;height:2.0625rem;-webkit-box-shadow:0 0 .1875rem 0 #ccc;box-shadow:0 0 .1875rem 0 #ccc;border-radius:.28125rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.map-center-container .map-center-img{height:1.0125rem;width:1.0125rem;background:#fff url("+i(a("Iy0f"))+') 50% no-repeat;background-size:cover}.map-center-container .map-center-text{font-size:.9375rem;text-align:center;color:#0073e5;letter-spacing:0;-ms-flex:1;flex:1;-webkit-box-flex:1;-webkit-flex:1}.center-container{height:5.625rem;width:5.625rem;border-radius:50%;background:rgba(0,115,229,.3)}.center-container-outer{height:1.5625rem;width:1.5625rem;background:#fff;-webkit-box-shadow:0 0 .1875rem .0625rem;box-shadow:0 0 .1875rem .0625rem;border-radius:50%}.center-container-inner{height:1.0625rem;width:1.0625rem;background:#0073e5;border-radius:50%;position:relative}.center-container-inner,.center-radar{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.center-radar{position:absolute}.center-radar:before{width:-50vh;height:-50vh;border-radius:50%}.center-radar:after,.center-radar:before{content:" ";display:block;position:absolute}.center-radar:after{left:-50vh;top:-50vh;background-image:linear-gradient(44deg,rgba(0,115,229,0) 50%,#0073e5);width:50vh;height:50vh;-webkit-animation:radar-beam 2s 1;animation:radar-beam 2s 1;-webkit-animation-delay:.1s;animation-delay:.1s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-transform-origin:bottom right;transform-origin:bottom right;border-radius:100% 0 0 0}.amap-marker{-webkit-animation:blips .4s 1;animation:blips .4s 1;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.zoom-marker-text{position:relative;left:-.75rem;padding-left:.9375rem;padding-right:.5rem;text-align:center;background:#fff;border-radius:.5rem .5rem .5rem .5rem;height:1.3125rem;line-height:1.3125rem;font-size:.8125rem;letter-spacing:0}.text-color0{border:.0625rem solid #ff8000;color:#ff8000}.text-color1{border:.0625rem solid #f56d23;color:#f56d23}.text-color2{border:.0625rem solid #f5a623;color:#f5a623}.text-color3{border:.0625rem solid #7ed321;color:#7ed321}.amap-marker-label{border:none;background-color:transparent}.seach-box{font-family:PingFangSC-Medium;font-size:1.125rem;color:#f56d23;letter-spacing:0;text-align:center;height:3.0625rem;line-height:3.0625rem;width:100%;background-color:#fff}@-webkit-keyframes radar-beam{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes radar-beam{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes blips{0%{opacity:0}to{opacity:1}}@keyframes blips{0%{opacity:0}to{opacity:1}}',""])},Qjsf:function(t,e,a){t.exports=a.p+"img/type_0.3944e65.png"},Ra6J:function(t,e,a){var i=a("viTZ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("327e5888",i,!1,{sourceMap:!1})},SyT6:function(t,e,a){var i=a("KHfE");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("38bc4adf",i,!1,{sourceMap:!1})},TDOm:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.max,function(e){return a("i",{staticClass:"i mr5 i-star",class:{color11:e<=t.value,colore:e>t.value},on:{click:function(a){return t.onChange(e)}}})}),a("label",{staticClass:"ml5",class:[t.value>0?"color11":"colore"]},[t._v(t._s(t.value.toFixed(1)))])],2)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},TK64:function(t,e,a){var i=a("kxFB");(t.exports=a("FZ+f")(!1)).push([t.i,".amap-lib-marker-from{background-image:url("+i(a("2Uz3"))+")!important}.amap-lib-marker-from,.amap-lib-marker-to{height:2.5625rem!important;width:1.9375rem!important}.amap-lib-marker-to{background-image:url("+i(a("EeDE"))+")!important}",""])},V68W:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".shop-order[data-v-30c1b9d2]{position:relative;top:0;left:0;width:1.5625rem;height:1.5625rem;line-height:1.5625rem;border-top-left-radius:.3125rem;text-align:center;font-size:.9375rem;color:#fff;background:rgba(51,51,51,.5)}.linear[data-v-30c1b9d2]{background:#f5a623;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.linear1[data-v-30c1b9d2]{background:#f56d23;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.thumb[data-v-30c1b9d2]{width:5.625rem;height:5.625rem;border-radius:.3125rem;-webkit-box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.13);box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.13)}.thumb img[data-v-30c1b9d2]{width:100%;height:100%;max-height:100%;max-width:100%;border-radius:.3125rem}.rotate180[data-v-30c1b9d2]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.mh180[data-v-30c1b9d2]{min-height:5.625rem}div[data-v-30c1b9d2]{letter-spacing:0}.shop-title[data-v-30c1b9d2]{font-family:PingFangSC-Semibold}.maxw-360[data-v-30c1b9d2]{max-width:12.5rem}.color-coupon[data-v-30c1b9d2]{color:#4a4a4a}.word-wrap[data-v-30c1b9d2]{white-space:pre-wrap}",""])},Y6tJ:function(t,e,a){"use strict";var i=a("yMFp"),o=a("TDOm"),r=!1;var s=function(t){r||a("3T1h")},n=a("VU/8")(i.a,o.a,!1,s,"data-v-5a417cc0",null);n.options.__file="components/Shop/Star.vue",e.a=n.exports},"Ye+a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"msgbox",attrs:{id:"msgbox"}},[a("transition",{attrs:{name:"msgbox-bounce"}},[a("div",{staticClass:"zy-msgbox"},[a("p",{directives:[{name:"show",rawName:"v-show",value:t.showCloseButton,expression:"showCloseButton"}],staticClass:"msgbox-can",on:{click:function(e){return t.handle()}}},[a("i",{staticClass:"iconfont icon-cha"})]),""!==t.title?a("div",{staticClass:"msgbox-header"},[a("div",{staticClass:"msgbox-title size36"},[t._v(t._s(t.title))])]):t._e(),""!==t.message?a("div",{staticClass:"msgbox-content msg-content"},[a("div",{staticClass:"msgbox-message size32",domProps:{innerHTML:t._s(t.message)}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"msgbox-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",attrs:{placeholder:t.inputPlaceholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),a("div",{staticClass:"msgbox-errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])])]):t._e(),t.code?a("div",{staticClass:"msgbox-code size20"},[a("p",[t._v("错误代码："+t._s(t.code))])]):a("div",{staticClass:"msgbox-code size20"}),"new"===t.boxType?a("div",{staticClass:"msgbox-btns-new pl30 pr30 mb30 pt20"},[a("div",{staticClass:"w100 text-center mt44 flex-wrp",class:t.showCancelButton?"flex-align-center flex-between":"flex-center"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showCancelButton,expression:"showCancelButton"}],staticClass:"message-btn-cancle",on:{click:function(e){return e.stopPropagation(),t.handleAction("cancel")}}},[t._v(t._s(t.cancelButtonText))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],staticClass:"message-btn-confirm",on:{click:function(e){return e.stopPropagation(),t.handleAction("confirm")}}},[t._v(t._s(t.confirmButtonText))])])]):a("div",{staticClass:"msgbox-btns"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.showCancelButton,expression:"showCancelButton"}],staticClass:"size28",class:[t.cancelButtonClasses],on:{click:function(e){return t.handleAction("cancel")}}},[t._v(t._s(t.cancelButtonText))]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],staticClass:"size28",class:[t.confirmButtonClasses],on:{click:function(e){return t.handleAction("confirm")}}},[t._v(t._s(t.confirmButtonText))])])])])],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},a7zJ:function(t,e,a){var i=a("Qgpm");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("1181c470",i,!1,{sourceMap:!1})},aZob:function(t,e,a){t.exports=a.p+"img/cluster_zoom.cf6c8b7.png"},dtNU:function(t,e,a){t.exports=a.p+"img/cluster.5844dd8.png"},eKv7:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white flex-wrp flex-align-center search-box border-radius10"},[a("i",{staticClass:"i-search-o color-search ml20 size40",on:{click:function(e){return t.submit()}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],ref:"serachinput",staticClass:"color81 size30 mr10 flex-item ptb24 nbr w80 search-input pr30",attrs:{type:"text",id:"serachinput",placeholder:"搜索附近美食吧~"},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit()},focus:t.onFocus,blur:t.onBlur,input:function(e){e.target.composing||(t.message=e.target.value)}}})])};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},eyZq:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".mask[data-v-c4d057be]{z-index:2000}.map-model[data-v-c4d057be]{position:fixed;bottom:0;width:92%;margin-left:4%;background:rgba(0,0,0,.7)}.map-content[data-v-c4d057be]{position:absolute}.map-d1[data-v-c4d057be]{top:-13.1875rem;height:2.5rem;line-height:2.5rem;text-align:center;border-top-right-radius:.625rem;border-top-left-radius:.625rem}.map-d2[data-v-c4d057be]{top:-10.6875rem;height:3.25rem;line-height:3.25rem}.map-d3[data-v-c4d057be]{top:-7.4375rem;height:3.25rem;line-height:3.25rem;border-bottom-right-radius:.625rem;border-bottom-left-radius:.625rem}.mapCancel[data-v-c4d057be]{width:100%;top:-3.875rem;text-align:center;height:3.25rem;line-height:3.25rem;margin:.3125rem 0 .625rem;border-radius:.625rem}",""])},fAxp:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAAXNSR0IArs4c6QAAA3pJREFUWAm1l8tvTXEQx11CVGmlgsZjIUGFColq69HEgqWkRdjYYGMjEkFi01jxB5BYWXmmolKkYiG3HqmQCIJK6x2PeNQj8W7L9fk2d27nnpx77m1zTPLJb34z85uZnt/p9HTYsJgllUqNgr3wAN7DeZgfc5nC01H8LATlJ4Z5hWeJKZKidcFO3L6pkDLDCwkaREzU1VQWkifuhroiinZG+OJ1cS0JZWQdAZfdNZnai1IVb9WQbBSZCmqgB5qgGMbDIfgIsl+HZSHH4zVRZAY8BS/tbEqtEvpI0//rSqE58ArC5BbGCf+1AZ+cYgtBAy9K7uOcDqMDxPvESF4Ln8HLXzZhL7KPMf0PygUo8j/kkHSSzIWv4EUFtigh6z7vyKNvHlIT/lCOgjsCMbvzNGLuVf6c1/vnhzfk0sm0Bt/pgP8l+5WJRCIzEImrx7YRxgRite2Bc8QfDvEN3kSxRvsR3foOfcHgs8V0guLbQS+yl09samIqMZCGpAlogKNwB57ATTgImWmLvgn6wIte+NqBbAMa9ho4AMqlYarcJ2ADjBiIdBqOCrgNUdKCs0zHWNfB70Bw0qVUTCmcCsQEtx0Ysq8cQyX4+aIreQZt8Bq8PGRjTa32DvQOawh9HNwN+N+wV87HoJFh8h2luv8sij45u8zDeglmWWKt7KvBJ29O28uwe/ENHXGOe+hLAjn1t7DVxehPUbGKbXXGK+ihd4q9BHT/JlUooQ1h1xDVU5a8gPG+GdOx6529CCa71FDSdqxzLThsxV/vYvej52qo0cWtD8tlNuKmu9gb+mK0JroZWJlHbgcCaxv7VNo2J+DzW8spW9aL7oOkU1PD9VHaXqGG7Ir60saopRfn33RA1JS3nGpeZ/KJ1U6oIRv75Ty6mXlO6sW0YnYu7Ih9P6vpzPwKC6TmZOz2tLv0Du10d9gadkg2YvRt43/T9Cmib+gvYNJ/PWwWmYFV/zDm/NzA1+xi96jQWNB8MDmOMtE3xn42tFkAa6Zx9AbQ+U5YbOfQW8AkiZL19NlPgpNg8halpP88Sh38Mg/rN7gKx0CfpPpYN3mOUm6Fc63EqKAfE5rq+tOhnO3wA0zkW5GVC8NSeGkROVYlmpZ1MGJD7BS4liOXmTUQl4emwVEE20DX0w3qXNdxBtZC1G9WrpwafjqrHMqlnB8gCaqV9X79A8/4JKxkI+5NAAAAAElFTkSuQmCC"},fByz:function(t,e,a){var i=a("9HCo");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("02bbe99c",i,!1,{sourceMap:!1})},fYTP:function(t,e,a){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div")};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},fcvD:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t.isMap?a("div",{staticClass:"mask"},[a("div",{staticClass:"flex-wrp flex-cell flex-center w100 bg-white map-bg map-model"},[a("div",{staticClass:"map-content map-d1 border-b w100 bg-white color5 size24"},[t._v("请选择地图")]),a("div",{staticClass:"flex-wrp flex-center w100 size36 color3  border-b map-content map-d2 bg-white",on:{click:t.addressGD}},[t._v("高德地图")]),a("div",{staticClass:"flex-wrp flex-center w100 size36 color3  map-content map-d3 bg-white",on:{click:t.addressBD}},[t._v("百度地图")]),a("div",{staticClass:"mapCancel map-content bg-white",on:{touchmove:function(t){t.preventDefault()},click:function(e){return t.cancel()}}},[t._v("取消")])])]):t._e()])};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},hcLw:function(t,e,a){var i=a("eyZq");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("5baefc7b",i,!1,{sourceMap:!1})},hioh:function(t,e,a){"use strict";var i=a("r95L"),o=a("fcvD"),r=!1;var s=function(t){r||a("hcLw")},n=a("VU/8")(i.a,o.a,!1,s,"data-v-c4d057be",null);n.options.__file="components/getMap.vue",e.a=n.exports},hxf6:function(t,e,a){"use strict";var i=a("Ds5F"),o=a("fYTP"),r=!1;var s=function(t){r||a("n0MW")},n=a("VU/8")(i.a,o.a,!1,s,"data-v-01f91858",null);n.options.__file="components/LoginZybankApp.vue",e.a=n.exports},l3o2:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.route,expression:"route"}],staticClass:"van-popup van-popup--top",staticStyle:{"z-index":"2019"}},[i("div",{staticClass:"h100 w100"},[i("div",{attrs:{id:"rMap"}}),i("div",{staticClass:"route-container-top plr30"},[i("div",{staticClass:"flex-wrp flex-align-center w100 mt20 route-grey"},[t._m(0),i("div",{staticClass:"flex-wrp flex-cell flex-start flex-item ml10 mr30"},[i("div",{staticClass:"route-address compulsory-row-one flex-item"},[t._v("我的位置")]),i("div",{staticClass:"route-address compulsory-row-one flex-item"},[t._v(t._s(t.navInfo.name))])])]),i("div",{staticClass:"flex-wrp flex-align-center w100 ptb20 flex-between"},[i("div",{staticClass:"policy-section",class:{"policy-section-active":"0"===t.policy},on:{click:function(e){return t.changePolicy("0")}}},[t._v("驾车")]),i("div",{staticClass:"policy-section",class:{"policy-section-active":"1"===t.policy},on:{click:function(e){return t.changePolicy("1")}}},[t._v("公交")]),i("div",{staticClass:"policy-section",class:{"policy-section-active":"2"===t.policy},on:{click:function(e){return t.changePolicy("2")}}},[t._v("骑行")]),i("div",{staticClass:"policy-section",class:{"policy-section-active":"3"===t.policy},on:{click:function(e){return t.changePolicy("3")}}},[t._v("步行")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.policy,expression:"policy === '1'"}],staticClass:"panel-container border-t"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.plans.length,expression:"plans.length === 0"}],staticClass:"bg-white plan-box size28 color44 text-center pt30"},[t._v("暂无适合的公交路线~")]),t._l(t.plans,function(e,a){return i("div",{key:a,staticClass:"w100 flex-wrp flex-align-center border-b plan-box"},[i("div",{staticClass:"flex-wrp flex-cell flex-around flex-item"},[i("label",{staticClass:"size32 color37 flex-item"},[t._v(t._s(t.getBusName(e.segments)))]),i("label",{staticClass:"size24 color5 flex-item"},[t._v("\n                            "+t._s(t._f("second2Min")(e.time))+"("+t._s(t._f("kilometers")(e.distance))+")   |   步行"+t._s(t._f("kilometers")(e.walking_distance)))])])])}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.plans.length>0,expression:"plans.length > 0"}],staticClass:"nav-btn flex-wrp flex-align-center flex-middle bus-nav-btn",on:{click:t.toAmapNav}},[i("img",{staticClass:"nav-img mr30 ",attrs:{src:a("70rK")}}),i("label",{staticClass:"size32 color1"},[t._v("开始导航")])])],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"!==t.policy,expression:"policy !== '1'"}],staticClass:"route-container-bottom flex-wrp flex-cell flex-align-center flex-around"},[i("div",{staticClass:"color44"},[i("label",{staticClass:"size30 mr30"},[t._v("全程"+t._s(t._f("kilometers")(t.distance))+",预计")]),i("label",{staticClass:"size50"},[t._v(t._s(t._f("second2Min")(t.minTime)))])]),i("div",{staticClass:"nav-btn flex-wrp flex-align-center flex-middle",on:{click:t.toAmapNav}},[i("img",{directives:[{name:"show",rawName:"v-show",value:"0"===t.policy,expression:"policy === '0'"}],staticClass:"nav-img mr30",attrs:{src:a("wQme")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"2"===t.policy,expression:"policy === '2'"}],staticClass:"nav-img mr30",attrs:{src:a("fAxp")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"3"===t.policy,expression:"policy === '3'"}],staticClass:"nav-img-walk mr30",attrs:{src:a("Npuk")}}),i("label",{staticClass:"size32 color1"},[t._v("开始导航")])])])])])};i._withStripped=!0;var o={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-wrp flex-cell flex-align-center flex-around pl30 pr10 h133"},[e("div",{staticClass:"start-point border-r-50"}),e("div",{staticClass:"grey-point border-r-50"}),e("div",{staticClass:"grey-point border-r-50"}),e("div",{staticClass:"end-point border-r-50"})])}]};e.a=o},n0MW:function(t,e,a){var i=a("Ldk8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("5b0a07a5",i,!1,{sourceMap:!1})},r95L:function(t,e,a){"use strict";var i=a("Dd8w"),o=a.n(i),r=a("DHvs"),s=a("NYxO");e.a={data:function(){return{timer:"",isMap:!1}},props:{lng:{type:String,default:""},lat:{type:String,default:""},title:{type:String,default:""},address:{type:String,default:""},origin:{type:String,default:""}},computed:o()({},Object(s.mapState)({user:function(t){return t.user.info}})),methods:{cancel:function(){"foodCoupon"===this.origin&&Object(r.l)("fm_couponClickPositionCancel"),this.isMap=!this.isMap},openLocation:function(){Object(r.i)()?this.user.id&&this.addressPreview():this.isMap=!this.isMap},addressPreview:function(){r.o.openLocation({title:this.title,lat:this.lat,lng:this.lng})},addressBD:function(){"foodCoupon"===this.origin&&Object(r.l)("fm_couponClickMapBaidu");var t=this.bd_decrypt(this.lng,this.lat),e="http://api.map.baidu.com/marker?location="+t.lat+","+t.lng+"&title="+this.address+"&content="+this.title+"&output=html&src=中原银行|中原银行";Object(r.d)()?e="bdapp://map/marker?location="+this.lat+","+t.lng+"&title="+this.address+"&content="+this.title+"&output=html&src=中原银行|中原银行&traffic=off":Object(r.e)()&&(e="baidumap://map/marker?location="+t.lat+","+t.lng+"&title="+this.address+"&content="+this.title+"&src=webapp.marker.中原银行.中原银行"),window.open(e.replace(/#/,"号"))},bd_decrypt:function(t,e){var a=3e3*Math.PI/180,i=t,o=e,r=Math.sqrt(i*i+o*o)+2e-5*Math.sin(o*a),s=Math.atan2(o,i)+3e-6*Math.cos(i*a);return{lng:r*Math.cos(s)+.0065,lat:r*Math.sin(s)+.006}},addressGD:function(){"foodCoupon"===this.origin&&Object(r.l)("fm_couponClickMapGeo");var t=this.lat,e=this.lng,a="https://uri.amap.com/marker?position="+e+","+t+"&name="+this.title+"&callnative=0";Object(r.d)()?a="androidamap://viewMap?sourceApplication=zybank&poiname="+this.title+"&lat="+t+"&lon="+e+"&dev=0":Object(r.e)()&&(a="iosamap://viewMap?sourceApplication=zybank&poiname="+this.title+"&lat="+t+"&lon="+e+"&dev=0"),window.open(a)},closeDialog:function(){this.ctrlFlag.val=!1,console.log("xxxxx",this.ctrlFlag.val)},confirmFun:function(){if(this.ctrlFlag.val=!1,this.canClickAgain){this.canClickAgain=!1;var t=this;this.timer=setTimeout(function(){t.canClickAgain=!0},400),this.$emit("confirmFun")}}}}},rgIq:function(t,e,a){"use strict";var i=a("Xxa5"),o=a.n(i),r=a("exGp"),s=a.n(r),n=a("mvHQ"),c=a.n(n),l=a("Dd8w"),d=a.n(l),p=a("NYxO"),h=a("DHvs"),u=a("7l9d"),m=a("Y6tJ"),f=a("hioh"),g=a("Fd2+"),b=a("hxf6"),v=a("KJds"),w=a("K2Ai"),x=a("5KGT"),k=a("CHyu"),y=a("3lqV"),C=a("0Xci");e.a={data:function(){return{map:"",lat:"",lng:"",geolat:"",geolng:"",shops:[],allShops:[],shopsLoadded:!1,KBShow:!1,shopType:"0",keyword:"",markerGroup0:"",markerGroup1:"",searchGroup:"",detailShow:!1,shopDetail:{},clickedMarker:"",zooMMarker:"",serachShow:!1,centerMaker:"",clusterShow:!1,clusterDetail:{},businessCluster:[],clusterShops:[],geoPlugin:"",moveend:!1,shop_couponPre:[],offsetTop:"",dragTop:!0}},components:{SearchBar:u.a,Star:m.a,GetMap:f.a,LoginZybankApp:b.a,Shop:v.a,BussinessCenter:w.a,RoutePolicy:y.a,DragEl:C.a,Toast:g.r},computed:d()({},Object(p.mapState)({user:function(t){return t.user.info},locationInfo:function(t){return t.session.locationInfo}})),mounted:function(){var t=this;Object(x.a)().then(function(e){console.log("地图加载成功"),t.markerGroup0=new e.OverlayGroup,t.markerGroup1=new e.OverlayGroup,t.searchGroup=new e.OverlayGroup,t.initMap()},function(t){console.log("地图加载失败",t),Object(k.a)({title:"温馨提示",message:"地图加载失败,请刷新页面重试！",showCancelButton:!1,confirmButtonClass:"color11",boxType:"new"})}),Object(h.d)()&&this.keyboradListener()},methods:{initMap:function(){var t=this,e=void 0;e=t.locationInfo?new AMap.LngLat(t.locationInfo.lng,t.locationInfo.lat):new AMap.LngLat(113.65,34.76),this.map=new AMap.Map("container",{zoom:15,center:e,features:["road","bg","building"],resizeEnable:!0,viewMode:"2D",preloadModel:!0}),this.map.on("complete",function(){var t=document.getElementsByClassName("amap-logo")||[];t.length>0&&t[0].parentNode.removeChild(t[0]);var e=document.getElementsByClassName("amap-copyright")||[];e.length>0&&e[0].parentNode.removeChild(e[0])}),this.map.on("click",function(){t.clickMarker()}),this.map.on("zoomchange",function(){t.zoomShops()}),this.map.on("moveend",function(){t.lat=t.map.getCenter().lat,t.lng=t.map.getCenter().lng,console.log("map moveend"+t.map.getCenter().lat+"，"+t.map.getCenter().lng)}),this.initMapPlugins()},initMapPlugins:function(){try{var t=this;AMap.plugin(["AMap.Scale","AMap.Geolocation"],function(){console.log("loading plugins"),t.map.addControl(new AMap.Scale({offset:new AMap.Pixel(13,100)})),t.geoPlugin=new AMap.Geolocation({enableHighAccuracy:!0,GeoLocationFirst:!0,timeout:2e3,maximumAge:1e4,convert:!0,showButton:!1,buttonPosition:"LB",buttonOffset:new AMap.Pixel(13,54),buttonDom:"",showMarker:!0,showCircle:!1,panToLocation:!0,zoomToAccuracy:!1,useNative:!1}),t.geoPlugin.getCurrentPosition(),AMap.event.addListener(t.geoPlugin,"complete",t.GeoComplete),AMap.event.addListener(t.geoPlugin,"error",t.GeoError),t.map.addControl(t.geoPlugin)})}catch(t){Object(k.a)({title:"温馨提示",message:c()(t),showCancelButton:!1,confirmButtonClass:"color11",boxType:"new"})}},GeoComplete:function(t){var e=new AMap.LngLat(t.position.lng,t.position.lat);this.map.setCenter(e),this.shopsLoadded||(this.lat=t.position.lat,this.lng=t.position.lng,this.geolat=t.position.lat,this.geolng=t.position.lng,this.getShops()),this.centerMaker&&this.map.remove(this.centerMaker)},GeoError:function(t){var e=new AMap.LngLat(this.locationInfo.lng,this.locationInfo.lat);this.map.setCenter(e),this.shopsLoadded||(this.lat=this.locationInfo.lat,this.lng=this.locationInfo.lng,this.geolat=this.locationInfo.lat,this.geolng=this.locationInfo.lng,this.getShops()),this.centerMaker&&this.map.remove(this.centerMaker),this.setCenterMarker()},zoomShops:function(){var t=this.map.getZoom(),e="marker"+this.shopType,a="markerGroup"+this.shopType;if(this.$data[e]&&0!==this.$data[e].length){console.log("scale"+t),this.$data[a].hide(),this.$data[a].clearOverlays();var i=void 0;i=t<=15?this.$data[e].slice(0,20):t>15&&t<=17?this.$data[e].slice(0,50):this.$data[e],this.$data[a].addOverlays(i),this.$data[a].show()}},getShops:function(){var t=s()(o.a.mark(function t(){var e,a,i,r,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.shops=[],this.allShops=[],this.businessCluster=[],e=void 0,this.shopsLoadded=!1,e="1"===this.shopType?"special":"2"===this.shopType?"hot":"3"===this.shopType?"combo":"",t.next=8,h.b.get("/v3/map",{sort:e,keyword:this.serachShow?this.keyword:"",lng:this.lng,lat:this.lat});case 8:if(a=t.sent,i=a.data,a.status,"200000"==i.code){for(this.allShops=i.shop.slice(0,100)||[],this.businessCluster=i.business_cluster,r=0,s=this.businessCluster.length||0;r<s;r++)this.$set(this.businessCluster[r],"showShops",[]);this.getClusterShopsOrNot(i.shop.slice(0,100),this.shopSimpleMaker)}else this.shopsLoadded=!0;this.serachShow&&0===this.allShops.length?this.offsetTop={top:""}:this.offsetTop={top:document.body.clientHeight-284+"px"};case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),filterShopName:function(t){return t.length>10?t.substr(0,10)+"...":t},setCenterMarker:function(){var t=this;AMapUI.loadUI(["overlay/SimpleMarker"],function(e){var i=new e({zIndex:100,offset:new AMap.Pixel(0,0),visible:!0,clickable:!1,map:t.map,position:[t.geolng,t.geolat]});i.setIconStyle({src:a("GJL8"),style:{width:"23px",height:"23px"}}),this.centerMaker=i})},shopSimpleMaker:function(){var t=this;AMapUI.loadUI(["overlay/SimpleMarker"],function(e){for(var i=0,o=t.businessCluster.length;i<o;i++){var r=new e({zIndex:o-i+100,topWhenClick:!0,anchor:"center",offset:new AMap.Pixel(0,0),visible:!0,clickable:!0,map:t.map,position:[t.businessCluster[i].lng,t.businessCluster[i].lat],extData:{index:i,cluster:t.businessCluster[i],type:"cluster"}});r.setLabel({offset:new AMap.Pixel(0,0),content:'<div class="shop-name-text">'+t.filterShopName(t.businessCluster[i].name)+"</div>",direction:"bottom"}),r.setIconStyle({src:a("dtNU"),style:{width:"21px",height:"23px"}}),r.on("click",function(e){console.log("click cluster",e),t.clickMarker(e.target)}),t.markerGroup1.addOverlay(r)}for(var s=0,n=t.shops.length;s<n;s++){var c=new e({zIndex:n-s+100,topWhenClick:!0,anchor:"center",offset:new AMap.Pixel(0,0),visible:!0,clickable:!0,map:t.map,position:[t.shops[s].geo_lng,t.shops[s].geo_lat],extData:{index:s,shop:t.shops[s],type:t.shopType}});c.setLabel({offset:new AMap.Pixel(0,0),content:'<div class="shop-name-text"> '+t.filterShopName(t.shops[s].name)+"</div>",direction:"bottom"}),c.setIconStyle({src:a("Qjsf"),style:{width:"21px",height:"23px"}}),c.on("click",function(e){t.clickMarker(this)}),t.serachShow?t.searchGroup.addOverlay(c):t.markerGroup0.addOverlay(c)}t.shopsLoadded||(t.shopsLoadded=!0),t.serachShow||t.zoomShops()})},clickMarker:function(t){var e=this;this.detailShow=!1,this.clusterShow=!1,this.zooMMarker&&(this.map.remove(this.zooMMarker),this.zooMMarker=null),this.clickedMarker&&this.clickedMarker.show(),t&&(console.log("00000000000000000"),t.hide(),this.$forceUpdate(),setTimeout(function(){e.clickedMarker=t,e.makeZoomMarker(t)},10))},makeZoomMarker:function(t){var e=this;AMapUI.loadUI(["overlay/SimpleMarker"],function(i){var o=new i({zIndex:t.getzIndex(),topWhenClick:!1,anchor:"center",offset:new AMap.Pixel(0,0),visible:!0,clickable:!1,map:e.map,position:t.getPosition()}),r=t.opts.extData.type;o.setIconStyle({src:a("cluster"===r?"aZob":"QbKL"),style:{width:"39px",height:"42px"}}),"cluster"!==r?(e.shopDetail=t.opts.extData.shop,o.setIconLabel({innerHTML:"<img src="+t.opts.extData.shop.thumb+' style="width: 26px;height: 26px; border-radius: 50%;margin-top: 4px;"/>'}),e.getShopCouponPre()):e.clusterDetail=t.opts.extData.cluster;var s=e.filterShopName("cluster"===r?e.clusterDetail.name:e.shopDetail.name);o.setLabel({offset:new AMap.Pixel(0,0),content:'<div class="shop-name-text">'+s+"</div>",direction:"bottom"}),e.zooMMarker=o,e.$nextTick(function(){"cluster"!==r?(e.detailShow=!0,e.clusterShow=!1,e.serachShow=!1,e.KBShow=!1):(e.clusterShow=!0,e.detailShow=!1,e.serachShow=!1,e.KBShow=!1)})})},getClusterShopsOrNot:function(t,e){this.clusterShops=[],this.shops=[];for(var a=[],i=0,o=this.businessCluster.length;i<o;i++)a.push(this.businessCluster[i].id);for(var r=0,s=t.length;r<s;r++){var n=a.indexOf(t[r].business_cluster);n>=0?this.businessCluster[n].showShops.push(t[r]):this.shops.push(t[r])}this.$nextTick(function(){e&&e()})},toSearchArea:function(){this.clickMarker(),this.serachShow=!1,this.searchGroup.setMap(null),this.searchGroup.clearOverlays(),this.keyword="",this.shopType="0",this.markerGroup0.setMap(null),this.markerGroup0.clearOverlays(),this.markerGroup1.setMap(null),this.markerGroup1.clearOverlays(),this.getShops()},onFocus:function(t){this.KBShow=!0},onBlur:function(t){this.clickMarker(),this.searchGroup.setMap(null),this.searchGroup.clearOverlays(),this.serachShow=!0,this.shopType="0",this.markerGroup0.setMap(null),this.markerGroup0.clearOverlays(),this.markerGroup1.setMap(null),this.markerGroup1.clearOverlays(),t&&t!==this.keyword?(this.keyword=t,this.getShops()):t||(this.serachShow=!1,this.getShops()),this.KBShow=!1},toSearchAll:function(){this.$router.push({path:"/shopSearch",query:{keyword:this.keyword}})},filterShop:function(t){this.shopType!==t&&(this.clickMarker(),this.shopType=t,this.markerGroup0.setMap(null),this.markerGroup0.clearOverlays(),this.markerGroup1.setMap(null),this.markerGroup1.clearOverlays(),this.getShops())},getMap:function(){this.$refs.getMap.openLocation()},keyboradListener:function(){var t=this,e=document.documentElement.clientHeight||document.body.clientHeight;$(window).resize(function(){var a=document.documentElement.clientHeight||document.body.clientHeight;e>a?console.log("keyboard show"):"serachinput"===document.activeElement.id&&(t.KBShow=!1,t.serachShow=!1)})},toggleFavor:function(){var t=this,e=this;if(this.user.id){var a=this.shopDetail.isfavor&&"0"!==this.shopDetail.isfavor?"取消收藏成功":"收藏成功";h.b.put("/user/favorite/switch",{type:1,target_id:this.shopDetail.id}).then(function(t){console.log(t),e.shopDetail.isfavor?e.$set(e.shopDetail,"isfavor",!1):e.$set(e.shopDetail,"isfavor",!0),t&&t.data&&"SUCCESS"===t.data.code&&Object(g.r)({message:a,duration:1e3})}).catch(function(e){console.log(e),weui.alert("网络错误"),t.shopDetail.isfavor=!t.shopDetail.isfavor})}else Object(h.i)()?console.log("isWechat"):this.$refs.loginZybankApp.Login("app")},showPolicy:function(){this.$refs.policyRef.show()},getShopCouponPre:function(){var t=void 0,e=void 0;if(this.shop_couponPre=[],this.shopDetail.commodity)for(var a=0;a<this.shopDetail.commodity.length&&("0"!==this.shopDetail.commodity[a].commodity_type||e||(e=this.shopDetail.commodity[a]),"1"!==this.shopDetail.commodity[a].commodity_type||t||(t=this.shopDetail.commodity[a]),!e||!t);a++);t&&this.shop_couponPre.push(t),e&&this.shop_couponPre.push(e)},gotoShop:function(){this.$router.push({path:"/shop_"+this.shopDetail.id})},onScroll:function(t){var e=t.target.scrollTop,a=document.getElementsByClassName("map-bottom-container");if(a.length>0){var i=a[0].style.top.replace("px","");this.dragTop=0!=i||0==e}}}}},"t0+h":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".msgbox[data-v-43e1d73a]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:99999999}.zy-msgbox[data-v-43e1d73a]{position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);background-color:#fff;width:85%;border-radius:.25rem;font-size:.5rem;overflow:hidden;-webkit-transition:.2s;transition:.2s}.msgbox-header[data-v-43e1d73a]{margin-top:1.5625rem;text-align:center}.msgbox-title[data-v-43e1d73a]{font-size:.5625rem}.msgbox-content[data-v-43e1d73a]{margin:.46875rem 1.5625rem 1.5625rem;text-align:center;color:#595758;font-size:.375rem}.msgbox-code[data-v-43e1d73a]{width:100%;color:#999;font-size:.75rem;text-align:right;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .15rem 0 0;display:inline-block}.msgbox-code p[data-v-43e1d73a]{width:67%;float:right;text-overflow:ellipsis;overflow:hidden;height:1.375rem;word-wrap:break-word;white-space:nowrap;padding-right:.3125rem;margin-bottom:0}.msgbox-message[data-v-43e1d73a]{font-size:.4375rem;padding:.9375rem .9375rem 0}.msg-content[data-v-43e1d73a]{margin:.3rem 0 .2rem}.iconfont.icon-cha[data-v-43e1d73a]{font-size:.4375rem}.msgbox-btns[data-v-43e1d73a]{border-top:.0625rem solid #eee}.msgbox-btns-new[data-v-43e1d73a],.msgbox-btns[data-v-43e1d73a]{line-height:2.5rem;text-align:center}.msgbox-btn[data-v-43e1d73a]{color:#666;background:#fff;border:0}.msgbox-can[data-v-43e1d73a]{position:absolute;width:.5rem;height:.5rem;right:0;top:0;text-align:center;color:#999;font-size:.4375rem;margin:.15625rem .3125rem .28125rem}.msgbox-input[data-v-43e1d73a]{padding-top:.46875rem;border:.03125rem solid #dedede;border-radius:.15625rem;padding:.125rem .15625rem;width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}.msgbox-input[data-v-43e1d73a]:focus,.msgbox-input[data-v-43e1d73a]:invalid{border-color:#ff4949}.msgbox-confirm[data-v-43e1d73a]{width:49%}.msgbox-confirm[data-v-43e1d73a]:active{color:#26a2ff}.msgbox-cancel[data-v-43e1d73a]{color:#666;width:48.9%;border-right:.03125rem solid #ddd}.msgbox-cancel[data-v-43e1d73a]:active{color:#000}.msgbox-bounce-enter[data-v-43e1d73a]{opacity:0;-webkit-transform:translate3d(-50%,-50%,0) scale(.7);transform:translate3d(-50%,-50%,0) scale(.7)}.msgbox-bounce-leave-active[data-v-43e1d73a]{opacity:0;-webkit-transform:translate3d(-50%,-50%,0) scale(.9);transform:translate3d(-50%,-50%,0) scale(.9)}.message-btn-confirm[data-v-43e1d73a]{background:#f56d23;border-radius:.25rem;color:#fff}.message-btn-cancle[data-v-43e1d73a],.message-btn-confirm[data-v-43e1d73a]{height:2.1875rem;line-height:2.1875rem;font-size:1rem;letter-spacing:.1875rem;text-align:center;width:8.125rem}.message-btn-cancle[data-v-43e1d73a]{background:#fff;border:.03125rem solid #f56d23;border-radius:.25rem;color:#f56d23}",""])},tSLi:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"map-container",attrs:{id:"mapContainer"}},[i("search-bar",{staticClass:"search-input-map",on:{onFocus:t.onFocus,onBlur:t.onBlur}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.moveend,expression:"moveend"}],staticClass:"search-btn-section",on:{click:t.toSearchArea}},[t._v("搜索当前区域")]),i("div",{attrs:{id:"container"},on:{touchmove:function(e){t.moveend=!0}}}),t.detailShow||t.KBShow?t._e():i("drag-el",{staticClass:"map-bottom-container",style:t.offsetTop,attrs:{dragable:!!(t.allShops.length>0&&t.dragTop)}},[i("div",{staticClass:"plugin-container flex-wrp flex-align-center flex-between w100 plr30 mb30"},[i("div",{staticClass:"map-center-container",on:{click:function(e){return t.geoPlugin.getCurrentPosition()}}},[i("div",{staticClass:"map-center-img"})])]),t.detailShow||t.serachShow||t.clusterShow?t._e():i("div",{staticClass:"map-bottom-sections"},[i("div",{staticClass:"flex-wrp flex-cell flex-align-center w100"},[i("div",{staticClass:"short-line mtb10"})]),i("div",{staticClass:"flex-wrp flex-align-center flex-between"},[i("div",{staticClass:"map-bottom-item",class:["0"===t.shopType?"map-bottom-item-active":""],on:{click:function(e){return t.filterShop("0")}}},[t._v("全部")]),i("div",{staticClass:"map-bottom-item",class:["1"===t.shopType?"map-bottom-item-active":""],on:{click:function(e){return t.filterShop("1")}}},[t._v("特色餐厅")]),i("div",{staticClass:"map-bottom-item",class:["2"===t.shopType?"map-bottom-item-active":""],on:{click:function(e){return t.filterShop("2")}}},[t._v("人气优选")]),i("div",{staticClass:"map-bottom-item",class:["3"===t.shopType?"map-bottom-item-active":""],on:{click:function(e){return t.filterShop("3")}}},[t._v("超值优惠")])])]),t.clusterShow?i("div",{staticClass:"bg-grey"},[i("div",{staticClass:"flex-wrp flex-cell flex-align-center w100 bg-white"},[i("div",{staticClass:"short-line mtb10"}),i("div",{staticClass:"text-center ptb20 color44 size28 w100"},[t._v("已展示"+t._s(t.clusterDetail.showShops.length)+"个结果")])]),i("bussiness-center",{class:{pb20:t.clusterDetail.showShops.length>0},attrs:{bcluster:t.clusterDetail,shopsLen:t.clusterDetail.showShops.length}})],1):t._e(),t.serachShow&&!t.detailShow?i("div",{staticClass:"bg-white"},[i("div",{staticClass:"flex-wrp flex-cell flex-align-center w100"},[i("div",{staticClass:"short-line mtb10"})]),t.shops.length>0?i("div",{staticClass:"seach-box",on:{click:function(e){return t.toSearchAll()}}},[t._v("点击查看全部搜索")]):i("div",{staticClass:"seach-box"},[t._v("很抱歉，未找到结果，您可以换个词试试！")])]):t._e(),t.serachShow&&t.shops.length>0?i("div",{staticClass:"shop-container"},[i("div",{staticClass:"scroll-area",on:{"&scroll":function(e){return t.onScroll(e)}}},t._l(t.shops,function(t,e){return i("shop",{key:"search"+e,attrs:{shop:t,order:e,type:"search"}})}),1)]):t._e(),t.serachShow?t._e():i("div",{staticClass:"shop-container"},[i("div",{staticClass:"scroll-area",on:{"&scroll":function(e){return t.onScroll(e)}}},[t._l(t.clusterDetail.showShops,function(e,a){return t.clusterShow?i("shop",{key:"cluster"+a,attrs:{shop:e,order:a,type:"cluster"}}):t._e()}),t._l(t.allShops,function(e,a){return t.clusterShow?t._e():i("shop",{key:a,attrs:{shop:e,order:a,type:"shop"}})}),!t.clusterShow&&0===t.allShops.length&&t.shopsLoadded?i("div",{staticClass:"bg-white"},[i("div",{staticClass:"kong text-center"},[i("img",{attrs:{src:a("lZOZ")}})]),i("div",{staticClass:"pt20 color44 size26 text-center"},[t._v("该区域暂无店铺~")])]):t._e()],2)])]),t.detailShow?i("div",{staticClass:"map-bottom-container ptb20 plr30 shop-detail-radius",attrs:{id:"container04"}},[i("div",{staticClass:"flex-wrp flex-cell flex-start bg-white w100",on:{click:t.gotoShop}},[i("div",{staticClass:"flex-wrp flex-align-center flex-between w100"},[i("div",{staticClass:"size36 color37 compulsory-row-one shop-title mb10 flex-item"},[t._v(t._s(t.shopDetail.name))]),t.shopDetail.isfavor&&"0"!==t.shopDetail.isfavor?i("i",{staticClass:"z z-collect size42 color11",on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.toggleFavor(e))}}}):i("i",{staticClass:"z z-collect-o size42 color11",on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.toggleFavor(e))}}})]),t._l(t.shop_couponPre||[],function(e,a){return i("div",{key:"coupon"+a,staticClass:"flex-wrp flex-align-center compulsory-row-one w100 flex-start lh42"},["0"===e.commodity_type?i("i",{staticClass:"z z-icon-test1 mr10 linear1 size30"}):i("i",{staticClass:"z z-quan mr10 linear size30"}),i("span",{staticClass:"size22 color-coupon"},[t._v(t._s(e.name))])])}),i("div",{staticClass:"size28 color5 compulsory-row-one lh42 mb10 w100"},[t._v("地址:"+t._s(t.shopDetail.address)+"/"+t._s(t.shopDetail.distance?t.shopDetail.distance.number:"")+t._s(t.shopDetail.distance?t.shopDetail.distance.unit:""))])],2),i("div",{staticClass:"flex-wrp flex-align-center border-t h112 w100"},[i("div",{staticClass:"flex-wrp flex-align-center size26 color5 plr30 flex-item"},[i("a",{staticClass:"flex-wrp flex-align-center plr30 mr20 text-center border h70 border-radius35",attrs:{href:"tel:"+t.shopDetail.tel}},[i("i",{staticClass:"i i-phone mr10"}),i("label",[t._v("联系电话")])]),i("div",{staticClass:"plr30 text-center border h70 border-radius35 flex-wrp flex-align-center",on:{click:t.getMap}},[i("i",{staticClass:"i i-phone mr10"}),i("label",[t._v("导航")])])]),i("div",{staticClass:"bg-orange h70 border-radius35 flex-wrp flex-align-center plr30",on:{click:t.showPolicy}},[i("img",{staticClass:"mr10",attrs:{src:a("wQme")}}),i("label",{staticClass:"color1 size26"},[t._v("查看路线")])])])]):t._e(),i("login-zybank-app",{ref:"loginZybankApp"}),i("get-map",{ref:"getMap",attrs:{lng:t.detailShow?t.shopDetail.geo_lng:t.clusterDetail.lng,lat:t.detailShow?t.shopDetail.geo_lat:t.clusterDetail.lng,address:t.detailShow?t.shopDetail.address:t.clusterDetail.address,title:t.detailShow?t.shopDetail.name:t.clusterDetail.name}}),t.shopsLoadded?i("route-policy",{ref:"policyRef",attrs:{navInfo:t.shopDetail,lat:t.geolat,lng:t.geolng}}):t._e()],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},viTZ:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".search-box[data-v-12a25911]{height:2.75rem;background:#fff}.search-input[data-v-12a25911]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:hsla(0,0%,100%,0);height:1.25rem;caret-color:#f56d23;color:#333}.color-search[data-v-12a25911]{color:#979797}",""])},wQme:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAlCAYAAADWSWD3AAAAAXNSR0IArs4c6QAAAxtJREFUWAntmU1sDVEUx42KtIpW4iuIsGmlPiIN0iAIKyRdsSJdSBMJEYtGJKwkbMTKxworG4J1F0J00UVjgaU0RBCpp2gRUVHP78+b5Pa+e+fjuU1fpSf5Z84595z/OXPfzNy586JpGaVYLLYSegysBc1gNqhUiiR+BAOgB1yNougJxzBCs3XgFhhP+QV5V5COIVLDPePZrcV9OEvjUVIQhKcZP+uIGcTXB/rBN8d4kquOwcVgG1hqBQ5hN3OpFCx/NpOGa8GQNRMj2F1gVjYWfxQcNaAT/ACmXPJnpYzAstNkQv8Jdqek5R6G86BV5wv23NxESiDxnEV2vSKiDEnUuW/VOp4hrTwEkj6LaGN5VBgPdbZbtfqxE++3ssokNABdDrF8QqkpCwzogP9pXKx03Oujn+4Z2IHfbPIhd/SoJzaU274BtZBlF870onXWR7NnVxZJPa0JH4y6WnC08pbJmOuGoDlEHABnwEIj+jV63uexkZ5ZXUZkvRH9GP0yuMsvPWz4/6o03A4+g2qUYZraM6ZpHB1gtBq7NXpSfx1qPEJZwFHLcYMcVS5a5pv09DgJJkPDms9G9aumN8uaRNKmptekNHyT8U1gJdCb2QMQWp5BuA8sBy3gAhgBLlmnd4wkuebKIuFeUlLOsTfEz7Pr4Dvk40lreoVNJhuyNh9hBf5TrhqlOi9cfL5lPOZ5FyvWUZuAUKJ9ok+cddKa3uVh2+rxV+J21mCGdcmsdhK6pt/wvUJfZSZirwfvjZgQaqdVox7Sbh+xFhdt55NEd3E3eA6agJZT8w0QM4g8gqUXaNfSDuYDp2Rp2pk4kc60a3oie/PWnmraOzWBB6ZmOvCE+uiKmunbvtEq9d/4s0fkUb2EBmcaTepZfMWwY/UEyp3YCHjcD9d5B98RfFojYvnOXnFghiyUt7FXR06iYNqGPkjsS8MOolLP+Y4BecFV77+6Eb96ptDn94Rndmvv55LyzwauKPn4uRqB/VKkz76LfDn/4i/V02cCU1S/NhcvCRtAL9CnV32M3JKLIGcw/K1A/zpocvQVtcVH8RtY5okSozrLogAAAABJRU5ErkJggg=="},yMFp:function(t,e,a){"use strict";e.a={props:{value:{type:Number,default:0},max:{type:Number,default:5}},methods:{onChange:function(t){this.$emit("onChange",t)}}}},zCFp:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".plan-box[data-v-6937087c]{background:#fff;min-height:4.8125rem}#rMap[data-v-6937087c]{height:100vh;width:100%;-webkit-overflow-scrolling:touch}.route-container-top[data-v-6937087c]{width:100%;position:fixed;top:0;left:0;background-color:#fff}.route-grey[data-v-6937087c]{background:#f8f8f8;border-radius:.125rem;min-height:4.15625rem}.h133[data-v-6937087c]{min-height:3.125rem}.route-address[data-v-6937087c]{height:1.25rem;line-height:1.25rem;font-size:.875rem;color:#333;letter-spacing:0;width:100%}.border-r-50[data-v-6937087c]{border-radius:50%}.start-point[data-v-6937087c]{width:.5rem;height:.5rem;background:#7ed321}.end-point[data-v-6937087c]{width:.5rem;height:.5rem;background:#ec373e}.grey-point[data-v-6937087c]{width:.25rem;height:.25rem;background:#ccc}.policy-section[data-v-6937087c]{height:1.6875rem;line-height:1.6875rem;text-align:center;background:#f5f5f5;border-radius:.84375rem;font-size:.9375rem;color:#333;width:18%}.policy-section-active[data-v-6937087c]{background-image:-webkit-gradient(linear,right top,left top,from(#fba649),to(#f56d23));background-image:linear-gradient(-90deg,#fba649,#f56d23);color:#fff}.flex-wrp .route-address[data-v-6937087c]{min-height:1.5625rem;line-height:1.5625rem;font-size:.875rem;color:#333}.flex-wrp .route-address[data-v-6937087c]:first-child{border-bottom:.0625rem solid #ccc}.route-container-bottom[data-v-6937087c]{position:fixed;left:4%;bottom:4%;width:92%;height:7.375rem;background:#fff;-webkit-box-shadow:0 .0625rem .3125rem 0 #ccc;box-shadow:0 .0625rem .3125rem 0 #ccc}.nav-btn[data-v-6937087c]{background-image:-webkit-gradient(linear,right top,left top,from(#fba649),to(#f56d23));background-image:linear-gradient(-90deg,#fba649,#f56d23);height:2.5rem;border-radius:1.04688rem;width:90%}.nav-img[data-v-6937087c]{width:1.125rem;height:.9375rem}.nav-img-walk[data-v-6937087c]{width:.6875rem;height:1.09375rem}.bus-nav-btn[data-v-6937087c]{position:fixed;bottom:6%;left:11%;width:78%!important}",""])},zMQr:function(t,e,a){"use strict";var i=a("5KGT"),o=a("DHvs");e.a={props:{navInfo:{type:Object,required:!0},lat:{type:Number},lng:{type:Number}},data:function(){return{policy:"0",route:!1,routeMap:"",driving:"",riding:"",walking:"",bus:"",distance:0,minTime:0,start:"",end:"",plans:[]}},mounted:function(){var t=this;Object(i.a)().then(function(e){var a=new e.LngLat(t.lng,t.lat);t.routeMap=new e.Map("rMap",{zoom:14,center:a}),t.driving=new e.Driving({map:t.routeMap,autoFitView:!0,policy:e.DrivingPolicy.REAL_TRAFFIC,isOutline:!1}),t.riding=new e.Riding({map:t.routeMap,autoFitView:!0,isOutline:!1}),t.walking=new e.Walking({map:t.routeMap,autoFitView:!0,isOutline:!1}),t.bus=new e.Transfer({city:t.navInfo.city?t.navInfo.city.name:"郑州市",map:t.routeMap,autoFitView:!0,policy:e.DrivingPolicy.REAL_TRAFFIC,isOutline:!1})},function(t){console.error("地图加载失败",t)}),this.backFn()},beforeDestroy:function(){window.removeEventListener("popstate",this.show,!1)},filters:{kilometers:function(t){return isNaN(t)?t:t<1e3?t+"米":(t/1e3).toFixed(2)+"公里"},second2Min:function(t){return isNaN(t)?t:t<60?"1分钟":parseInt(t/60)+"分钟"}},methods:{policySeachCaback:function(t,e){"complete"===t?(this.distance=e.routes[0].distance,this.minTime=e.routes[0].time):console.error("获取数据失败："+e)},drivingPolicy:function(){this.driving.search(this.start,this.end,this.policySeachCaback)},busPolicy:function(){var t=this;this.bus.search(this.start,this.end,function(e,a){"complete"===e?t.plans=a.plans||[]:(t.plans=[],console.error("获取数据失败：",a))})},ridePolicy:function(){this.riding.search(this.start,this.end,this.policySeachCaback)},walkPolicy:function(){this.walking.search(this.start,this.end,this.policySeachCaback)},changePolicy:function(t){switch(this.policy=t,this.driving.clear(),this.bus.clear(),this.riding.clear(),this.walking.clear(),t){case"0":this.driving.search(this.start,this.end,this.policySeachCaback);break;case"1":this.busPolicy();break;case"2":this.riding.search(this.start,this.end,this.policySeachCaback);break;case"3":this.walking.search(this.start,this.end,this.policySeachCaback)}},show:function(){this.route=!this.route,this.route&&(this.start=new AMap.LngLat(this.lng,this.lat),this.end=new AMap.LngLat(this.navInfo.geo_lng,this.navInfo.geo_lat),this.changePolicy("0"),this.pushHistory())},getBusName:function(t){for(var e=void 0,a=0,i=t.length;a<i;a++)if("BUS"===t[a].transit_mode||"SUBWAY"===t[a].transit_mode){e=t[a].transit.lines[0].name;break}return e},pushHistory:function(){window.history.pushState({title:"中原吃货地图",url:"#"},"title","#")},backFn:function(){window.addEventListener("popstate",this.show,!1)},toAmapNav:function(){var t=this.lat,e=this.lng,a="https://uri.amap.com/marker?position="+e+","+t+"&name="+this.navInfo.name+"&callnative=0";Object(o.d)()?a="androidamap://viewMap?sourceApplication=zybank&poiname="+this.navInfo.name+"&lat="+t+"&lon="+e+"&dev=0":Object(o.e)()&&(a="iosamap://viewMap?sourceApplication=zybank&poiname="+this.navInfo.name+"&lat="+t+"&lon="+e+"&dev=0"),window.open(a)}}}}});