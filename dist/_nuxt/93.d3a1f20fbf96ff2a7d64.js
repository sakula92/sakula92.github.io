webpackJsonp([93],{"+Bn4":function(t,e,i){t.exports=i.p+"img/activeBuyingBtn.7e2b323.png"},"/CyT":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("pB6M"),n=i("5Fa8"),r=!1;var s=function(t){r||i("torI")},o=i("VU/8")(a.a,n.a,!1,s,null,null);o.options.__file="pages/active/_id.vue",e.default=o.exports},"5Fa8":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"imgContainer"},[i("div",{staticClass:"item1",style:{background:"url("+t.activeData.top_pic+")",backgroundSize:"100% 100%"}},[i("div",{staticClass:"headerDesc w100 size36",style:{color:""+t.activeData.color}},[i("div",{staticClass:"pb12 bold"},[t._v(t._s(t.activeData.desc))]),i("div",{staticClass:"bold"},[t._v(t._s(t.activeData.sub_desc))])])]),t._l(t.products,function(e,a){return i("div",{key:a,staticClass:"item0",style:{background:"url("+e.bgLink+")",backgroundSize:"100% 100%"}},[i("div",{staticClass:"clickArea",on:{click:function(i){return t.toBuying(e)}}},[i("div",{style:{backgroundColor:""+t.activeData.product_bg_color}},[i("div",{staticClass:"bl1",class:a%2==0?"fl":"fr"},[i("img",{attrs:{src:e.thumbnail}})]),i("div",{staticClass:"bl2 fl flex-wrp flex-flow-row ",class:a%2==0?"ml3vw":"mr3vw"},[i("div",{staticClass:"size36 shopName bold lh36 text-center",style:{color:""+t.activeData.product_font_color}},[t._v(t._s(e.name))]),i("div",{staticClass:"size24 text-center"},[t._v(t._s(e.desc))]),i("div",{staticClass:"van-line"}),i("div",{staticClass:"size24 times"},[t._v(t._s(e.dateTerm))]),i("div",{staticClass:"van-line"}),i("div",{staticClass:"size20 del lin30",staticStyle:{color:"#712b06","font-size":"8px"}},[t._v("原价"+t._s(e.org_price)+"元")]),i("div",{staticClass:"size24 price",style:{color:""+t.activeData.product_font_color}},[t._v("抢购价：\n              "),i("span",{staticClass:"size34 bold"},[t._v(t._s(e.cur_price)+"元")])]),t._m(0,!0)])])])])}),i("div",{staticClass:"item1",style:{background:"url("+t.activeData.bottom_pic+")",backgroundSize:"100% 100%"},on:{click:function(e){return t.bottomLink()}}},[t.activeData.bottom_desc?i("div",{staticClass:"bottomDesc",style:{color:""+t.activeData.color}},[t._v(t._s(t.activeData.bottom_desc))]):t._e()])],2)])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"size22 btn vertical-bottom"},[e("img",{attrs:{src:i("+Bn4")}})])}];a._withStripped=!0;var r={render:a,staticRenderFns:n};e.a=r},Gh7B:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".imgContainer{width:100%;background-size:100% 100%;background-color:#fff;overflow:hidden}.item{width:100%}.item,.item1{position:relative}.item1{height:90vw}.headerDesc{bottom:11vw;height:1.375rem;line-height:1.375rem}.bottomDesc,.headerDesc{width:80%;position:absolute;text-align:center;left:10%}.bottomDesc{bottom:1.875rem;height:2.5rem}.item>img{width:100%;height:100%}.clickArea{width:85%;min-height:40vw;margin:0;margin-left:7.5%}.clickArea>div{height:100%;background-color:#fff4dd;overflow:hidden;padding:2vw;border-radius:2vw}.item0{min-height:44vw;padding:2vw 0;position:relative}.item0>img{width:100%;height:100%}.bl1{width:36vw;height:36vw}.bl2{width:41vw;min-height:36vw}.bl2>div{width:100%}.ml3vw{margin-left:3vw}.mr3vw{margin-right:3vw;text-align:right}.bl1>img{width:100%;height:100%;border-radius:2vw}.imgPosition{height:33vw;width:68vw;position:absolute;left:17vw}.times{text-align:center;padding:.5vw 0}.oldPrice{padding-top:1vw}.lh36{min-height:1.125rem;max-height:2.3125rem;line-height:1.125rem}.van-line{width:100%;border-top:1px solid #b5231e}.line6{width:100%;border-top:.125rem solid #b5231e}.vertical-bottom{vertical-align:bottom}.lin30{line-height:.9375rem}.pb12{padding-bottom:.25rem}",""])},pB6M:function(t,e,i){"use strict";var a=i("Xxa5"),n=i.n(a),r=i("exGp"),s=i.n(r),o=i("Dd8w"),c=i.n(o),u=i("DHvs"),l=i("NYxO");e.a={data:function(){return{products:[],activeData:{}}},computed:c()({},Object(l.mapState)({config:function(t){return t.config},user:function(t){return t.user.info},agentCity:function(t){return t.session.agentCity}})),head:function(){return{title:""}},asyncData:function(){var t=s()(n.a.mark(function t(e){var i,a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.get("/theme-activity/"+e.params.id,null,e);case 2:if(i=t.sent,a=i.data,200!==(r=i.status)||"SUCCESS"!=a.code){t.next=9;break}return t.abrupt("return",{activeData:a.data});case 9:return t.abrupt("return",e.error({error:a,statusCode:r,message:"活动不存在"}));case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.products=t.activeData.products;for(var e=0;e<t.products.length;e++){t.products[e].bgLink=t.activeData.product_pics[e].link;var i=t.products[e].start_time.replace(/-/g,"/"),a=t.products[e].end_time.replace(/-/g,"/");i=new Date(i),a=new Date(a),t.products[e].dateTerm=i.getMonth()+1+"月"+i.getDate()+"日 - "+(a.getMonth()+1)+"月"+a.getDate()+"日"}});if(Object(u.i)()){var e={title:this.activeData.share_title,desc:this.activeData.share_sub_title,link:location.origin+location.pathname,imgUrl:this.activeData.share_pic,success:function(){}};if(u.o.setShare(e),!this.user.id&&-1===location.href.indexOf("OpenId")){var i="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx0f4ab8a6e6185c70&redirect_uri=https%3A%2F%2Fwbs.zyebank.com%2Fpweixin%2Fweixin%2Fhtmls%2FAppSharePages%2FGotoUrl%2Findex.html%3Fgotourl%3Dhttps%3A%2F%2Fzfm.zybank.com.cn&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect",a=i.slice(0,229),n=i.slice(229);location.href=a+encodeURIComponent(location.pathname+location.search)+n}this.getWeixinUser()}},methods:{toBuying:function(t){Object(u.l)("fm_themeActivity",this.user,{city_id:this.agentCity&&this.agentCity.city_id,act_name:"五一活动",commodity_name:this.activeData.desc}),"0"===t.commodity_type||0===t.commodity_type?this.$router.push({path:"/buying_"+t.id}):this.$router.push({path:"/foodCoupon",query:{id:t.id}})},init:function(){var t=s()(n.a.mark(function t(){var e,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.get("/theme-activity/"+this.$route.params.id,null);case 2:e=t.sent,i=e.data,200===e.status&&"SUCCESS"==i.code&&(this.activeData=i.data);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),bottomLink:function(){this.activeData.app_bottom_link&&(location.href=this.activeData.app_bottom_link,Object(u.l)("fm_themeActivityBottomLink",this.user,{city_id:this.agentCity&&this.agentCity.city_id,link:this.activeData.app_bottom_link}))},getWeixinUser:function(){var t=location.href,e=t.indexOf("?"),i=t.substr(e+1);this.userInfoQry(i)},userInfoQry:function(){var t=s()(n.a.mark(function t(e){var i,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.get("/weixin/tools/wxLogin",{urlParam:e});case 2:i=t.sent,a=i.data,200===i.status&&"SUCCESS"===a.code&&this.$store.dispatch("user/getUser");case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),shareSuccess:function(){var t=s()(n.a.mark(function t(){var e,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.get("/user/share");case 2:e=t.sent,i=e.data,200===e.status&&"SUCCESS"===i.code&&this.getData(),console.log(i,"sharedata");case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),buyingLink:function(){var t=s()(n.a.mark(function t(e){var i,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,"22"),t.next=3,u.b.get("/v2/buying/"+e.id);case 3:i=t.sent,a=i.data,i.status,"SUCCESS"==a.code?this.$router.push({path:"/buying_"+e.id}):"OK"!=a.msg&&weui.alert(a.msg);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},torI:function(t,e,i){var a=i("Gh7B");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("f178dc28",a,!1,{sourceMap:!1})}});