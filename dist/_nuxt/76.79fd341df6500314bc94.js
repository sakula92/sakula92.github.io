webpackJsonp([76],{"2dih":function(t,e,i){"use strict";var a=i("woOf"),s=i.n(a),n=i("Dd8w"),r=i.n(n),o=i("Xxa5"),l=i.n(o),c=i("exGp"),d=i.n(c),f=i("qK+J"),v=i.n(f),u=i("NYxO"),m=i("RWSh");i("sLTV");e.a={data:function(){return{inviteLog:{filter:{limit:10},logs:[]},showRule:!1,showShare:!1}},asyncData:function(){var t=d()(l.a.mark(function t(e){var i,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==parseInt(e.store.state.vip.config.is_invite)){t.next=2;break}return t.abrupt("return",e.error({statusCode:403,message:"未启用会员推荐"}));case 2:if(2!==parseInt(e.store.state.vip.config.is_invite)||e.store.state.user.info.is_vip){t.next=4;break}return t.abrupt("return",e.error({statusCode:403,message:"成为会员后才能推荐"}));case 4:return t.next=6,m.a.get("/user/invite",null,e);case 6:if(i=t.sent,a=i.data,200!==i.status||"SUCCESS"!==a.code){t.next=11;break}return t.abrupt("return",{inviteConfig:a});case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),computed:r()({},Object(u.mapState)({config:function(t){return t.config}})),components:{InfiniteLoading:v.a},mounted:function(){},beforeDestroy:function(){},methods:{fetchInviteLogs:function(){var t=d()(l.a.mark(function t(e){var i,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/user/invite/log",s()({},this.inviteLog.filter,{last_id:this.inviteLog.logs.length}));case 2:i=t.sent,a=i.data,this.inviteLog.logs=this.inviteLog.logs.concat(a.logs||[]),a.total_bonus&&(this.inviteLog.total_bonus=a.total_bonus),a.total_user_num&&(this.inviteLog.total_user_num=a.total_user_num),this.inviteLog.logs.length>0&&e.loaded(),(a.logs||[]).length<this.inviteLog.filter.limit&&e.complete();case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),toggleRule:function(){this.showRule=!this.showRule},toggleShare:function(){this.showShare=!this.showShare}}}},"40oH":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".head[data-v-1f76c4a1]{height:2.34375rem;color:#deca7e;overflow:hidden;margin:0 1.71875rem;border-radius:.3125rem .3125rem 0 0;background:#232428}.head span[data-v-1f76c4a1]{color:#f44c2d}.ani-list[data-v-1f76c4a1]{line-height:2.34375rem}.ani[data-v-1f76c4a1]{-webkit-animation:topToBottom-data-v-1f76c4a1 15s linear infinite;animation:topToBottom-data-v-1f76c4a1 15s linear infinite}@-webkit-keyframes topToBottom-data-v-1f76c4a1{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-90%);transform:translateY(-90%)}}@keyframes topToBottom-data-v-1f76c4a1{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-90%);transform:translateY(-90%)}}.con[data-v-1f76c4a1]{position:relative;margin:0 1.09375rem;padding-top:5.625rem;background:#fff}.img[data-v-1f76c4a1]{display:block;position:absolute;top:0;left:0}.text[data-v-1f76c4a1]{line-height:200%}.con-box[data-v-1f76c4a1]{position:relative;z-index:10}.model[data-v-1f76c4a1]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1001}.button[data-v-1f76c4a1]{border:.09375rem solid #fff;border-radius:.3125rem}.share[data-v-1f76c4a1]{margin-left:5rem;margin-right:.9375rem}.sta[data-v-1f76c4a1]{height:4.8125rem}.nodata[data-v-1f76c4a1]{width:6.25rem;height:6.1875rem}.avatar[data-v-1f76c4a1]{width:2rem;height:2rem}.list[data-v-1f76c4a1]{border-bottom:.03125rem dashed #ececec}.foot[data-v-1f76c4a1]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""])},"GT/k":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{background:"#131417"}},[a("base-header",{attrs:{title:"会员推荐"}}),a("img",{staticClass:"w100 block",attrs:{src:i("fYej")}}),a("div",{staticClass:"text-center size24 head"},[a("div",{staticClass:"ani"},t._l(t.inviteConfig.broadcast,function(e,i){return a("div",{key:i,staticClass:"ani-list"},[t._v("\n                "+t._s(e.from_nickname.substring(0,8))+" 邀请了 "+t._s(e.nickname.substring(0,8))+"，获得"),a("span",[t._v(t._s(t._f("number_format")(e.bonus))+"元")]),t._v("现金\n            ")])}),0)]),a("div",{staticClass:"con"},[a("img",{staticClass:"w100 img",attrs:{src:i("Zye2")}}),a("div",{staticClass:"con-box"},[a("div",{staticClass:"size24 color5 text-center mb20 text"},[t._l(t.inviteConfig.prices,function(e,i){return a("div",{key:i},[t._v("\n                    推荐好友购买"+t._s(e.title)+"，可获得奖励金\n                    "),a("span",{staticClass:"bold"},[t._v(t._s(e.member_rewards)+"元")])])}),t._m(0)],2),a("div",{staticClass:"flex-wrp flex-center"},[a("div",{staticClass:"size28 color1 plr40 border-radius50 ptb10 bg-black",on:{click:t.toggleShare}},[t._v("立即推荐赢现金")])]),a("div",{staticClass:"ptb35 text-center size24 color4",on:{click:t.toggleRule}},[t._v("活动规则 >")]),a("div",{staticClass:"flex-wrp sta"},[a("div",{staticClass:"flex-item size28 flex-wrp flex-cell flex-center mr5",staticStyle:{background:"#ececec"}},[a("div",{staticClass:"mb15"},[t._v("累计奖励")]),a("div",{staticClass:"bold size24"},[a("span",{staticClass:"size40"},[t._v(t._s(t._f("number_format")(t.inviteLog.total_bonus)))]),t._v("元")])]),a("div",{staticClass:"flex-item size28 flex-wrp flex-cell flex-center mr5",staticStyle:{background:"#ececec"}},[a("div",{staticClass:"mb15"},[t._v("成功推荐")]),a("div",{staticClass:"bold size24"},[a("span",{staticClass:"size40"},[t._v(t._s(t.inviteLog.total_user_num||0))]),t._v("人")])])])]),a("div",{staticClass:"mt35 pb35"},[t._l(t.inviteLog.logs,function(e,i){return a("div",{key:i,staticClass:"plr20 ptb20 flex-wrp flex-between flex-align-center list"},[a("div",[a("img",{staticClass:"block border-radius mb5 avatar",attrs:{src:e.avatar}}),a("div",{staticClass:"size22 color37"},[t._v(t._s(e.nickname))])]),a("div",[a("div",{staticClass:"size24 colo3 pb25 text-right"},[t._v("开通"+t._s(e.time_desc)+"——赠送"+t._s(t._f("number_format")(e.bonus))+"元")]),a("div",{staticClass:"size24 color4 text-right"},[t._v(t._s(t._f("datetime_format")(e.created_at,"YYYY年MM月")))])])])}),a("no-ssr",[a("infinite-loading",{on:{infinite:t.fetchInviteLogs}},[a("loading",{attrs:{slot:"spinner"},slot:"spinner"}),a("div",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("\n                        没有更多了~\n                    ")]),a("div",{staticClass:"foot",attrs:{slot:"no-results"},slot:"no-results"},[a("div",{staticClass:"flex-item bg-fill nodata",staticStyle:{"background-image":"url('../../assets/images/no_data.png')"}}),a("div",{staticClass:"color5 ptb30 size24"},[t._v("您还没有邀请")]),a("div",{staticClass:"text-center color1 size26 plr40 ptb5 bg-black border-radius50",on:{click:t.toggleShare}},[t._v("立即邀请")])])],1)],1)],2)]),t.showRule?a("div",{staticClass:"weui-mask",on:{click:t.toggleRule}}):t._e(),t.showRule?a("div",{staticClass:"bg-white pd30 fixed-bottom weui-animate-slide-up",staticStyle:{"z-index":"1001"},on:{click:t.toggleRule}},[t._v("\n        "+t._s(t.inviteConfig.rule)+"\n    ")]):t._e(),t.showShare?a("div",{staticClass:"weui-mask",on:{click:t.toggleShare}}):t._e(),t.showShare?a("div",{staticClass:"flex-wrp flex-cell flex-item model"},[t._m(1),a("div",{staticClass:"flex-wrp flex-center",staticStyle:{flex:"2"},on:{click:t.toggleShare}},[a("div",{staticClass:"ptb20 plr45 size30 color1 button"},[t._v("知道啦")])])]):t._e()],1)};a._withStripped=!0;var s={render:a,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n                    多邀请一位会员，可累加奖励多邀"),e("span",{staticClass:"bold"},[this._v("多送")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-wrp flex-reverse flex-item"},[e("div",{staticClass:"flex-item bg-fill share",staticStyle:{"background-image":"url('../../assets/images/vip_tuijian.png')"}})])}]};e.a=s},VPbY:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("2dih"),s=i("GT/k"),n=!1;var r=function(t){n||i("sTaS")},o=i("VU/8")(a.a,s.a,!1,r,"data-v-1f76c4a1",null);o.options.__file="pages/vip/recommend.vue",e.default=o.exports},Zye2:function(t,e,i){t.exports=i.p+"img/invite_con_bg.37de290.png"},fYej:function(t,e,i){t.exports=i.p+"img/invite_head_bg.22c034f.png"},sTaS:function(t,e,i){var a=i("40oH");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("3154c4b4",a,!1,{sourceMap:!1})}});