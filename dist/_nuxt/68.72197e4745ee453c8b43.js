webpackJsonp([68],{"I4/z":function(t,e,s){t.exports=s.p+"img/vip_banner_gift.3db5ff9.png"},MTlC:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("base-header",{attrs:{title:"尊享商家折扣"}}),t._m(0),s("div",{staticClass:"flex-wrp ptb20 week"},[s("div",{staticClass:"flex-wrp flex-end ptb10 pl10"},[s("div",{staticClass:"size68 lh90"},[t._v(t._s(t.moment().format("MM")))]),s("div",{staticClass:"size22"},[t._v("月")])]),t._l(t.week,function(e){return s("div",{staticClass:"size26 flex-wrp flex-cell flex-align-center border-radius ptb10 plr35",class:{"week-active":e.week===t.filter.day},on:{click:function(s){t.filter.day=e.week}}},[s("div",{staticClass:"color4"},[t._v(t._s(e.text))]),s("div",{staticClass:"color5"},[t._v(t._s(e.day))])])})],2),s("div",{staticClass:"bg-white plr20"},t._l(t.shops,function(t,e){return s("vip-shop-item",{key:e,attrs:{shop:t}})}),1),s("load-more",{ref:"loadMore",attrs:{handler:t.fetchShops}})],1)},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-white pd30"},[e("img",{staticClass:"w100",attrs:{src:s("I4/z")}})])}];a._withStripped=!0;var r={render:a,staticRenderFns:i};e.a=r},O0t4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("YjS/"),i=s("MTlC"),r=!1;var n=function(t){r||s("t2Mv")},o=s("VU/8")(a.a,i.a,!1,n,"data-v-2ad04721",null);o.options.__file="pages/vip/shop.vue",e.default=o.exports},ScJO:function(t,e,s){"use strict";e.a={props:{shop:{type:Object,required:!0}}}},"YjS/":function(t,e,s){"use strict";var a=s("Xxa5"),i=s.n(a),r=s("woOf"),n=s.n(r),o=s("exGp"),l=s.n(o),c=s("YtTh"),d=s("RWSh"),p=s("PJh5"),f=s.n(p);e.a={data:function(){return{shops:[],filter:{limit:10,offset:0,day:parseInt(f()().format("d"))||7}}},components:{VipShopItem:c.a},computed:{week:function(){for(var t=["日","一","二","三","四","五","六"],e=[{week:parseInt(f()().add(-1,"d").format("d"))||7,day:f()().add(-1,"d").format("DD"),text:t[f()().add(-1,"d").format("d")]}],s=0;s<6;s++)e.push({week:parseInt(f()().add(s,"d").format("d"))||7,day:f()().add(s,"d").format("DD"),text:t[f()().add(s,"d").format("d")]});return e}},methods:{fetchShops:function(){var t=l()(i.a.mark(function t(){var e,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/vip/shops",n()({},this.filter,{offset:this.shops.length}));case 2:return e=t.sent,s=e.data,this.shops=this.shops.concat(s.shops||[]),t.abrupt("return",{length:this.shops.length,isMore:(s.shops||[]).length>=this.filter.limit});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},watch:{"filter.day":function(){var t=this;this.shops=[],this.$nextTick(function(){t.$refs.loadMore.$refs.infiniteLoading.$emit("$InfiniteLoading:reset")})}}}},YtTh:function(t,e,s){"use strict";var a=s("ScJO"),i=s("ZxHN"),r=s("VU/8")(a.a,i.a,!1,null,null,null);r.options.__file="components/Vip/Shop/Item.vue",e.a=r.exports},ZxHN:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nuxt-link",{staticClass:"inline-block w50 pd15 ptb20",attrs:{to:{path:"/shop_"+t.shop.id}}},[s("base-img",{staticClass:"w100",staticStyle:{height:"26vw"},attrs:{src:t.shop.thumb}}),s("div",{staticClass:"size26 color27 ptb15 lh100 shop-title"},[t._v(t._s(t.shop.title))]),t.shop.tag?s("div",{staticClass:"color4 size24 pt5 border-t",staticStyle:{"border-top-style":"dotted"}},[t._v(t._s(t.shop.tag))]):t._e(),s("div",{staticClass:"flex-wrp flex-align-stretch flex-between pt10 lh100"},[t.shop.discount_info.vip?s("div",{staticClass:"flex-wrp flex-end color27"},[s("div",{staticClass:"size36 lh90"},[t._v(t._s(t.shop.discount_info.vip.scale))]),s("div",{staticClass:"size22"},[t._v("折")]),s("div",{staticClass:"ml10 plr10 size22 vip-label-lt"},[t._v("会员")])]):t._e(),t.shop.distance?s("div",{staticClass:"flex-wrp flex-end size26 color4"},[t._v(t._s(t.shop.distance.number)+t._s(t.shop.distance.unit))]):t._e()])],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};e.a=i},nawm:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,".week[data-v-2ad04721]{background:#faf9f3;overflow-x:auto}.week-active[data-v-2ad04721]{background:#efe4ba}",""])},t2Mv:function(t,e,s){var a=s("nawm");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("c57d99de",a,!1,{sourceMap:!1})}});