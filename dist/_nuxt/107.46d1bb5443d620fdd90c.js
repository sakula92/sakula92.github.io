webpackJsonp([107],{DMi3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("n3F5"),a=s("zcSj"),n=!1;var r=function(e){n||s("JN2w")},o=s("VU/8")(i.a,a.a,!1,r,null,null);o.options.__file="pages/user/finance/apply.vue",t.default=o.exports},JN2w:function(e,t,s){var i=s("ou4U");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s("rjj0")("353904cc",i,!1,{sourceMap:!1})},n3F5:function(e,t,s){"use strict";var i=s("Xxa5"),a=s.n(i),n=s("exGp"),r=s.n(n),o=s("Dd8w"),c=s.n(o),l=s("NYxO"),u=s("DHvs");t.a={data:function(){return{flowTips:!1,agree:!1,money:"",isOverMoney:!1}},computed:c()({buttonDisable:function(){return!this.agree||this.money<1||this.money>200||this.isOverMoney}},Object(l.mapState)({user:function(e){return e.user.info},config:function(e){return e.config}})),watch:{buttonDisable:function(){},agree:function(){},money:function(){this.onChange()}},methods:c()({},Object(l.mapActions)({setInfo:"user/setInfo"}),{toggleFlowTips:function(){this.flowTips=!this.flowTips},onApplyAll:function(){this.user.finance.money>200?this.money=200:this.money=this.user.finance.money},onChange:function(){this.isOverMoney=parseFloat(this.money||0)>this.user.finance.money||parseFloat(this.money||0)>200},onSubmit:function(){var e=r()(a.a.mark(function e(){var t,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.buttonDisable){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,u.b.post("/user/money/withdraw",{money:this.money});case 4:t=e.sent,"SUCCESS"===(s=t.data).code?(this.setInfo({finance:{freeze:(parseFloat(this.user.finance.freeze)+parseFloat(this.money)).toString(),money:(parseFloat(this.user.finance.money)-parseFloat(this.money)).toString(),used:this.user.finance.used}}),this.$router.push({path:"/user_finance_result",query:{success:1,message:"提现成功"}})):s.msg&&weui.alert(s.msg,{title:"温馨提示"});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})}},ou4U:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"",""])},zcSj:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("base-header",[s("div",{staticClass:"flex-wrp flex-align-center",attrs:{slot:"title"},slot:"title"},[e._v("\n            申请提现\n        ")])]),s("div",{staticClass:"weui-cells mt0"},[s("div",{staticClass:"weui-cell size32 lh100"},[e._m(0),s("div",{staticClass:"weui-cell__bd flex-wrp size32 lh100"},[s("span",{staticClass:"block size32 mt5"},[e._v("￥")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.money,expression:"money"}],staticClass:"nbr size32",attrs:{type:"number",max:"200",placeholder:"请输入提现金额"},domProps:{value:e.money},on:{input:function(t){t.target.composing||(e.money=t.target.value)}}})])]),s("div",{staticClass:"weui-cell"},[s("div",{staticClass:"weui-cell__bd size28 color5"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.isOverMoney,expression:"isOverMoney"}],staticClass:"color3"},[e._v("提现金额超限")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isOverMoney,expression:"!isOverMoney"}]},[e._v("可提现余额"),s("span",{staticClass:"color0"},[e._v("￥"+e._s(e.user.finance.money))])]),s("a",{staticClass:"block color3",staticStyle:{float:"right"},on:{click:e.onApplyAll}},[e._v("\n                    全部提现\n                ")])])])]),s("div",{staticClass:"bg-white pd40 size26 lh200 mt20 color37"},[s("div",[e._v("1.单次最低申请提现金额为1元，最高为200元。")]),s("div",[e._v("2.每天最多只能申请提现一次。")]),s("div",[e._v("\n            3.用户余额提现需先发起申请，待平台审核通过后，平台公众号将向提现用户发放与提现金额等额的现金红包，用户收到微信现金红包消息后，请在24小时内及时领取，否则现金红包将被退回，因被退回、审核未通过等原因未成功提现的余额将被退回到可提现余额中。\n        ")]),s("div",[e._v('4.申请提现前请确保您已关注"'+e._s(e.config.mp_name)+'"公众号。')]),s("div",[e._v('5.如未关注请"'),s("a",{staticClass:"color0",on:{click:e.toggleFlowTips}},[e._v("点击关注"+e._s(e.config.mp_name))]),e._v('"公众号。')])]),s("div",{staticClass:"bg-white pb30"},[s("label",{staticClass:"weui-agree pr5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.agree,expression:"agree"}],staticClass:"weui-agree__checkbox",attrs:{type:"checkbox",value:"on"},domProps:{checked:Array.isArray(e.agree)?e._i(e.agree,"on")>-1:e.agree},on:{change:function(t){var s=e.agree,i=t.target,a=!!i.checked;if(Array.isArray(s)){var n=e._i(s,"on");i.checked?n<0&&(e.agree=s.concat(["on"])):n>-1&&(e.agree=s.slice(0,n).concat(s.slice(n+1)))}else e.agree=a}}}),s("span",{staticClass:"weui-agree__text"},[s("span",{staticClass:"pl10 size28 color2"},[e._v('我已关注"'+e._s(e.config.mp_name)+'"')])])])]),s("div",{staticStyle:{height:"1rem"}}),s("div",{staticClass:"pd20"},[s("button",{staticClass:"weui-btn weui-btn_primary",class:{"bg-ddd":e.buttonDisable},attrs:{disable:e.buttonDisable},on:{click:e.onSubmit}},[e._v("确认提现\n        ")])]),e.flowTips?s("div",{staticClass:"mask"},[s("div",{staticClass:"fixed-center bg-white border-radius10 ptb35 plr50 "},[s("div",{staticClass:"flex-wrp flex-center ptb30 color27"},[s("div",{staticClass:"size24"},[e._v("↓长按二维码关注"+e._s(e.config.mp_name)+"↓")])]),s("div",{staticClass:"flex-wrp flex-center"},[s("img",{staticStyle:{height:"200px",width:"200px","max-width":"200px !important"},attrs:{src:e.config.siteConfig.qrcode,alt:""}})]),s("div",{staticClass:"border-t border-color2 flex-wrp flex-center pt30",on:{click:e.toggleFlowTips}},[s("div",{staticClass:"color27 size24"},[e._v("确认")])])])]):e._e()],1)};i._withStripped=!0;var a={render:i,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd size32 lh100"},[t("div",[t("label",{staticClass:"weui-label lh100"},[this._v("提现金额")])])])}]};t.a=a}});