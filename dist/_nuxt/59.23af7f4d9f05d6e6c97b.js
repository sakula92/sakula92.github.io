webpackJsonp([59],{"+J53":function(t,e,s){"use strict";var a=s("CHyu");e.a={props:{modal:{default:!0},showClose:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},inputType:{type:String,default:"text"},boxType:{type:String,default:""},confirmButtonText:{type:String,default:"确定"},cancelButtonText:{type:String,default:"取消"}},created:function(){},computed:{confirmButtonClasses:function(){var t="msgbox-btn msgbox-confirm";return this.confirmButtonClass&&"undefined"!==this.confirmButtonClass&&(t+=" "+this.confirmButtonClass),this.confirmButtonHighlight&&(t+=" msgbox-confirm-highlight"),t},cancelButtonClasses:function(){var t="msgbox-btn msgbox-cancel";return this.cancelButtonClass&&"undefined"!==this.cancelButtonClass&&(t+=" "+this.cancelButtonClass),this.cancelButtonHighlight&&(t+=" msgbox-cancel-highlight"),t}},methods:{doClose:function(){var t=this;this.value=!1,this._closing=!0,this.onClose&&this.onClose(),setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},handle:function(){this.value=!1},handleAction:function(t){if("prompt"!==this.$type||"confirm"!==t||this.validate()){var e=this.callback;this.value=!1,e(t),a.a.backBtn()}},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var s=e(this.inputValue);if(!1===s)return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;if("string"==typeof s)return this.editorErrorMessage=s,!1}}return this.editorErrorMessage="",this.$refs.input.classList.remove("invalid"),!0},handleInputType:function(t){"range"!==t&&this.$refs.input&&(this.$refs.input.type=t)}},watch:{inputValue:function(){"prompt"===this.$type&&this.validate()},value:function(t){var e=this;this.handleInputType(this.inputType),t&&"prompt"===this.$type&&setTimeout(function(){e.$refs.input&&e.$refs.input.focus()},500)},inputType:function(t){this.handleInputType(t)}},data:function(){return{value:!1,title:"",message:"",code:"",type:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,showCloseButton:!0,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null}}}},AVSK:function(t,e,s){var a=s("t0+h");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("38037816",a,!1,{sourceMap:!1})},CHyu:function(t,e,s){"use strict";var a,n,o=s("pFYg"),i=s.n(o),r=s("//Fk"),l=s.n(r),c=s("/5sW"),d=s("Eurh"),u={title:"温馨提示",message:"",code:"",type:"",showInput:!1,showClose:!0,modalFade:!1,lockScroll:!1,closeOnClickModal:!0,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"",cancelButtonClass:"",boxType:""},f=function(t){for(var e=1,s=arguments.length;e<s;e++){var a=arguments[e];for(var n in a)if(a.hasOwnProperty(n)){var o=a[n];void 0!==o&&(t[n]=o)}}return t},m=c.default.extend(d.a),p=[],h=function(t){if(a){var e=a.callback;if("function"==typeof e&&(n.showInput?e(n.inputValue,t):e(t)),a.resolve){var s=a.options.$type;"confirm"===s||"prompt"===s?"confirm"===t?n.showInput?a.resolve({value:n.inputValue,action:t}):a.resolve(t):"cancel"===t&&a.reject&&a.reject(t):a.resolve(t)}}},v=function(){if(n||function(){(a=p[0]).options;(n=new m({el:document.createElement("div")})).callback=h}(),(!n.value||n.closeTimer)&&p.length>0){var t=(a=p.shift()).options;for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);void 0===t.callback&&(n.callback=h),["modal","showClose","closeOnClickModal","closeOnPressEscape"].forEach(function(t){void 0===n[t]&&(n[t]=!0)}),document.getElementById("__layout").childNodes[0].appendChild(n.$el),c.default.nextTick(function(){n.value=!0})}},g=function(){console.log("测试"),b.close()},b=function t(e,s){if(document.addEventListener("backbutton",g,!0),"string"==typeof e?(e={title:e},arguments[1]&&(e.message=arguments[1]),arguments[2]&&(e.type=arguments[2])):e.callback&&!s&&(s=e.callback),void 0!==l.a)return new l.a(function(a,n){p.push({options:f({},u,t.defaults||{},e),callback:s,resolve:a,reject:n}),v()});p.push({options:f({},u,t.defaults||{},e),callback:s}),v()};b.setDefaults=function(t){b.defaults=t},b.alert=function(t,e,s){return"object"===(void 0===e?"undefined":i()(e))&&(s=e,e=""),b(f({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},s))},b.confirm=function(t,e,s){return"object"===(void 0===e?"undefined":i()(e))&&(s=e,e=""),b(f({title:e,message:t,$type:"confirm",showCancelButton:!0},s))},b.prompt=function(t,e,s){return"object"===(void 0===e?"undefined":i()(e))&&(s=e,e=""),b(f({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},s))},b.close=function(){document.removeEventListener("backbutton",g,!0),n&&(n.value=!1,p=[],a=null)},b.backBtn=function(){document.removeEventListener("backbutton",g,!0)},e.a=b},Eurh:function(t,e,s){"use strict";var a=s("+J53"),n=s("Ye+a"),o=!1;var i=function(t){o||s("AVSK")},r=s("VU/8")(a.a,n.a,!1,i,"data-v-43e1d73a",null);r.options.__file="components/MessageBox/ZyMessageBox.vue",e.a=r.exports},"U6+S":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.errshow,expression:"errshow"}],staticClass:"text-center vertify-status"},[s("div",{staticClass:"vertify-img"},["0"==t.status||"4"==t.status||"5"==t.status||"6"==t.status?s("i",{staticClass:"z z-success orange"}):"1"==t.status||"2"==t.status||"7"==t.status||"8"==t.status?s("i",{staticClass:"z z-success gray"}):s("i",{staticClass:"z z-closed orange"})]),s("div",{staticClass:"size36 color37"},[t._v(t._s(t.verfity_text))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"list-container"},[s("ul",{staticClass:"list"},[s("li",{staticClass:"flex-wrp flex-between"},[s("span",[t._v("订单编号:")]),s("span",[t._v(t._s(t.infoList.id))])]),s("li",{staticClass:"flex-wrp flex-between"},[s("span",[t._v("商品名称:")]),s("span",[t._v(t._s(t.infoList.subject))])]),s("li",{staticClass:"flex-wrp flex-between"},[s("span",[t._v("核销时间:")]),s("span",[t._v(t._s(t.infoList.created_at))])]),s("li",{staticClass:"flex-wrp flex-between"},[s("span",[t._v("核销金额:")]),s("span",[t._v(t._s(Number(t.infoList.cash_fee)+Number(t.infoList.ticket_amount))+"元")])]),t.infoList.child_order?s("li",{staticClass:"flex-wrp flex-between"},[s("span",[t._v("订单编号:")]),s("span",[t._v(t._s(t.infoList.child_order.id))])]):t._e(),t.infoList.child_order?s("li",{staticClass:"flex-wrp flex-between"},[s("span",[t._v("买单金额:")]),s("span",[t._v(t._s(Number(t.infoList.child_order.cash_fee)+Number(t.infoList.child_order.ticket_amount))+"元")])]):t._e()])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.errshow,expression:"errshow"}],staticClass:"btn"},[s("button",{on:{click:t.confirmBtn}},[t._v(t._s(t.btn_text))])]),s("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"white",size:"50px"}})],1)};a._withStripped=!0;var n={render:a,staticRenderFns:[]};e.a=n},"Ye+a":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"msgbox",attrs:{id:"msgbox"}},[s("transition",{attrs:{name:"msgbox-bounce"}},[s("div",{staticClass:"zy-msgbox"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.showCloseButton,expression:"showCloseButton"}],staticClass:"msgbox-can",on:{click:function(e){return t.handle()}}},[s("i",{staticClass:"iconfont icon-cha"})]),""!==t.title?s("div",{staticClass:"msgbox-header"},[s("div",{staticClass:"msgbox-title size36"},[t._v(t._s(t.title))])]):t._e(),""!==t.message?s("div",{staticClass:"msgbox-content msg-content"},[s("div",{staticClass:"msgbox-message size32",domProps:{innerHTML:t._s(t.message)}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"msgbox-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],ref:"input",attrs:{placeholder:t.inputPlaceholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),s("div",{staticClass:"msgbox-errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])])]):t._e(),t.code?s("div",{staticClass:"msgbox-code size20"},[s("p",[t._v("错误代码："+t._s(t.code))])]):s("div",{staticClass:"msgbox-code size20"}),"new"===t.boxType?s("div",{staticClass:"msgbox-btns-new pl30 pr30 mb30 pt20"},[s("div",{staticClass:"w100 text-center mt44 flex-wrp",class:t.showCancelButton?"flex-align-center flex-between":"flex-center"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCancelButton,expression:"showCancelButton"}],staticClass:"message-btn-cancle",on:{click:function(e){return e.stopPropagation(),t.handleAction("cancel")}}},[t._v(t._s(t.cancelButtonText))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],staticClass:"message-btn-confirm",on:{click:function(e){return e.stopPropagation(),t.handleAction("confirm")}}},[t._v(t._s(t.confirmButtonText))])])]):s("div",{staticClass:"msgbox-btns"},[s("button",{directives:[{name:"show",rawName:"v-show",value:t.showCancelButton,expression:"showCancelButton"}],staticClass:"size28",class:[t.cancelButtonClasses],on:{click:function(e){return t.handleAction("cancel")}}},[t._v(t._s(t.cancelButtonText))]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],staticClass:"size28",class:[t.confirmButtonClasses],on:{click:function(e){return t.handleAction("confirm")}}},[t._v(t._s(t.confirmButtonText))])])])])],1)};a._withStripped=!0;var n={render:a,staticRenderFns:[]};e.a=n},cxZ3:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,".container[data-v-711235a6]{width:100%;height:100%;position:fixed;top:0;left:0;background:#fff}.vertify-status[data-v-711235a6]{padding-top:2.1875rem}.vertify-img[data-v-711235a6]{margin:0 auto 1.03125rem}.vertify-img i[data-v-711235a6]{font-size:4.0625rem}.list-container[data-v-711235a6]{border-top:.03125rem solid #eee;padding-top:1.1875rem;margin-top:2.625rem}.list[data-v-711235a6]{padding:0 1.03125rem 0 1.25rem}.list li[data-v-711235a6]{font-size:.9375rem;color:#333;line-height:2.125rem}.list li span[data-v-711235a6]:first-of-type{width:6.25rem}.btn[data-v-711235a6]{width:100%;margin-top:4.375rem;text-align:center}.btn button[data-v-711235a6]{width:95%;height:2.6875rem;background:#f56d23;border-radius:.3125rem;border:none;color:#fff;letter-spacing:.1875rem;font-size:1.125rem}.orange[data-v-711235a6]{color:#f56d23}.gray[data-v-711235a6]{color:#ccc}.van-loading[data-v-711235a6]{position:fixed;top:100px;left:50%;margin-left:-15px}.van-loading--white[data-v-711235a6]{padding:10px;border-radius:3px;background-color:rgba(0,0,0,.5)}",""])},gyZO:function(t,e,s){var a=s("cxZ3");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("a86b7738",a,!1,{sourceMap:!1})},i058:function(t,e,s){"use strict";var a=s("DHvs"),n=s("Fd2+"),o=s("CHyu");e.a={head:function(){return{title:"中原吃货地图"}},data:function(){return{infoList:{},verfity_text:"",btn_text:"",status:"",isshow:!1,errshow:!1,loading:!0}},components:{Loading:n.i,ZyMessageBox:o.a},mounted:function(){this.getCodeStatus()},methods:{getCodeStatus:function(){var t=this;this.loading=!0,a.b.webGet("/v3/aide/order/code",{code:this.$route.query.code},function(e){t.isshow=!0,t.errshow=!0,t.loading=!1,t.infoList=e.data.code_info.order,t.status=e.data.code_info.status,"0"===t.status||"4"===t.status||"5"===t.status||"6"===t.status?(t.verfity_text="该券码可核销",t.btn_text="确认核销"):"1"===t.status?(t.verfity_text="该券码已使用",t.btn_text="重新核销"):"2"===t.status?(t.verfity_text="该券码已过期",t.btn_text="重新核销"):"7"===t.status?(t.verfity_text="该券码已退款",t.btn_text="重新核销"):"8"===t.status&&(t.verfity_text="该券码退款中",t.btn_text="重新核销")},function(e){t.isshow=!1,t.errshow=!0,t.loading=!1,t.verfity_text=e.data.msg,t.btn_text="重新核销"})},confirmBtn:function(){var t=this;"0"===this.status||"4"===this.status||"5"===this.status||"6"===this.status?a.b.webGet("/v3/aide/order/verify",{code:this.$route.query.code},function(e){t.verfity_text="核销成功",t.btn_text="返回",t.$router.replace("/user_merchant_cancellationInfo")},function(e){t.getCodeStatus()}):this.$router.replace("/user_merchant_cancellation"),"返回"==this.btn_text&&this.$router.replace("/user_merchant_name")}}}},qZfB:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("i058"),n=s("U6+S"),o=!1;var i=function(t){o||s("gyZO")},r=s("VU/8")(a.a,n.a,!1,i,"data-v-711235a6",null);r.options.__file="pages/user/merchant/cancellationInfo.vue",e.default=r.exports},"t0+h":function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,".msgbox[data-v-43e1d73a]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:99999999}.zy-msgbox[data-v-43e1d73a]{position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);background-color:#fff;width:85%;border-radius:.25rem;font-size:.5rem;overflow:hidden;-webkit-transition:.2s;transition:.2s}.msgbox-header[data-v-43e1d73a]{margin-top:1.5625rem;text-align:center}.msgbox-title[data-v-43e1d73a]{font-size:.5625rem}.msgbox-content[data-v-43e1d73a]{margin:.46875rem 1.5625rem 1.5625rem;text-align:center;color:#595758;font-size:.375rem}.msgbox-code[data-v-43e1d73a]{width:100%;color:#999;font-size:.75rem;text-align:right;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .15rem 0 0;display:inline-block}.msgbox-code p[data-v-43e1d73a]{width:67%;float:right;text-overflow:ellipsis;overflow:hidden;height:1.375rem;word-wrap:break-word;white-space:nowrap;padding-right:.3125rem;margin-bottom:0}.msgbox-message[data-v-43e1d73a]{font-size:.4375rem;padding:.9375rem .9375rem 0}.msg-content[data-v-43e1d73a]{margin:.3rem 0 .2rem}.iconfont.icon-cha[data-v-43e1d73a]{font-size:.4375rem}.msgbox-btns[data-v-43e1d73a]{border-top:.0625rem solid #eee}.msgbox-btns-new[data-v-43e1d73a],.msgbox-btns[data-v-43e1d73a]{line-height:2.5rem;text-align:center}.msgbox-btn[data-v-43e1d73a]{color:#666;background:#fff;border:0}.msgbox-can[data-v-43e1d73a]{position:absolute;width:.5rem;height:.5rem;right:0;top:0;text-align:center;color:#999;font-size:.4375rem;margin:.15625rem .3125rem .28125rem}.msgbox-input[data-v-43e1d73a]{padding-top:.46875rem;border:.03125rem solid #dedede;border-radius:.15625rem;padding:.125rem .15625rem;width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}.msgbox-input[data-v-43e1d73a]:focus,.msgbox-input[data-v-43e1d73a]:invalid{border-color:#ff4949}.msgbox-confirm[data-v-43e1d73a]{width:49%}.msgbox-confirm[data-v-43e1d73a]:active{color:#26a2ff}.msgbox-cancel[data-v-43e1d73a]{color:#666;width:48.9%;border-right:.03125rem solid #ddd}.msgbox-cancel[data-v-43e1d73a]:active{color:#000}.msgbox-bounce-enter[data-v-43e1d73a]{opacity:0;-webkit-transform:translate3d(-50%,-50%,0) scale(.7);transform:translate3d(-50%,-50%,0) scale(.7)}.msgbox-bounce-leave-active[data-v-43e1d73a]{opacity:0;-webkit-transform:translate3d(-50%,-50%,0) scale(.9);transform:translate3d(-50%,-50%,0) scale(.9)}.message-btn-confirm[data-v-43e1d73a]{background:#f56d23;border-radius:.25rem;color:#fff}.message-btn-cancle[data-v-43e1d73a],.message-btn-confirm[data-v-43e1d73a]{height:2.1875rem;line-height:2.1875rem;font-size:1rem;letter-spacing:.1875rem;text-align:center;width:8.125rem}.message-btn-cancle[data-v-43e1d73a]{background:#fff;border:.03125rem solid #f56d23;border-radius:.25rem;color:#f56d23}",""])}});