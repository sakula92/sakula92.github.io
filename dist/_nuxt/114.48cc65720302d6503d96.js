webpackJsonp([114],{"+3Xk":function(t,e,s){"use strict";var r=s("Xxa5"),i=s.n(r),a=s("exGp"),n=s.n(a),o=s("DHvs");e.a={data:function(){return{message:"",isHistory:!1,isHot:!0,historys:[{title:"左岸咖啡"},{title:"肯德基"},{title:"耐克"},{title:"信阳南国渔村甲鱼"},{title:"麦当劳"},{title:"石锅饭"}],hots:[],logs:[],buyingSearchQuery:""}},mounted:function(){this.buyingSearchQuery=this.$route.query.name,this.fetchHistory(),this.fetchHots()},methods:{fetchHots:function(){var t=n()(i.a.mark(function t(){var e,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.get("/search/hot");case 2:e=t.sent,s=e.data,200===e.status&&"SUCCESS"===s.code&&(this.hots=this.hots.concat(s.keywords||[]));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),fetchHistory:function(){var t=n()(i.a.mark(function t(){var e,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.get("/search/log");case 2:e=t.sent,s=e.data,200===e.status&&"SUCCESS"===s.code&&(this.logs=this.logs.concat(s.keywords||[]),0!=this.logs.length?this.isHistory=!0:this.isHistory=!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),delHistory:function(){var t=n()(i.a.mark(function t(){var e,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.delete("/search/log");case 2:e=t.sent,s=e.data,200===e.status&&"SUCCESS"===s.code&&(this.logs=[],this.isHistory=!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),clearValue:function(){var t=document.querySelector(".search-input");t.value="",t.placeholder=""},submit:function(){var t=n()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.message=e,this.message){t.next=3;break}return t.abrupt("return");case 3:this.$router.push({path:"/search_result",query:{keyword:this.message}});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},F7ev:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("+3Xk"),i=s("nxh1"),a=!1;var n=function(t){a||s("yvSR")},o=s("VU/8")(r.a,i.a,!1,n,"data-v-482e85b8",null);o.options.__file="pages/search/index.vue",e.default=o.exports},RgK8:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,".weui-icon-search[data-v-482e85b8]:before{position:absolute;top:50%;left:.625rem;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.icon-delete[data-v-482e85b8]:before{position:absolute;top:18%;right:.625rem}.hot[data-v-482e85b8]{color:#f44a4a;border:.03125rem solid #f44a4a!important}.search-box[data-v-482e85b8]{background:#f1f1f1}.search-input[data-v-482e85b8]{background:transparent}",""])},nxh1:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-white",staticStyle:{height:"100vh"}},[s("div",{staticClass:"bg-white flex-wrp flex-align-center border-b"},["buying"==t.buyingSearchQuery?s("nuxt-link",{attrs:{to:"/buying"}},[s("i",{staticClass:"iconfont icon-back color4 size48 pl30 pr15"})]):s("nuxt-link",{attrs:{to:"/"}},[s("i",{staticClass:"iconfont icon-back color4 size48 pl30 pr15"})]),s("div",{staticClass:"mtb15  flex-item flex-wrp flex-center border-radius30 mr10 relative color5 search-box"},[s("i",{staticClass:"weui-icon-search color58",on:{click:t.submit}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:" color81 border-radius30 size28 mr10 pl5 mlr55 ptb15 nbr w80 search-input",attrs:{type:"search",onfocus:"this.placeholder=''",onblur:"this.placeholder='请输入大牌商品或好店名称'",placeholder:"搜一搜商品、店铺"},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(t.message)},input:function(e){e.target.composing||(t.message=e.target.value)}}}),t.message?s("i",{staticClass:"iconfont icon-delete color58 size30",on:{click:t.clearValue}}):t._e()]),s("div",{staticClass:"color57 size26 ptb5 plr20 border-radius30 mr20",on:{click:function(e){return t.submit(t.message)}}},[t._v("搜索")])],1),t.isHistory?s("div",{staticClass:"pt25 border-b"},[s("div",{staticClass:"flex-wrp flex-between plr20 pb20 bg-white color5"},[s("div",{staticClass:"size26"},[t._v("最近搜索")]),s("i",{staticClass:"i-del",on:{click:t.delHistory}})]),s("div",{staticClass:"flex-wrp flex-flow-row plr20 pb20 bg-white color37"},t._l(t.logs,function(e,r){return s("div",{key:r,staticClass:"border plr20 ptb5 mr25 color37 size26 mb20 bg-gray3 border-radius30",on:{click:function(s){return t.submit(e)}}},[t._v(t._s(e)+"\n      ")])}),0)]):t._e(),t.isHot?s("div",{staticClass:"border-b"},[t._m(0),s("div",{staticClass:"flex-wrp flex-flow-row plr20 pb20 bg-white color37"},t._l(t.hots,function(e,r){return s("div",{key:r,staticClass:"border plr20 ptb5 mr25 size26 mb20 bg-gray3 border-radius30",on:{click:function(s){return t.submit(e)}}},[t._v(t._s(e)+"\n      ")])}),0)]):t._e(),s("div",{staticClass:"color44 size24 bg-white pd20"},[t._v("小提示: 如检索不到所搜产品，可查看以上热门")])])};r._withStripped=!0;var i={render:r,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-wrp flex-between plr20 ptb20 bg-white color5"},[e("div",{staticClass:"size26"},[this._v("热门搜索")])])}]};e.a=i},yvSR:function(t,e,s){var r=s("RgK8");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);s("rjj0")("37c922a7",r,!1,{sourceMap:!1})}});