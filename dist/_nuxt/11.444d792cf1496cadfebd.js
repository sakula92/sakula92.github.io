webpackJsonp([11],{"/33S":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"flex-wrp"},t._l(t.max,function(e){return i("div",{staticClass:"flex-wrp flex-center mr5 star",class:{"bg-star":e<=t.value,"bg-lightstar":e>t.value},on:{click:function(i){return t.onChange(e)}}},[i("i",{staticClass:"i i-star color1"})])}),0)])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},"/cAb":function(t,e,i){var s=i("TGXE");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("916d2f4a",s,!1,{sourceMap:!1})},"0al0":function(t,e,i){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.wechat,expression:"wechat"}],staticClass:"cluster-icon"},[e("img",{attrs:{src:i("bT7s")}})])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},"3PSL":function(t,e,i){var s=i("IpbJ");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("3b9cf207",s,!1,{sourceMap:!1})},"3rgx":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".star{border-radius:.0625rem!important;padding:.0625rem!important}",""])},"6P39":function(t,e,i){"use strict";var s=i("DHvs");e.a={data:function(){return{wechat:!1}},mounted:function(){this.wechat=Object(s.i)(),this.$forceUpdate()}}},"8S/d":function(t,e,i){"use strict";var s=i("QipQ"),r=i("/33S"),a=!1;var o=function(t){a||i("Oqkr")},n=i("VU/8")(s.a,r.a,!1,o,null,null);n.options.__file="components/Stars.vue",e.a=n.exports},AxcK:function(t,e,i){"use strict";var s=i("DHvs");e.a={data:function(){return{wechat:!1}},mounted:function(){this.wechat=Object(s.i)()}}},ByMl:function(t,e,i){"use strict";var s=i("Q4v4"),r=i("kQ8b"),a=!1;var o=function(t){a||i("P0SV")},n=i("VU/8")(s.a,r.a,!1,o,"data-v-4ae8ebb4",null);n.options.__file="components/CateList/Shop/shopItem1.vue",e.a=n.exports},DFfH:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".fixed-top[data-v-502cdb8b]{position:fixed;top:0;z-index:1002}.convenient-box[data-v-502cdb8b]{overflow-x:auto;overflow-y:hidden;background:#fff;padding-left:.9375rem;padding-bottom:.625rem;width:100vw;white-space:nowrap;-webkit-overflow-scrolling:touch}.convenient-box[data-v-502cdb8b]::-webkit-scrollbar{display:none}.convenient-filter[data-v-502cdb8b]{height:1.875rem;line-height:1.875rem;border-radius:.9375rem;font-size:.8125rem;color:#666;letter-spacing:0;text-align:center;background:#f5f5f5;padding:0 .9375rem;display:inline-block;margin-right:.625rem}.convenient-filter-active[data-v-502cdb8b]{color:#f56d23}#expendList[data-v-502cdb8b]{overflow-y:auto}#expendList[data-v-502cdb8b] ::-webkit-scrollbar{-webkit-appearance:none}.filter-wrap[data-v-502cdb8b]{position:relative;z-index:1002;top:-2.5rem}.filter-box[data-v-502cdb8b]{position:absolute;top:0;left:0}.filter-box-comix[data-v-502cdb8b]{position:fixed;left:0;top:2rem}.filter-cate[data-v-502cdb8b]:first-child{border-left:none}.ischeck[data-v-502cdb8b]{color:#fff;background-color:#f56d23}.nocheck[data-v-502cdb8b]{color:#333;border:.03125rem solid #ddd}input[data-v-502cdb8b]{opacity:0}.cate-active[data-v-502cdb8b]{color:#f56d23}.dish[data-v-502cdb8b]{border-radius:.25rem;padding-top:.1875rem;padding-bottom:.1875rem}.dish label[data-v-502cdb8b]{position:relative}.dish label input[data-v-502cdb8b]{position:absolute;left:0}.btn1[data-v-502cdb8b]{width:10.5rem;height:2.0625rem;border:.03125rem solid #d5d5d6;border-radius:.3125rem;background-color:#666;color:#fff}.border-blue[data-v-502cdb8b]{border:.03125rem solid #18baf9}.btn2[data-v-502cdb8b]{width:10.5rem;height:2.0625rem;border-radius:.3125rem;color:#fff;background-color:#17cc85}.rotate180[data-v-502cdb8b]{-webkit-transform:rotate(180deg);transform:rotate(180deg);position:relative;top:-.125rem}.width96[data-v-502cdb8b]{width:96%}.width160[data-v-502cdb8b]{min-width:4.6875rem}.width50[data-v-502cdb8b]{width:50%}.height80[data-v-502cdb8b]{height:2.5rem}.lineheight80[data-v-502cdb8b]{line-height:2.5rem}.textcenter[data-v-502cdb8b]{text-align:center}.bordertop1[data-v-502cdb8b]{border-top:.03125rem solid #ccc}.borderleft1[data-v-502cdb8b]{border-left:.03125rem solid #ccc}.borderbottom1[data-v-502cdb8b]{border-bottom:.03125rem solid #eee}.w92[data-v-502cdb8b]{width:92%;margin-left:4%}.switch[data-v-502cdb8b]{padding-top:.25rem}",""])},EoCj:function(t,e,i){"use strict";var s=i("bOdI"),r=i.n(s),a=i("woOf"),o=i.n(a),n=i("Xxa5"),c=i.n(n),l=i("exGp"),d=i.n(l),h=i("Dd8w"),u=i.n(h),p=i("NYxO"),f=i("Fd2+"),v=i("DHvs");e.a={data:function(){return{isfix:!1,show:!0,isclose:!1,expend:[],fexpend:[],isshow:!1,cuisine:[],open_time:[],shop_capacity:[],shop_age:[],filter_index:0,category_id:0,newAgentCity:{},couponSwitch:!1,coupon:0,conFilters:[{label:"500米以内",key:"distance",value:"500"},{label:"1km以内",key:"distance",value:"1000"},{label:"快餐小吃",key:"cid",value:""},{label:"饮品",key:"cid",value:""},{label:"豫菜",key:"cuisine",value:"豫菜"},{label:"川菜",key:"cuisine",value:"川菜"}],conFilter:""}},props:{filters:{type:Array,required:!0},filter:{type:Object,required:!0},curlabel:{type:String},cityInfo:{type:Object},showCoupon:{type:Boolean,default:!1},showConvenient:{type:Boolean,default:!1}},components:{VanSwitch:f.o},mounted:function(){this.newAgentCity=window.sessionStorage.getItem("agent_city")?JSON.parse(window.sessionStorage.getItem("agent_city")):this.agentCity,this.conFiltersQry()},computed:u()({},Object(p.mapState)({agentCity:function(t){return t.session.agentCity},currentCity:function(t){return t.session.currentCity}}),{label:function(){for(var t=[],e=0;e<this.filters.length;e++)t.push(this.filters[e].label);return e==this.filters.length&&this.curlabel&&(t[1]=this.curlabel),t[0]="附近",t}}),methods:{conFiltersQry:function(){var t=d()(c.a.mark(function t(){var e,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.b.get("/v3/extrafilter",{});case 2:e=t.sent,2e5===(i=e.data).code&&(this.$set(this.conFilters[2],"value",i.filter[0].value),this.$set(this.conFilters[3],"value",i.filter[1].value));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),switchToggle:function(){this.coupon=0===this.coupon?1:0,console.log(this.coupon)},close:function(){this.show=!1,this.$emit("close2")},onFetch:function(t){this.category_id=t,this.show=!0},touchmove:function(){this.show=!1},showFilter:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(v.l)("fm_filterClick",{},{eventType:t.label}),document.documentElement.scrollTop=568,this.$emit("scrollFixed",t),0==e&&(this.filter_index=i),"filter"===t.key?(this.expend=[],this.show=!0,this.isshow?(this.isshow=!1,this.$emit("close2")):(this.fexpend.length>0||this.fexpend.push(t),this.isshow=!0)):(this.show=!0,this.isshow=!1,t.items?this.expend.length>e?(this.expend=this.expend.slice(0,e+1),this.expend.every(function(e){return e.key===t.key&&e.value===t.value})?(this.$emit("close2"),this.expend.pop()):this.expend[e]=t):this.expend.push(t):(this.expend=[],this.label[this.filter_index]=t.label,"district_id"===t.key?(this.filter.distance="",this.conFilter=""):this.conFilter.key===t.key&&(this.conFilter=""),this.$emit("filter",o()({},this.filter,r()({},t.key,t.value))))),console.log("......this.isshow"+this.isshow)},complexFilter:function(t){if("reset"===t){this.cuisine=[],this.open_time=[],this.shop_capacity=[],this.shop_age=[];for(var e=this.fexpend[0].items,i=0;i<e.length;i++)for(var s=0;s<e[i].items.length;s++)e[i].items[s].checked&&(e[i].items[s].checked=!1)}if("submit"===t){this.cuisine=[],this.open_time=[],this.shop_capacity=[],this.shop_age=[];for(e=this.fexpend[0].items,i=0;i<e.length;i++)for(s=0;s<e[i].items.length;s++)e[i].items[s].checked&&("cuisine"===e[i].items[s].key&&this.cuisine.indexOf(e[i].items[s].value)<0&&this.cuisine.push(e[i].items[s].value),"open_time"===e[i].items[s].key&&this.open_time.indexOf(e[i].items[s].value)<0&&this.open_time.push(e[i].items[s].value),"shop_capacity"===e[i].items[s].key&&this.shop_capacity.indexOf(e[i].items[s].value)<0&&this.shop_capacity.push(e[i].items[s].value),"shop_age"===e[i].items[s].key&&this.shop_age.indexOf(e[i].items[s].value)<0&&this.shop_age.push(e[i].items[s].value));"cuisine"===this.conFilter.key&&(this.cuisine.indexOf(this.conFilter.value)>-1?this.conFilter="":this.cuisine.push(this.conFilter.value)),this.$emit("filter",o()({},this.filter,{cuisine:this.cuisine,open_time:this.open_time,shop_capacity:this.shop_capacity,shop_age:this.shop_age,coupon:this.coupon})),this.isshow=!1}},convenientFilter:function(t){if(this.conFilter.value!==t.value){var e={district_id:0,distance:"",cid:0};if("distance"===t.key)e.distance=t.value;else{if("cuisine"===t.key){if("cuisine"===this.conFilter.key){var i=this.cuisine.indexOf(this.conFilter.value);i>-1&&this.cuisine.splice(i,1)}this.cuisine.indexOf(t.value)<0&&this.cuisine.push(t.value),e.cuisine=this.cuisine}if("cid"===t.key){if("cuisine"===this.conFilter.key){var s=this.cuisine.indexOf(this.conFilter.value);s>-1&&this.cuisine.splice(s,1)}e.cuisine=this.cuisine,e.cid=t.value}}this.conFilter=t,this.$emit("filter",o()({},this.filter,e))}}}}},FP5E:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".weui-icon-search[data-v-76d3095c]:before{position:absolute;top:50%;left:.625rem;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.icon-delete[data-v-76d3095c]:before{position:absolute;top:18%;right:.625rem}.search-input[data-v-76d3095c]{-webkit-appearance:none;-moz-appearance:none;appearance:none}.hot[data-v-76d3095c]{color:#f44a4a;border:.03125rem solid #f44a4a!important}.search-box[data-v-76d3095c]{background:#f1f1f1}.search-input[data-v-76d3095c]{background:transparent}.bgcolor[data-v-76d3095c]{background-color:#eee}input[type=search][data-v-76d3095c]{-webkit-appearance:none}input[data-v-76d3095c]::-webkit-search-cancel-button{display:none}.w92[data-v-76d3095c]{width:90%;margin-left:5%}.line88[data-v-76d3095c]{height:2.75rem;line-height:2.75rem}.border-bottom[data-v-76d3095c]{border-bottom:.03125rem solid #f5f5f5}.fil2[data-v-76d3095c],.fil[data-v-76d3095c]{position:fixed;top:0;z-index:1000}.active[data-v-76d3095c]{border-bottom:.125rem solid #1abc9c}.bgGray[data-v-76d3095c]{background:#f2f2f2}.colory[data-v-76d3095c]{color:#fba649}.warn[data-v-76d3095c]{display:inline-block;width:.9375rem;height:.9375rem;border:.03125rem solid #ffae24;border-radius:50%;line-height:.9375rem;text-align:center}.align-center[data-v-76d3095c]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bgfba[data-v-76d3095c]{background:#fffbfa}.showAll[data-v-76d3095c]{height:1.5rem;line-height:1.5rem;border-radius:.625rem}.child[data-v-76d3095c]{display:absolute;top:0;bottom:0;width:100%}.relative-top5[data-v-76d3095c]{position:relative;top:.0625rem}",""])},Gcff:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".lh48[data-v-4ae8ebb4]{line-height:1.5rem}.lh36[data-v-4ae8ebb4]{line-height:1.125rem}.shop-thumb[data-v-4ae8ebb4]{width:5.9375rem;height:5.9375rem;border-radius:.25rem;-webkit-box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.1);box-shadow:0 .1875rem .71875rem 0 rgba(0,0,0,.1);margin-right:.9375rem}.shop-thumb img[data-v-4ae8ebb4]{width:100%;height:100%;max-width:100%;max-height:100%;border-radius:.25rem}.shop-tag[data-v-4ae8ebb4]{font-size:.6875rem;height:.9375rem;line-height:.9375rem;color:#f56d23;letter-spacing:0;padding:0 .1875rem;background:rgba(245,109,35,.1);border-radius:.0625rem;margin-right:.375rem}.shop-tag[data-v-4ae8ebb4]:last-child{margin-right:0}.solded-label[data-v-4ae8ebb4]{font-size:.8125rem;color:#dc240f;letter-spacing:0}.mh180[data-v-4ae8ebb4]{min-height:6.25rem}.width-200[data-v-4ae8ebb4]{width:6.25rem}.goods-icon[data-v-4ae8ebb4]{font-family:PingFangSC-Medium;font-size:.8125rem;color:#fff;letter-spacing:0;text-align:center;border-radius:.0625rem;height:1.0625rem;line-height:1.0625rem;width:1.0625rem}.linear1[data-v-4ae8ebb4]{background:#f5a623;background-clip:text;-webkit-background-clip:text}.linear1[data-v-4ae8ebb4],.linear[data-v-4ae8ebb4]{border-radius:.0625rem;-webkit-text-fill-color:transparent}.linear[data-v-4ae8ebb4]{background:linear-gradient(-135deg,#fba649,#f56d23);background-clip:text;-webkit-background-clip:text}.h40[data-v-4ae8ebb4]{height:1.25rem;line-height:1.25rem}.text-vtop[data-v-4ae8ebb4]{vertical-align:top}.mb12[data-v-4ae8ebb4]{margin-bottom:.375rem;font-size:0}",""])},IpbJ:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".shop-list-icon[data-v-366f9b00]{width:4.59375rem;height:1.21875rem;position:absolute;margin-top:-.3125rem}.shop-list-icon img[data-v-366f9b00]{width:100%;height:100%;max-width:100%;max-height:100%}",""])},ORG2:function(t,e,i){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.wechat,expression:"wechat"}],staticClass:"shop-list-icon"},[e("img",{attrs:{src:i("SA83")}})])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},Oqkr:function(t,e,i){var s=i("3rgx");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("d54d9c90",s,!1,{sourceMap:!1})},P0SV:function(t,e,i){var s=i("Gcff");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("2e2e4ba7",s,!1,{sourceMap:!1})},Q4v4:function(t,e,i){"use strict";var s=i("8S/d"),r=i("yloH"),a=i("W/bN"),o=i("DHvs");e.a={data:function(){return{discounts:[{discount:"7折买单"},{discount:"6折买单"}],headImg:[{imgUrl:i("c0vo")}],scroll:"",shop_couponPre:[],isAll:!1,showLength:2}},props:{shop:{type:Object,required:!0},isParent:{type:Boolean},price:{type:String},showCouponInfo:{type:Boolean,default:!1}},components:{Star:s.a,FdIcon:r.a,CreditIcon:a.a},mounted:function(){var t=this;this.$nextTick(function(){t.getShopCouponPre()})},activated:function(){var t=this;this.$nextTick(function(){t.getShopCouponPre()})},filters:{wordFive:function(t){return t.length>5?t.substr(0,5)+"...":t}},methods:{getShopCouponPre:function(){this.shop_couponPre=[];var t=void 0,e=void 0;if(this.shop.shop_coupon){if(this.shop.is_foodie_day&&Object(o.i)()&&this.shop.is_foodie_festival)for(var i=0;i<this.shop.shop_coupon.length;i++){this.shop.shop_coupon[i].is_foodie_festival||(this.shop.shop_coupon.splice(i,1),i--)}for(var s=0;s<this.shop.shop_coupon.length&&("1"!==this.shop.shop_coupon[s].commodity_type||e||(e=this.shop.shop_coupon[s]),"0"!==this.shop.shop_coupon[s].commodity_type||t||(t=this.shop.shop_coupon[s]),!e||!t);s++);}e&&this.shop_couponPre.push(e),t&&this.shop_couponPre.push(t)},goCoupon:function(t){this.$emit("toChild"),this.$router.push({path:"/foodCoupon",query:{id:t.id}})},goShop:function(){this.$router.push({path:"/shop_"+this.shop.id})}}}},QipQ:function(t,e,i){"use strict";e.a={props:{value:{type:Number,default:0},max:{type:Number,default:5}},methods:{onChange:function(t){this.$emit("onChange",t)}}}},SA83:function(t,e,i){t.exports=i.p+"img/shoplist_icon_new.556d9e8.png"},TGXE:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".cluster-icon[data-v-3661837f]{width:4.59375rem;height:1.0625rem}.cluster-icon img[data-v-3661837f]{width:100%;height:100%;max-width:100%;max-height:100%}",""])},"W/bN":function(t,e,i){"use strict";var s=i("6P39"),r=i("0al0"),a=!1;var o=function(t){a||i("/cAb")},n=i("VU/8")(s.a,r.a,!1,o,"data-v-3661837f",null);n.options.__file="components/FoodDay/AcIcon6.vue",e.a=n.exports},aSZm:function(t,e,i){"use strict";var s=i("woOf"),r=i.n(s),a=i("Dd8w"),o=i.n(a),n=i("Xxa5"),c=i.n(n),l=i("exGp"),d=i.n(l),h=i("DHvs"),u=i("NYxO"),p=i("f0Ur"),f=i("ByMl"),v=i("W6hx"),b=i("Fd2+");e.a={data:function(){return{message:"",searchValue:"",isHistory:!1,isHot:!0,hots:[],logs:[],searching:0,filter:{},filters:[],shopList:[],isRecommend:!1,isfix:!1,isfix2:!1,finished:!0,loading:!1,serarchPreList:[],serarchPreListPre:[],isInputing:!1,isShowAll:!1,newAgentCity:{},currentCityData:{},isSelectCity:!1}},asyncData:function(){var t=d()(c.a.mark(function t(e){var i,s,r,a,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={limit:10,offset:0,sort:"geo",cid:e.query.cid||0,desc:e.query.desc||"",city_id:e.query.city_id,lng:e.query.lng,lat:e.query.lat},s={limit:10,offset:0,category_id:0},r=[{id:0,title:"全部"}],t.next=5,h.b.get("/category",{typeid:4,parent_id:106736},e);case 5:return a=t.sent,o=a.data,200===a.status&&"SUCCESS"===o.code&&(r=r.concat(o.categorys||[])),t.abrupt("return",{labelfilters:r,labelfilter:s,filter:i});case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),watch:{message:function(t,e){e!==t&&(""===t?this.searching=0:this.correlation(t))}},computed:o()({},Object(u.mapState)({agentCity:function(t){return t.session.agentCity},currentCity:function(t){return t.session.currentCity}})),components:{BaseFilter:p.a,SearchList:f.a,VanList:b.h,NoMore:v.a},mounted:function(){var t=this;window.sessionStorage.getItem("agent_city")&&(this.isSelectCity=!0),this.$nextTick(function(){t.$refs.input.focus()}),setTimeout(function(){t.newAgentCity=window.sessionStorage.getItem("agent_city")?JSON.parse(window.sessionStorage.getItem("agent_city")):t.currentCity,t.currentCityData=window.localStorage.getItem("current_city")?JSON.parse(window.localStorage.getItem("current_city")):t.currentCity,t.fetchHistory(),t.fetchHots(t.newAgentCity),t.fetchFilters(t.newAgentCity),t.$route.query&&t.$route.query.keyword&&(t.message=t.$route.query.keyword,t.submit(t.message))})},methods:{sensData:function(t){Object(h.l)(t)},showAllSearch:function(){this.serarchPreList=this.serarchPreListPre,this.isShowAll=!0},oninput:function(){""!==this.message&&(this.searching=1)},correlation:function(t){var e=this;this.isSelectCity?this.newAgentCity:this.currentCityData,this.serarchPreList=[],h.b.webGet("/v3/search/correlation",{keyword:t,city_id:this.isSelectCity?this.newAgentCity.city_id:this.currentCityData.city_id,district_id:this.isSelectCity?this.filter.district_id||this.newAgentCity.district_id:this.filter.district_id||this.currentCityData.district_id},function(t){console.log(t),e.serarchPreListPre=t&&t.data&&t.data.data&&t.data.data,e.serarchPreList=e.serarchPreListPre.slice(0,4),e.isShowAll=!1},function(t){console.log(t)})},fetchFilters:function(){var t=d()(c.a.mark(function t(e){var i,s,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={},(i=this.isSelectCity?this.newAgentCity:this.currentCityData)||(i=e),console.log(i),this.filters=[],t.next=7,h.b.get("/v3/filter",{typeid:6,city_id:i.city_id});case 7:s=t.sent,r=s.data,this.filters=r.filters;case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),scrollFixed:function(t){this.isfix2=!0},close2:function(){this.isfix2=!1,this.isfix=!1,setTimeout(function(){document.documentElement.scrollTop=589},1)},closeFilter:function(){this.isfix2=!1,setTimeout(function(){document.documentElement.scrollTop=589},1)},fetchShop:function(t){var e=this;"filter"===t&&(this.isRecommend=!1,this.finished=!1,this.shopList=[]),this.loading=!0;var i=localStorage.getItem("lng"),s=localStorage.getItem("lat");h.b.webGet("/v3/search",r()({},this.filter,{offset:this.shopList.length,city_id:this.isSelectCity?this.newAgentCity.city_id:this.currentCityData.city_id,district_id:this.isSelectCity?this.filter.district_id||this.newAgentCity.district_id:this.filter.district_id||this.currentCityData.district_id,lng:this.lng||this.filter.lng||i||"",lat:this.lat||this.filter.lat||s||"",keyword:this.message}),function(t){e.loading=!1,t.data&&t.data.data&&t.data.data.length>0?(t.data.data.length<10&&(e.finished=!0),e.shopList=e.shopList.concat(t.data.data||[])):(e.isRecommend=!0,t.data.recommend.length<10&&(e.finished=!0),e.shopList=e.shopList.concat(t.data.recommend||[]))},function(t){e.loading=!1,e.finished=!0,e.isRecommend=!0})},onFilter:function(t){t.lng=localStorage.getItem("lng"),t.lat=localStorage.getItem("lat"),this.isfix2=!1,setTimeout(function(){document.documentElement.scrollTop=604},10),this.shopList=[],this.filter=r()({},this.filter,t),this.fetchShop("filter"),this.finished=!1},fetchHots:function(){var t=d()(c.a.mark(function t(){var e,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.b.get("/search/hot");case 2:e=t.sent,i=e.data,200===e.status&&"SUCCESS"===i.code&&(this.hots=this.hots.concat(i.keywords||[]));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),fetchHistory:function(){var t=d()(c.a.mark(function t(){var e,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.b.get("/search/log");case 2:e=t.sent,i=e.data,200===e.status&&"SUCCESS"===i.code&&(this.logs=this.logs.concat(i.keywords||[]),0!=this.logs.length?this.isHistory=!0:this.isHistory=!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),delHistory:function(){var t=d()(c.a.mark(function t(){var e,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.b.delete("/search/log");case 2:e=t.sent,i=e.data,200===e.status&&"SUCCESS"===i.code&&(this.logs=[],this.isHistory=!1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),clearValue:function(){var t=document.querySelector(".search-input");t.value="",t.placeholder="吃货券",this.searching=0,this.message=""},submit:function(){var t=d()(c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e&&(e="吃货券"),this.isRecommend=!1,this.finished=!1,this.shopList=[],localStorage.getItem("lng"),localStorage.getItem("lat"),this.message=e,this.message){t.next=9;break}return t.abrupt("return");case 9:2!==this.searching?(this.searching=2,this.fetchShop("filter")):this.fetchShop("filter");case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},bT7s:function(t,e,i){t.exports=i.p+"img/credit_card.eac05cc.png"},c0vo:function(t,e,i){t.exports=i.p+"img/shop_headbg.f1d6cf2.png"},f0Ur:function(t,e,i){"use strict";var s=i("EoCj"),r=i("w9w+"),a=!1;var o=function(t){a||i("i8la")},n=i("VU/8")(s.a,r.a,!1,o,"data-v-502cdb8b",null);n.options.__file="components/Base/Filter.vue",e.a=n.exports},hb8N:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"relative"},[i("div",{staticStyle:{height:"100vh"},attrs:{id:"parent"}},[i("div",{staticClass:"bg-white flex-wrp flex-align-center border-b"},[i("div",{staticClass:"mtb15 ml30 flex-item flex-wrp flex-center border-radius30 mr10 relative color5 search-box"},[i("i",{staticClass:"i-search-o color44 mlr10"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],ref:"input",staticClass:" color81 border-radius30 size28 mr10 pl5  ptb15 nbr w80 search-input",attrs:{type:"search",onblur:"this.placeholder='吃货券'",placeholder:"吃货券"},domProps:{value:t.message},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(t.message)},input:[function(e){e.target.composing||(t.message=e.target.value)},t.oninput]}}),t.message?i("i",{staticClass:"iconfont icon-delete color58 size30",on:{click:t.clearValue}}):t._e()]),i("div",{staticClass:"color3 size26 ptb5 plr20 border-radius30 mr20 relative-top5",on:{click:function(e){return t.submit(t.message)}}},[t._v("搜索")])]),0===t.searching?i("div",[t.isHistory?i("div",{staticClass:"border-b"},[i("div",{staticClass:"flex-wrp flex-between plr20 pt25 pb20 bg-white color5"},[i("div",{staticClass:"size26"},[t._v("最近搜索")]),i("i",{staticClass:"i-del",on:{click:t.delHistory}})]),i("div",{staticClass:"flex-wrp flex-flow-row plr20 pb20 bg-white color37"},t._l(t.logs,function(e,s){return i("div",{key:s,staticClass:"border border-radius10 pd15 mr25 color37 size22 mb20 bgcolor",on:{click:function(i){return t.submit(e)}}},[t._v(t._s(e)+"\n          ")])}),0)]):t._e(),t.isHot?i("div",{staticClass:"border-b"},[t._m(0),i("div",{staticClass:"flex-wrp flex-flow-row plr20 pb20 bg-white color37"},t._l(t.hots,function(e,s){return i("div",{key:s,staticClass:"border pd15 border-radius10 mr25 size22 mb20  bgcolor",on:{click:function(i){return t.submit(e)}}},[t._v(t._s(e)+"\n          ")])}),0)]):t._e(),i("div",{staticClass:"color44 size24 bg-white pd20"},[t._v("小提示：如检索不到所搜产品，可查看以上热门")])]):t._e(),1===t.searching?i("div",{staticClass:"w100 bg-white"},[t.serarchPreList&&t.serarchPreList.length>0?i("div",[t._l(t.serarchPreList,function(e,s){return i("div",{key:s,staticClass:"w92 line88 flex-wrp flex-between border-bottom",on:{click:function(i){return t.submit(e.keyword)}}},[i("div",{staticClass:"color37 size24 flex-wrp flex-center"},[i("i",{staticClass:"i-search-o color44 size32 mr10"}),t._v(t._s(e.keyword))]),i("div",{staticClass:"color44 size22"},[t._v("约"+t._s(e.result_num)+"个结果")])])}),t.serarchPreListPre.length>4&&!t.isShowAll?i("div",{staticClass:"pt20 pb20 flex-wrp flex-center"},[i("van-button",{staticClass:"color44 size24 br20 showAll",attrs:{type:"default"},on:{click:function(e){return t.showAllSearch()}}},[t._v("查看更多 "),i("i",{staticClass:"i-arrow-down-o"})])],1):t._e()],2):i("div",{staticClass:"w92 line88 flex-wrp flex-between border-bottom",on:{click:function(e){return t.submit(t.message)}}},[i("div",{staticClass:"color37 size24 flex-wrp flex-center"},[i("i",{staticClass:"i-search-o color44 size32 mr10"}),t._v("搜索“"+t._s(t.message)+"”")])])]):t._e(),2===t.searching?i("div",[i("div",{staticClass:"w100 bg-gray1",class:{fil2:t.isfix2},staticStyle:{"min-height":"80vh"}},[t.filters?i("base-filter",{staticClass:"border-b filter2 w100",class:{fil:t.isfix},staticStyle:{"border-bottom":"1px solid #ddd"},attrs:{showConvenient:!0,filters:t.filters,filter:t.filter,cityInfo:t.isSelectCity?t.newAgentCity:t.currentCityData},on:{filter:t.onFilter,closeFilter:t.closeFilter,scrollFixed:t.scrollFixed}}):t._e(),t.isRecommend?i("div",{staticClass:"pl30 pt30 pb30 bgfba"},[t._m(1),t.shopList.length>0?i("div",{staticClass:"size24 colory pl30 pt10"},[t._v(" 为您推荐与“"+t._s(t.message)+"”相关的其他优惠")]):t._e(),t.shopList.length>0?i("div",{staticClass:"size26 pt20 color5"},[t._v("更多优惠")]):t._e()]):t._e(),i("van-list",{ref:"vanlist",staticClass:"bgGray",attrs:{finished:t.finished,"finished-text":""},on:{load:t.fetchShop},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._l(t.shopList,function(t,e){return i("search-list",{key:e,staticClass:"bg-white border-b",attrs:{shop:t}})}),t.shopList.length>0&&t.finished?i("div",[i("no-more")],1):t._e()],2)],1)]):t._e()]),i("nuxt-child",{staticClass:"child"})],1)};s._withStripped=!0;var r={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-wrp flex-between plr20 ptb20 bg-white color5"},[e("div",{staticClass:"size26"},[this._v("热门搜索")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"size30 colory flex-wrp align-center"},[e("span",{staticClass:"warn size22"},[this._v("!")]),this._v(" 暂时没有找到相关信息")])}]};e.a=r},hckF:function(t,e,i){var s=i("FP5E");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("b9eca8a8",s,!1,{sourceMap:!1})},i8la:function(t,e,i){var s=i("DFfH");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);i("rjj0")("6bcf1ea5",s,!1,{sourceMap:!1})},kQ8b:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg-grey pb20",on:{click:function(e){return t.goShop()}}},[i("div",{staticClass:"pl20 pt30 pb20 flex-wrp flex-start bg-white"},[t.shop.is_foodie_festival?i("fd-icon"):t._e(),i("div",{staticClass:"shop-thumb border"},[i("img",{attrs:{src:t.shop.thumb?t.shop.thumb:"~assets/images/load.png"}})]),i("div",{staticClass:"flex-item flex-wrp flex-cell pr30 mh180 pb20",class:{"border-b":t.shop.is_foodie_festival||t.shop_couponPre.length>0}},[i("div",{staticClass:"size34 font-Medium compulsory-row-one lh48 color37"},[t._v(t._s(t.shop.title))]),i("div",{staticClass:"solded-label mt10"},[t._v("累计已售"+t._s(t.shop.saled_count))]),i("div",{staticClass:"flex-wrp flex-align-center flex-between color5 mt10"},[i("div",{staticClass:"size26 lh36 compulsory-row-one flex-item"},[t.shop.category?i("label",{staticClass:"mr10"},[t._v(t._s(t.shop.category))]):t._e(),t._v(t._s(t.shop.business?t.shop.business:t.shop.district))]),t.shop.distance?i("div",{staticClass:"size26 font-Medium lh36"},[t._v(t._s(t.shop.distance.number)+t._s(t.shop.distance.unit))]):t._e()]),t.shop.specials?i("div",{staticClass:"flex-wrp flex-align-center flex-flow-row"},t._l(t.shop.specials.slice(0,3),function(e,s){return i("div",{key:s,staticClass:"shop-tag mt10"},[t._v(t._s(t._f("wordFive")(e)))])}),0):t._e()])],1),t.shop.is_foodie_festival||t.shop_couponPre.length>0?i("div",{staticClass:"flex-wrp flex-start plr20 bg-white"},[i("div",{staticClass:"width-200 flex-wrp flex-bottom mr20"},[t.shop.is_foodie_festival?i("credit-icon"):t._e()],1),i("div",{staticClass:"flex-item flex-wrp flex-cell pb20"},t._l(t.shop_couponPre||[],function(e,s){return i("div",{key:s,staticClass:"w100 flex-wrp flex-align-center"},["0"===e.commodity_type?i("i",{staticClass:"z z-icon-test1 linear mr10 size34"}):i("i",{staticClass:"z z-quan linear1 mr10 size34"}),i("label",{staticClass:"size24 color44 flex-item ml20 compulsory-row-one"},[t._v(t._s(e.name))])])}),0)]):t._e()])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},"qI+u":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("aSZm"),r=i("hb8N"),a=!1;var o=function(t){a||i("hckF")},n=i("VU/8")(s.a,r.a,!1,o,"data-v-76d3095c",null);n.options.__file="pages/search/shopSearch.vue",e.default=n.exports},"w9w+":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg-white"},[(t.expend.length>0||t.isshow)&&t.show?i("div",{staticClass:"mask",on:{click:t.close,touchmove:function(t){t.preventDefault()}}}):t._e(),t.filters.length>0?i("div",{staticClass:"bg-white flex-wrp relative ptb10 w100",class:[(t.expend.length>0||t.isshow)&&t.show?"fixed-top":""]},t._l(t.filters,function(e,s){return i("div",{staticClass:"flex-item flex-wrp ptb10 flex-center filter-cate",class:{"cate-active":t.category_id==s},on:{click:function(i){t.showFilter(e,0,s),t.onFetch(s)}}},[i("div",{staticClass:"size26 text-center compulsory-row-one w100 flex-wrp flex-align-center"},[t._v("\n        "+t._s(t.label[s])+"\n        "),t.isshow?[t.fexpend.length>0&&t.fexpend[0].key===e.key?i("i",{staticClass:"i i-arrow-down color3 size22 pl5",class:t.show?"rotate180":""}):i("i",{staticClass:"i i-arrow-down size22 pl5",class:t.category_id==s?"color3":"color5"})]:[t.expend.length>0&&t.expend[0].key===e.key?i("i",{staticClass:"i i-arrow-down color3 size22 pl5",class:t.show?"rotate180":""}):i("i",{staticClass:"i i-arrow-down size22 pl5",class:t.category_id==s?"color3":"color5"})]],2)])}),0):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showConvenient,expression:"showConvenient"}],staticClass:"convenient-box"},t._l(t.conFilters,function(e,s){return i("div",{key:s,staticClass:"convenient-filter",class:[e.value===t.conFilter.value&&e.key===t.conFilter.key?"convenient-filter-active":""],on:{click:function(i){return i.target!==i.currentTarget?null:t.convenientFilter(e)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])}),0),t.expend.length>0&&t.show?i("div",{staticClass:"filter-wrap relative overflow-auto-y w100",staticStyle:{height:"368px",position:"fixed","z-index":"1002",top:"37px"},attrs:{id:"expendList"}},[i("div",{staticClass:"flex-wrp bg-white size26 w100 filter-box"},t._l(t.expend,function(e,s){return i("div",{key:s,staticClass:"flex-item",class:{"bg-grey":s+1<t.expend.length}},t._l(e.items,function(e){return i("div",{staticClass:"flex-wrp flex-align-center pd30",class:{color3:t.filter[e.key]&&t.filter[e.key]===e.value&&!t.conFilter,"bg-white":t.expend.length>s+1&&e.value===t.expend[s+1].value},on:{click:function(i){return t.showFilter(e,s+1)}}},[i("span",{staticClass:"flex-item"},[t._v(t._s(e.label))]),e.items?i("i",{staticClass:"i i-arrow-right-o size24 color4"}):t._e()])}),0)}),0)]):t._e(),t.isshow?i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"filter-box-comix weui-animate-fade-in",staticStyle:{"z-index":"1000"}},[i("div",{staticClass:"bg-white size26 w100"},[t._l(t.fexpend[0].items,function(e,s){return i("div",{key:s,staticClass:"pl30"},[i("div",{staticClass:"ptb15 size22 color44"},[t._v(t._s(e.label))]),i("div",{staticClass:"flex-wrp flex-flow-row width96"},t._l(e.items,function(e,s){return i("span",{staticClass:"flex-wrp flex-center pl20 pr20 mb15 mr10 dish width160",class:e.checked?"ischeck":"nocheck"},[i("label",{staticClass:"size26"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"n.checked"}],attrs:{type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(e.checked)?t._i(e.checked,e.value)>-1:e.checked},on:{change:function(i){var s=e.checked,r=i.target,a=!!r.checked;if(Array.isArray(s)){var o=e.value,n=t._i(s,o);r.checked?n<0&&t.$set(e,"checked",s.concat([o])):n>-1&&t.$set(e,"checked",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(e,"checked",a)}}}),t._v(t._s(e.label))])])}),0)])}),i("div",{staticClass:"flex-wrp flex-between mt15 plr30 w100 bordertop1"},[i("div",{staticClass:"width50 height80 lineheight80 textcenter",on:{click:function(e){return t.complexFilter("reset")}}},[t._v("重置")]),i("div",{staticClass:"width50 height80 lineheight80 textcenter color3 borderleft1",on:{click:function(e){return t.complexFilter("submit")}}},[t._v("完成")])])],2)]):t._e()])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},yloH:function(t,e,i){"use strict";var s=i("AxcK"),r=i("ORG2"),a=!1;var o=function(t){a||i("3PSL")},n=i("VU/8")(s.a,r.a,!1,o,"data-v-366f9b00",null);n.options.__file="components/FoodDay/AcIcon7.vue",e.a=n.exports}});