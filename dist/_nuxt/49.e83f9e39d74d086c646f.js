webpackJsonp([49],{"+J53":function(e,t,n){"use strict";var a=n("CHyu");t.a={props:{modal:{default:!0},showClose:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},inputType:{type:String,default:"text"},boxType:{type:String,default:""},confirmButtonText:{type:String,default:"确定"},cancelButtonText:{type:String,default:"取消"}},created:function(){},computed:{confirmButtonClasses:function(){var e="msgbox-btn msgbox-confirm";return this.confirmButtonClass&&"undefined"!==this.confirmButtonClass&&(e+=" "+this.confirmButtonClass),this.confirmButtonHighlight&&(e+=" msgbox-confirm-highlight"),e},cancelButtonClasses:function(){var e="msgbox-btn msgbox-cancel";return this.cancelButtonClass&&"undefined"!==this.cancelButtonClass&&(e+=" "+this.cancelButtonClass),this.cancelButtonHighlight&&(e+=" msgbox-cancel-highlight"),e}},methods:{doClose:function(){var e=this;this.value=!1,this._closing=!0,this.onClose&&this.onClose(),setTimeout(function(){e.modal&&"hidden"!==e.bodyOverflow&&(document.body.style.overflow=e.bodyOverflow,document.body.style.paddingRight=e.bodyPaddingRight),e.bodyOverflow=null,e.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},handle:function(){this.value=!1},handleAction:function(e){if("prompt"!==this.$type||"confirm"!==e||this.validate()){var t=this.callback;this.value=!1,t(e),a.a.backBtn()}},validate:function(){if("prompt"===this.$type){var e=this.inputPattern;if(e&&!e.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;var t=this.inputValidator;if("function"==typeof t){var n=t(this.inputValue);if(!1===n)return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",this.$refs.input.classList.add("invalid"),!1;if("string"==typeof n)return this.editorErrorMessage=n,!1}}return this.editorErrorMessage="",this.$refs.input.classList.remove("invalid"),!0},handleInputType:function(e){"range"!==e&&this.$refs.input&&(this.$refs.input.type=e)}},watch:{inputValue:function(){"prompt"===this.$type&&this.validate()},value:function(e){var t=this;this.handleInputType(this.inputType),e&&"prompt"===this.$type&&setTimeout(function(){t.$refs.input&&t.$refs.input.focus()},500)},inputType:function(e){this.handleInputType(e)}},data:function(){return{value:!1,title:"",message:"",code:"",type:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,showCloseButton:!0,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null}}}},"6Eu7":function(e,t,n){e.exports=n.p+"img/line.520d7e2.png"},"7l8o":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cancellation-container overflow-hidden"},[n("div",{staticClass:"cancellation-tab flex-wrp flex-middle"},[n("span",{class:{active:1==e.tab},on:{click:function(t){return e.onTab(1)}}},[e._v("扫码核销")]),n("span",{class:{active:2==e.tab},on:{click:function(t){return e.onTab(2)}}},[e._v("手动核销")])]),n("div",{staticClass:"cancellation-main"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==e.tab,expression:"tab==1"}],staticClass:"scan",on:{click:e.scanBtn}}),n("div",{directives:[{name:"show",rawName:"v-show",value:2==e.tab,expression:"tab==2"}],staticClass:"hand-cancellation"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user_cancell,expression:"user_cancell"}],staticClass:"user-cancellation",attrs:{type:"text",placeholder:"请输入用户的核销码"},domProps:{value:e.user_cancell},on:{input:function(t){t.target.composing||(e.user_cancell=t.target.value)}}}),n("button",{staticClass:"confirm-btn",on:{click:e.queryBtn}},[e._v("提交")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isshow,expression:"isshow"}],staticClass:"mask"},[n("div",{staticClass:"bg-white mask-tip"},[n("div",{staticClass:"size36 color37 wenxin"},[e._v("温馨提示")]),n("div",{staticClass:"size32 color5"},[e._v("请输入核销码")]),n("button",{on:{click:e.onConfirm}},[e._v("确定")])])])])};a._withStripped=!0;var o={render:a,staticRenderFns:[]};t.a=o},AVSK:function(e,t,n){var a=n("t0+h");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("38037816",a,!1,{sourceMap:!1})},CHyu:function(e,t,n){"use strict";var a,o,i=n("pFYg"),s=n.n(i),r=n("//Fk"),c=n.n(r),l=n("/5sW"),d=n("Eurh"),u={title:"温馨提示",message:"",code:"",type:"",showInput:!1,showClose:!0,modalFade:!1,lockScroll:!1,closeOnClickModal:!0,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"",cancelButtonClass:"",boxType:""},m=function(e){for(var t=1,n=arguments.length;t<n;t++){var a=arguments[t];for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];void 0!==i&&(e[o]=i)}}return e},f=l.default.extend(d.a),p=[],h=function(e){if(a){var t=a.callback;if("function"==typeof t&&(o.showInput?t(o.inputValue,e):t(e)),a.resolve){var n=a.options.$type;"confirm"===n||"prompt"===n?"confirm"===e?o.showInput?a.resolve({value:o.inputValue,action:e}):a.resolve(e):"cancel"===e&&a.reject&&a.reject(e):a.resolve(e)}}},v=function(){if(o||function(){(a=p[0]).options;(o=new f({el:document.createElement("div")})).callback=h}(),(!o.value||o.closeTimer)&&p.length>0){var e=(a=p.shift()).options;for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);void 0===e.callback&&(o.callback=h),["modal","showClose","closeOnClickModal","closeOnPressEscape"].forEach(function(e){void 0===o[e]&&(o[e]=!0)}),document.getElementById("__layout").childNodes[0].appendChild(o.$el),l.default.nextTick(function(){o.value=!0})}},g=function(){console.log("测试"),b.close()},b=function e(t,n){if(document.addEventListener("backbutton",g,!0),"string"==typeof t?(t={title:t},arguments[1]&&(t.message=arguments[1]),arguments[2]&&(t.type=arguments[2])):t.callback&&!n&&(n=t.callback),void 0!==c.a)return new c.a(function(a,o){p.push({options:m({},u,e.defaults||{},t),callback:n,resolve:a,reject:o}),v()});p.push({options:m({},u,e.defaults||{},t),callback:n}),v()};b.setDefaults=function(e){b.defaults=e},b.alert=function(e,t,n){return"object"===(void 0===t?"undefined":s()(t))&&(n=t,t=""),b(m({title:t,message:e,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},b.confirm=function(e,t,n){return"object"===(void 0===t?"undefined":s()(t))&&(n=t,t=""),b(m({title:t,message:e,$type:"confirm",showCancelButton:!0},n))},b.prompt=function(e,t,n){return"object"===(void 0===t?"undefined":s()(t))&&(n=t,t=""),b(m({title:t,message:e,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},b.close=function(){document.removeEventListener("backbutton",g,!0),o&&(o.value=!1,p=[],a=null)},b.backBtn=function(){document.removeEventListener("backbutton",g,!0)},t.a=b},ECDm:function(e,t,n){e.exports=n.p+"img/erweim.32dca00.png"},Eurh:function(e,t,n){"use strict";var a=n("+J53"),o=n("Ye+a"),i=!1;var s=function(e){i||n("AVSK")},r=n("VU/8")(a.a,o.a,!1,s,"data-v-43e1d73a",null);r.options.__file="components/MessageBox/ZyMessageBox.vue",t.a=r.exports},"Hk6/":function(e,t,n){var a=n("kxFB");(e.exports=n("FZ+f")(!1)).push([e.i,".cancellation-container[data-v-4f169edf]{width:100%;height:100%}.cancellation-main[data-v-4f169edf]{position:absolute;left:0;right:0;top:4.0625rem;bottom:0;background-color:#fff}.cancellation-main .scan[data-v-4f169edf]{width:15.375rem;height:15.65625rem;background:url("+a(n("ECDm"))+") no-repeat 50%;background-size:100% 100%;margin:6.25rem auto 0}.cancellation-tab[data-v-4f169edf]{height:4.0625rem;line-height:4.0625rem}.cancellation-tab span[data-v-4f169edf]{font-size:1.125rem;color:#333;padding:0 1.34375rem}.active[data-v-4f169edf]{font-weight:700;background:url("+a(n("6Eu7"))+") no-repeat center 2.34375rem;background-size:4.5rem .375rem}.hand-cancellation[data-v-4f169edf]{width:100%;padding:0 .78125rem}.user-cancellation[data-v-4f169edf]{width:95%;height:3rem;display:block;font-size:.875rem;padding-left:1.25rem;background:#fff;outline:none;-moz-appearance:none;appearance:none;-webkit-appearance:none;border:none;border:.03125rem solid #ccc;border-radius:.3125rem;margin:2.1875rem auto 1.875rem;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.confirm-btn[data-v-4f169edf]{width:95%;height:2.6875rem;display:block;border:none;font-size:1.125rem;color:#fff;background:#f56d23;border-radius:.3125rem;letter-spacing:.1875rem;margin:auto}.mask-tip[data-v-4f169edf]{width:18.75rem;height:10.125rem;border:.03125rem solid #999;border-radius:.5rem;position:absolute;left:0;top:0;right:0;bottom:0;margin:auto;text-align:center}.mask-tip .wenxin[data-v-4f169edf]{padding-top:1rem;padding-bottom:1.15625rem}.mask-tip button[data-v-4f169edf]{width:8.125rem;height:2.1875rem;display:block;border:none;background:#f56d23;border-radius:.25rem;color:#fff;font-size:1rem;letter-spacing:.1875rem;margin:1.34375rem auto 0}",""])},VJkB:function(e,t,n){var a=n("Hk6/");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("e7edd89e",a,!1,{sourceMap:!1})},"Ye+a":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"msgbox",attrs:{id:"msgbox"}},[n("transition",{attrs:{name:"msgbox-bounce"}},[n("div",{staticClass:"zy-msgbox"},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.showCloseButton,expression:"showCloseButton"}],staticClass:"msgbox-can",on:{click:function(t){return e.handle()}}},[n("i",{staticClass:"iconfont icon-cha"})]),""!==e.title?n("div",{staticClass:"msgbox-header"},[n("div",{staticClass:"msgbox-title size36"},[e._v(e._s(e.title))])]):e._e(),""!==e.message?n("div",{staticClass:"msgbox-content msg-content"},[n("div",{staticClass:"msgbox-message size32",domProps:{innerHTML:e._s(e.message)}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"msgbox-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],ref:"input",attrs:{placeholder:e.inputPlaceholder},domProps:{value:e.inputValue},on:{input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),n("div",{staticClass:"msgbox-errormsg",style:{visibility:e.editorErrorMessage?"visible":"hidden"}},[e._v(e._s(e.editorErrorMessage))])])]):e._e(),e.code?n("div",{staticClass:"msgbox-code size20"},[n("p",[e._v("错误代码："+e._s(e.code))])]):n("div",{staticClass:"msgbox-code size20"}),"new"===e.boxType?n("div",{staticClass:"msgbox-btns-new pl30 pr30 mb30 pt20"},[n("div",{staticClass:"w100 text-center mt44 flex-wrp",class:e.showCancelButton?"flex-align-center flex-between":"flex-center"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCancelButton,expression:"showCancelButton"}],staticClass:"message-btn-cancle",on:{click:function(t){return t.stopPropagation(),e.handleAction("cancel")}}},[e._v(e._s(e.cancelButtonText))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],staticClass:"message-btn-confirm",on:{click:function(t){return t.stopPropagation(),e.handleAction("confirm")}}},[e._v(e._s(e.confirmButtonText))])])]):n("div",{staticClass:"msgbox-btns"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.showCancelButton,expression:"showCancelButton"}],staticClass:"size28",class:[e.cancelButtonClasses],on:{click:function(t){return e.handleAction("cancel")}}},[e._v(e._s(e.cancelButtonText))]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],staticClass:"size28",class:[e.confirmButtonClasses],on:{click:function(t){return e.handleAction("confirm")}}},[e._v(e._s(e.confirmButtonText))])])])])],1)};a._withStripped=!0;var o={render:a,staticRenderFns:[]};t.a=o},Z8T5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("l9ho"),o=n("7l8o"),i=!1;var s=function(e){i||n("VJkB")},r=n("VU/8")(a.a,o.a,!1,s,"data-v-4f169edf",null);r.options.__file="pages/user/merchant/cancellation.vue",t.default=r.exports},l9ho:function(e,t,n){"use strict";var a=n("Xxa5"),o=n.n(a),i=n("exGp"),s=n.n(i),r=n("DHvs"),c=n("Fd2+"),l=n("CHyu");t.a={data:function(){return{tab:1,user_cancell:"",isshow:!1}},head:function(){return{title:"核销"}},components:{ZyMessageBox:l.a,Dialog:c.c},methods:{scanBtn:function(){var e=s()(o.a.mark(function e(){var t,n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(r.i)()){e.next=9;break}return e.next=3,r.o.scanQRCode({needResult:1});case 3:t=e.sent,n=t.resultStr,a=n,this.$router.replace({path:"/user_merchant_cancellationInfo",query:{code:a}}),e.next=10;break;case 9:Object(r.d)()?window.demo&&window.demo.openScanView():Object(r.e)()&&(window.location.href="objc://openScanView/");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onTab:function(e){this.tab=e},onConfirm:function(){this.isshow=!1},queryBtn:function(){""!==this.user_cancell?this.$router.replace({path:"/user_merchant_cancellationInfo",query:{code:this.user_cancell}}):this.isshow=!0}},mounted:function(){var e=this;window.scanViewForResponse=function(t){var n=t;e.$router.replace({path:"/user_merchant_cancellationInfo",query:{code:n}})}}}},"t0+h":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,".msgbox[data-v-43e1d73a]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:99999999}.zy-msgbox[data-v-43e1d73a]{position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);background-color:#fff;width:85%;border-radius:.25rem;font-size:.5rem;overflow:hidden;-webkit-transition:.2s;transition:.2s}.msgbox-header[data-v-43e1d73a]{margin-top:1.5625rem;text-align:center}.msgbox-title[data-v-43e1d73a]{font-size:.5625rem}.msgbox-content[data-v-43e1d73a]{margin:.46875rem 1.5625rem 1.5625rem;text-align:center;color:#595758;font-size:.375rem}.msgbox-code[data-v-43e1d73a]{width:100%;color:#999;font-size:.75rem;text-align:right;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .15rem 0 0;display:inline-block}.msgbox-code p[data-v-43e1d73a]{width:67%;float:right;text-overflow:ellipsis;overflow:hidden;height:1.375rem;word-wrap:break-word;white-space:nowrap;padding-right:.3125rem;margin-bottom:0}.msgbox-message[data-v-43e1d73a]{font-size:.4375rem;padding:.9375rem .9375rem 0}.msg-content[data-v-43e1d73a]{margin:.3rem 0 .2rem}.iconfont.icon-cha[data-v-43e1d73a]{font-size:.4375rem}.msgbox-btns[data-v-43e1d73a]{border-top:.0625rem solid #eee}.msgbox-btns-new[data-v-43e1d73a],.msgbox-btns[data-v-43e1d73a]{line-height:2.5rem;text-align:center}.msgbox-btn[data-v-43e1d73a]{color:#666;background:#fff;border:0}.msgbox-can[data-v-43e1d73a]{position:absolute;width:.5rem;height:.5rem;right:0;top:0;text-align:center;color:#999;font-size:.4375rem;margin:.15625rem .3125rem .28125rem}.msgbox-input[data-v-43e1d73a]{padding-top:.46875rem;border:.03125rem solid #dedede;border-radius:.15625rem;padding:.125rem .15625rem;width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none}.msgbox-input[data-v-43e1d73a]:focus,.msgbox-input[data-v-43e1d73a]:invalid{border-color:#ff4949}.msgbox-confirm[data-v-43e1d73a]{width:49%}.msgbox-confirm[data-v-43e1d73a]:active{color:#26a2ff}.msgbox-cancel[data-v-43e1d73a]{color:#666;width:48.9%;border-right:.03125rem solid #ddd}.msgbox-cancel[data-v-43e1d73a]:active{color:#000}.msgbox-bounce-enter[data-v-43e1d73a]{opacity:0;-webkit-transform:translate3d(-50%,-50%,0) scale(.7);transform:translate3d(-50%,-50%,0) scale(.7)}.msgbox-bounce-leave-active[data-v-43e1d73a]{opacity:0;-webkit-transform:translate3d(-50%,-50%,0) scale(.9);transform:translate3d(-50%,-50%,0) scale(.9)}.message-btn-confirm[data-v-43e1d73a]{background:#f56d23;border-radius:.25rem;color:#fff}.message-btn-cancle[data-v-43e1d73a],.message-btn-confirm[data-v-43e1d73a]{height:2.1875rem;line-height:2.1875rem;font-size:1rem;letter-spacing:.1875rem;text-align:center;width:8.125rem}.message-btn-cancle[data-v-43e1d73a]{background:#fff;border:.03125rem solid #f56d23;border-radius:.25rem;color:#f56d23}",""])}});